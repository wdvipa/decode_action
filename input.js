/*! For license information please see app.32477de56f630dec5a98.js.LICENSE.txt */(function() {var __webpack_modules__ = {47499: function(t) {"use strict";function e() {return e = Object.assign ? Object.assign.bind() : function(t) {for (var e, r = 1; r < arguments.length; r++)for (var n in e = arguments[r])Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);return t},e.apply(this, arguments)}var r = ["attrs", "props", "domProps"], n = ["class", "style", "directives"], i = ["on", "nativeOn"], o = function(t, e) {return function() {t && t.apply(this, arguments),e && e.apply(this, arguments)}};t.exports = function(t) {return t.reduce((function(t, s) {for (var a in s)if (t[a])if (-1 !== r.indexOf(a))t[a] = e({}, t[a], s[a]);else if (-1 !== n.indexOf(a)) {var c = t[a]instanceof Array ? t[a] : [t[a]], u = s[a]instanceof Array ? s[a] : [s[a]];t[a] = [].concat(c, u)} else if (-1 !== i.indexOf(a))for (var l in s[a])if (t[a][l]) {var d = t[a][l]instanceof Array ? t[a][l] : [t[a][l]], f = s[a][l]instanceof Array ? s[a][l] : [s[a][l]];t[a][l] = [].concat(d, f)} elset[a][l] = s[a][l];else if ("hook" === a)for (var h in s[a])t[a][h] = t[a][h] ? o(t[a][h], s[a][h]) : s[a][h];elset[a] = s[a];elset[a] = s[a];return t}), {})}},72505: function(t, e, r) {t.exports = r(18015)},35592: function(t, e, r) {"use strict";var n = r(9516), i = r(7522), o = r(33948), s = r(79106), a = r(99615), c = r(62012), u = r(64202), l = r(47763);t.exports = function(t) {return new Promise((function(e, r) {var d = t.data, f = t.headers, h = t.responseType;n.isFormData(d) && delete f["Content-Type"];var p = new XMLHttpRequest;if (t.auth) {var g = t.auth.username || "", m = t.auth.password ? unescape(encodeURIComponent(t.auth.password)) : "";f.Authorization = "Basic " + btoa(g + ":" + m)}var v = a(t.baseURL, t.url);function y() {if (p) {var n = "getAllResponseHeaders"in p ? c(p.getAllResponseHeaders()) : null, o = {data: h && "text" !== h && "json" !== h ? p.response : p.responseText,status: p.status,statusText: p.statusText,headers: n,config: t,request: p};i(e, r, o),p = null}}if (p.open(t.method.toUpperCase(), s(v, t.params, t.paramsSerializer), !0),p.timeout = t.timeout,"onloadend"in p ? p.onloadend = y : p.onreadystatechange = function() {p && 4 === p.readyState && (0 !== p.status || p.responseURL && 0 === p.responseURL.indexOf("file:")) && setTimeout(y)},p.onabort = function() {p && (r(l("Request aborted", t, "ECONNABORTED", p)),p = null)},p.onerror = function() {r(l("Network Error", t, null, p)),p = null},p.ontimeout = function() {var e = "timeout of " + t.timeout + "ms exceeded";t.timeoutErrorMessage && (e = t.timeoutErrorMessage),r(l(e, t, t.transitional && t.transitional.clarifyTimeoutError ? "ETIMEDOUT" : "ECONNABORTED", p)),p = null},n.isStandardBrowserEnv()) {var _ = (t.withCredentials || u(v)) && t.xsrfCookieName ? o.read(t.xsrfCookieName) : void 0;_ && (f[t.xsrfHeaderName] = _)}"setRequestHeader"in p && n.forEach(f, (function(t, e) {void 0 === d && "content-type" === e.toLowerCase() ? delete f[e] : p.setRequestHeader(e, t)})),n.isUndefined(t.withCredentials) || (p.withCredentials = !!t.withCredentials),h && "json" !== h && (p.responseType = t.responseType),"function" == typeof t.onDownloadProgress && p.addEventListener("progress", t.onDownloadProgress),"function" == typeof t.onUploadProgress && p.upload && p.upload.addEventListener("progress", t.onUploadProgress),t.cancelToken && t.cancelToken.promise.then((function(t) {p && (p.abort(),r(t),p = null)})),d || (d = null),p.send(d)}))}},18015: function(t, e, r) {"use strict";var n = r(9516), i = r(69012), o = r(35155), s = r(85343);function a(t) {var e = new o(t), r = i(o.prototype.request, e);return n.extend(r, o.prototype, e),n.extend(r, e),r}var c = a(r(96987));c.Axios = o,c.create = function(t) {return a(s(c.defaults, t))},c.Cancel = r(31928),c.CancelToken = r(3191),c.isCancel = r(93864),c.all = function(t) {return Promise.all(t)},c.spread = r(17980),c.isAxiosError = r(45019),t.exports = c,t.exports.default = c},31928: function(t) {"use strict";function e(t) {this.message = t}e.prototype.toString = function() {return "Cancel" + (this.message ? ": " + this.message : "")},e.prototype.__CANCEL__ = !0,t.exports = e},3191: function(t, e, r) {"use strict";var n = r(31928);function i(t) {if ("function" != typeof t)throw new TypeError("executor must be a function.");var e;this.promise = new Promise((function(t) {e = t}));var r = this;t((function(t) {r.reason || (r.reason = new n(t),e(r.reason))}))}i.prototype.throwIfRequested = function() {if (this.reason)throw this.reason},i.source = function() {var t;return {token: new i((function(e) {t = e})),cancel: t}},t.exports = i},93864: function(t) {"use strict";t.exports = function(t) {return !(!t || !t.__CANCEL__)}},35155: function(t, e, r) {"use strict";var n = r(9516), i = r(79106), o = r(83471), s = r(64490), a = r(85343), c = r(34841), u = c.validators;function l(t) {this.defaults = t,this.interceptors = {request: new o,response: new o}}l.prototype.request = function(t) {"string" == typeof t ? (t = arguments[1] || {}).url = arguments[0] : t = t || {},(t = a(this.defaults, t)).method ? t.method = t.method.toLowerCase() : this.defaults.method ? t.method = this.defaults.method.toLowerCase() : t.method = "get";var e = t.transitional;void 0 !== e && c.assertOptions(e, {silentJSONParsing: u.transitional(u.boolean, "1.0.0"),forcedJSONParsing: u.transitional(u.boolean, "1.0.0"),clarifyTimeoutError: u.transitional(u.boolean, "1.0.0")}, !1);var r = [], n = !0;this.interceptors.request.forEach((function(e) {"function" == typeof e.runWhen && !1 === e.runWhen(t) || (n = n && e.synchronous,r.unshift(e.fulfilled, e.rejected))}));var i, o = [];if (this.interceptors.response.forEach((function(t) {o.push(t.fulfilled, t.rejected)})),!n) {var l = [s, void 0];for (Array.prototype.unshift.apply(l, r),l = l.concat(o),i = Promise.resolve(t); l.length; )i = i.then(l.shift(), l.shift());return i}for (var d = t; r.length; ) {var f = r.shift(), h = r.shift();try {d = f(d)} catch (t) {h(t);break}}try {i = s(d)} catch (t) {return Promise.reject(t)}for (; o.length; )i = i.then(o.shift(), o.shift());return i},l.prototype.getUri = function(t) {return t = a(this.defaults, t),i(t.url, t.params, t.paramsSerializer).replace(/^\?/, "")},n.forEach(["delete", "get", "head", "options"], (function(t) {l.prototype[t] = function(e, r) {return this.request(a(r || {}, {method: t,url: e,data: (r || {}).data}))}})),n.forEach(["post", "put", "patch"], (function(t) {l.prototype[t] = function(e, r, n) {return this.request(a(n || {}, {method: t,url: e,data: r}))}})),t.exports = l},83471: function(t, e, r) {"use strict";var n = r(9516);function i() {this.handlers = []}i.prototype.use = function(t, e, r) {return this.handlers.push({fulfilled: t,rejected: e,synchronous: !!r && r.synchronous,runWhen: r ? r.runWhen : null}),this.handlers.length - 1},i.prototype.eject = function(t) {this.handlers[t] && (this.handlers[t] = null)},i.prototype.forEach = function(t) {n.forEach(this.handlers, (function(e) {null !== e && t(e)}))},t.exports = i},99615: function(t, e, r) {"use strict";var n = r(29137), i = r(84680);t.exports = function(t, e) {return t && !n(e) ? i(t, e) : e}},47763: function(t, e, r) {"use strict";var n = r(5449);t.exports = function(t, e, r, i, o) {var s = new Error(t);return n(s, e, r, i, o)}},64490: function(t, e, r) {"use strict";var n = r(9516), i = r(82881), o = r(93864), s = r(96987);function a(t) {t.cancelToken && t.cancelToken.throwIfRequested()}t.exports = function(t) {return a(t),t.headers = t.headers || {},t.data = i.call(t, t.data, t.headers, t.transformRequest),t.headers = n.merge(t.headers.common || {}, t.headers[t.method] || {}, t.headers),n.forEach(["delete", "get", "head", "post", "put", "patch", "common"], (function(e) {delete t.headers[e]})),(t.adapter || s.adapter)(t).then((function(e) {return a(t),e.data = i.call(t, e.data, e.headers, t.transformResponse),e}), (function(e) {return o(e) || (a(t),e && e.response && (e.response.data = i.call(t, e.response.data, e.response.headers, t.transformResponse))),Promise.reject(e)}))}},5449: function(t) {"use strict";t.exports = function(t, e, r, n, i) {return t.config = e,r && (t.code = r),t.request = n,t.response = i,t.isAxiosError = !0,t.toJSON = function() {return {message: this.message,name: this.name,description: this.description,number: this.number,fileName: this.fileName,lineNumber: this.lineNumber,columnNumber: this.columnNumber,stack: this.stack,config: this.config,code: this.code}},t}},85343: function(t, e, r) {"use strict";var n = r(9516);t.exports = function(t, e) {e = e || {};var r = {}, i = ["url", "method", "data"], o = ["headers", "auth", "proxy", "params"], s = ["baseURL", "transformRequest", "transformResponse", "paramsSerializer", "timeout", "timeoutMessage", "withCredentials", "adapter", "responseType", "xsrfCookieName", "xsrfHeaderName", "onUploadProgress", "onDownloadProgress", "decompress", "maxContentLength", "maxBodyLength", "maxRedirects", "transport", "httpAgent", "httpsAgent", "cancelToken", "socketPath", "responseEncoding"], a = ["validateStatus"];function c(t, e) {return n.isPlainObject(t) && n.isPlainObject(e) ? n.merge(t, e) : n.isPlainObject(e) ? n.merge({}, e) : n.isArray(e) ? e.slice() : e}function u(i) {n.isUndefined(e[i]) ? n.isUndefined(t[i]) || (r[i] = c(void 0, t[i])) : r[i] = c(t[i], e[i])}n.forEach(i, (function(t) {n.isUndefined(e[t]) || (r[t] = c(void 0, e[t]))})),n.forEach(o, u),n.forEach(s, (function(i) {n.isUndefined(e[i]) ? n.isUndefined(t[i]) || (r[i] = c(void 0, t[i])) : r[i] = c(void 0, e[i])})),n.forEach(a, (function(n) {n in e ? r[n] = c(t[n], e[n]) : n in t && (r[n] = c(void 0, t[n]))}));var l = i.concat(o).concat(s).concat(a), d = Object.keys(t).concat(Object.keys(e)).filter((function(t) {return -1 === l.indexOf(t)}));return n.forEach(d, u),r}},7522: function(t, e, r) {"use strict";var n = r(47763);t.exports = function(t, e, r) {var i = r.config.validateStatus;r.status && i && !i(r.status) ? e(n("Request failed with status code " + r.status, r.config, null, r.request, r)) : t(r)}},82881: function(t, e, r) {"use strict";var n = r(9516), i = r(96987);t.exports = function(t, e, r) {var o = this || i;return n.forEach(r, (function(r) {t = r.call(o, t, e)})),t}},96987: function(t, e, r) {"use strict";var n = r(9516), i = r(7018), o = r(5449), s = {"Content-Type": "application/x-www-form-urlencoded"};function a(t, e) {!n.isUndefined(t) && n.isUndefined(t["Content-Type"]) && (t["Content-Type"] = e)}var c, u = {transitional: {silentJSONParsing: !0,forcedJSONParsing: !0,clarifyTimeoutError: !1},adapter: (("undefined" != typeof XMLHttpRequest || "undefined" != typeof process && "[object process]" === Object.prototype.toString.call(process)) && (c = r(35592)),c),transformRequest: [function(t, e) {return i(e, "Accept"),i(e, "Content-Type"),n.isFormData(t) || n.isArrayBuffer(t) || n.isBuffer(t) || n.isStream(t) || n.isFile(t) || n.isBlob(t) ? t : n.isArrayBufferView(t) ? t.buffer : n.isURLSearchParams(t) ? (a(e, "application/x-www-form-urlencoded;charset=utf-8"),t.toString()) : n.isObject(t) || e && "application/json" === e["Content-Type"] ? (a(e, "application/json"),function(t, e, r) {if (n.isString(t))try {return (e || JSON.parse)(t),n.trim(t)} catch (t) {if ("SyntaxError" !== t.name)throw t}return (r || JSON.stringify)(t)}(t)) : t}],transformResponse: [function(t) {var e = this.transitional, r = e && e.silentJSONParsing, i = e && e.forcedJSONParsing, s = !r && "json" === this.responseType;if (s || i && n.isString(t) && t.length)try {return JSON.parse(t)} catch (t) {if (s) {if ("SyntaxError" === t.name)throw o(t, this, "E_JSON_PARSE");throw t}}return t}],timeout: 0,xsrfCookieName: "XSRF-TOKEN",xsrfHeaderName: "X-XSRF-TOKEN",maxContentLength: -1,maxBodyLength: -1,validateStatus: function(t) {return t >= 200 && t < 300}};u.headers = {common: {Accept: "application/json, text/plain, */*"}},n.forEach(["delete", "get", "head"], (function(t) {u.headers[t] = {}})),n.forEach(["post", "put", "patch"], (function(t) {u.headers[t] = n.merge(s)})),t.exports = u},69012: function(t) {"use strict";t.exports = function(t, e) {return function() {for (var r = new Array(arguments.length), n = 0; n < r.length; n++)r[n] = arguments[n];return t.apply(e, r)}}},79106: function(t, e, r) {"use strict";var n = r(9516);function i(t) {return encodeURIComponent(t).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]")}t.exports = function(t, e, r) {if (!e)return t;var o;if (r)o = r(e);else if (n.isURLSearchParams(e))o = e.toString();else {var s = [];n.forEach(e, (function(t, e) {null != t && (n.isArray(t) ? e += "[]" : t = [t],n.forEach(t, (function(t) {n.isDate(t) ? t = t.toISOString() : n.isObject(t) && (t = JSON.stringify(t)),s.push(i(e) + "=" + i(t))})))})),o = s.join("&")}if (o) {var a = t.indexOf("#");-1 !== a && (t = t.slice(0, a)),t += (-1 === t.indexOf("?") ? "?" : "&") + o}return t}},84680: function(t) {"use strict";t.exports = function(t, e) {return e ? t.replace(/\/+$/, "") + "/" + e.replace(/^\/+/, "") : t}},33948: function(t, e, r) {"use strict";var n = r(9516);t.exports = n.isStandardBrowserEnv() ? {write: function(t, e, r, i, o, s) {var a = [];a.push(t + "=" + encodeURIComponent(e)),n.isNumber(r) && a.push("expires=" + new Date(r).toGMTString()),n.isString(i) && a.push("path=" + i),n.isString(o) && a.push("domain=" + o),!0 === s && a.push("secure"),document.cookie = a.join("; ")},read: function(t) {var e = document.cookie.match(new RegExp("(^|;\\s*)(" + t + ")=([^;]*)"));return e ? decodeURIComponent(e[3]) : null},remove: function(t) {this.write(t, "", Date.now() - 864e5)}} : {write: function() {},read: function() {return null},remove: function() {}}},29137: function(t) {"use strict";t.exports = function(t) {return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},45019: function(t) {"use strict";t.exports = function(t) {return "object" == typeof t && !0 === t.isAxiosError}},64202: function(t, e, r) {"use strict";var n = r(9516);t.exports = n.isStandardBrowserEnv() ? function() {var t, e = /(msie|trident)/i.test(navigator.userAgent), r = document.createElement("a");function i(t) {var n = t;return e && (r.setAttribute("href", n),n = r.href),r.setAttribute("href", n),{href: r.href,protocol: r.protocol ? r.protocol.replace(/:$/, "") : "",host: r.host,search: r.search ? r.search.replace(/^\?/, "") : "",hash: r.hash ? r.hash.replace(/^#/, "") : "",hostname: r.hostname,port: r.port,pathname: "/" === r.pathname.charAt(0) ? r.pathname : "/" + r.pathname}}return t = i(window.location.href),function(e) {var r = n.isString(e) ? i(e) : e;return r.protocol === t.protocol && r.host === t.host}}() : function() {return !0}},7018: function(t, e, r) {"use strict";var n = r(9516);t.exports = function(t, e) {n.forEach(t, (function(r, n) {n !== e && n.toUpperCase() === e.toUpperCase() && (t[e] = r,delete t[n])}))}},62012: function(t, e, r) {"use strict";var n = r(9516), i = ["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"];t.exports = function(t) {var e, r, o, s = {};return t ? (n.forEach(t.split("\n"), (function(t) {if (o = t.indexOf(":"),e = n.trim(t.substr(0, o)).toLowerCase(),r = n.trim(t.substr(o + 1)),e) {if (s[e] && i.indexOf(e) >= 0)return;s[e] = "set-cookie" === e ? (s[e] ? s[e] : []).concat([r]) : s[e] ? s[e] + ", " + r : r}})),s) : s}},17980: function(t) {"use strict";t.exports = function(t) {return function(e) {return t.apply(null, e)}}},34841: function(t, e, r) {"use strict";var n = r(64198), i = {};["object", "boolean", "number", "function", "string", "symbol"].forEach((function(t, e) {i[t] = function(r) {return typeof r === t || "a" + (e < 1 ? "n " : " ") + t}}));var o = {}, s = n.version.split(".");function a(t, e) {for (var r = e ? e.split(".") : s, n = t.split("."), i = 0; i < 3; i++) {if (r[i] > n[i])return !0;if (r[i] < n[i])return !1}return !1}i.transitional = function(t, e, r) {var i = e && a(e);return function(s, a, c) {if (!1 === t)throw new Error(function(t, e) {return "[Axios v" + n.version + "] Transitional option '" + t + "'" + e + (r ? ". " + r : "")}(a, " has been removed in " + e));return i && !o[a] && (o[a] = !0),!t || t(s, a, c)}},t.exports = {isOlderVersion: a,assertOptions: function(t, e, r) {if ("object" != typeof t)throw new TypeError("options must be an object");for (var n = Object.keys(t), i = n.length; i-- > 0; ) {var o = n[i], s = e[o];if (s) {var a = t[o], c = void 0 === a || s(a, o, t);if (!0 !== c)throw new TypeError("option " + o + " must be " + c)} else if (!0 !== r)throw Error("Unknown option " + o)}},validators: i}},9516: function(t, e, r) {"use strict";var n = r(69012), i = Object.prototype.toString;function o(t) {return "[object Array]" === i.call(t)}function s(t) {return void 0 === t}function a(t) {return null !== t && "object" == typeof t}function c(t) {if ("[object Object]" !== i.call(t))return !1;var e = Object.getPrototypeOf(t);return null === e || e === Object.prototype}function u(t) {return "[object Function]" === i.call(t)}function l(t, e) {if (null != t)if ("object" != typeof t && (t = [t]),o(t))for (var r = 0, n = t.length; r < n; r++)e.call(null, t[r], r, t);elsefor (var i in t)Object.prototype.hasOwnProperty.call(t, i) && e.call(null, t[i], i, t)}t.exports = {isArray: o,isArrayBuffer: function(t) {return "[object ArrayBuffer]" === i.call(t)},isBuffer: function(t) {return null !== t && !s(t) && null !== t.constructor && !s(t.constructor) && "function" == typeof t.constructor.isBuffer && t.constructor.isBuffer(t)},isFormData: function(t) {return "undefined" != typeof FormData && t instanceof FormData},isArrayBufferView: function(t) {return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(t) : t && t.buffer && t.buffer instanceof ArrayBuffer},isString: function(t) {return "string" == typeof t},isNumber: function(t) {return "number" == typeof t},isObject: a,isPlainObject: c,isUndefined: s,isDate: function(t) {return "[object Date]" === i.call(t)},isFile: function(t) {return "[object File]" === i.call(t)},isBlob: function(t) {return "[object Blob]" === i.call(t)},isFunction: u,isStream: function(t) {return a(t) && u(t.pipe)},isURLSearchParams: function(t) {return "undefined" != typeof URLSearchParams && t instanceof URLSearchParams},isStandardBrowserEnv: function() {return ("undefined" == typeof navigator || "ReactNative" !== navigator.product && "NativeScript" !== navigator.product && "NS" !== navigator.product) && ("undefined" != typeof window && "undefined" != typeof document)},forEach: l,merge: function t() {var e = {};function r(r, n) {c(e[n]) && c(r) ? e[n] = t(e[n], r) : c(r) ? e[n] = t({}, r) : o(r) ? e[n] = r.slice() : e[n] = r}for (var n = 0, i = arguments.length; n < i; n++)l(arguments[n], r);return e},extend: function(t, e, r) {return l(e, (function(e, i) {t[i] = r && "function" == typeof e ? n(e, r) : e})),t},trim: function(t) {return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")},stripBOM: function(t) {return 65279 === t.charCodeAt(0) && (t = t.slice(1)),t}}},57083: function(t, e, r) {"use strict";r.d(e, {A: function() {return $}});var n = r(3300), i = r(22204), o = r(29544), s = r.n(o), a = r(50697), c = r.n(a), u = r(26100), l = r.n(u), d = r(96319), f = r.n(d), h = r(78928), p = r.n(h), g = r(36751), m = r.n(g), v = r(72505), y = r.n(v), _ = r(61240), b = r.n(_), w = r(93975);var E = y().create({});E.interceptors.request.use((function(t) {return t.headers.accountId = localStorage.getItem("accountId") || "",t.headers = function(t) {return "undefined" === t.userId && (t.userId = ""),"undefined" === t.userToken && (t.userToken = ""),t}(t.headers),t = MiguplayUtils.crypto.formatParams({requestData: t})}), (function(t) {return (0,w.n)(t),b().reject(t)})),E.interceptors.response.use((function(t) {var e, r;return t = MiguplayUtils.crypto.formatParams({responseData: t}),MiguplayUtils.coreUserClientEvent.judgeCoreUser(t),(200 !== t.status || "post" === (null === (e = t.config) || void 0 === e ? void 0 : e.method) && "000000" !== (null === (r = t.data) || void 0 === r ? void 0 : r.returnCode)) && (0,w.n)(t),t}), (function(t) {return (0,w.n)(t),b().reject(t)}));var T = E, S = r(64346);function A(t) {return !!/MicroMessenger/i.test(t)}function I(t) {return !!/Weibo/i.test(t)}function x(t) {return !!/QQ/i.test(t)}var L = r(48590);function k(t, e) {var r = c()(t);if (l()) {var n = l()(t);e && (n = f()(n).call(n, (function(e) {return p()(t, e).enumerable}))),r.push.apply(r, n)}return r}function R(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? k(Object(r), !0).forEach((function(e) {(0,n.A)(t, e, r[e])})) : m() ? Object.defineProperties(t, m()(r)) : k(Object(r)).forEach((function(e) {Object.defineProperty(t, e, p()(r, e))}))}return t}var C, P = S.A.province, D = S.A.testReport, O = S.A.baseURL, M = S.A.MidBaseURL, U = {appType: 8,appChannel: MiguplayUtils.url.getQueryString("appChannel") || MiguplayUtils.url.getQueryString("channel") || "zy-gw-mghy",userId: localStorage.getItem("userId") || 0,userToken: localStorage.getItem("userToken") || 0}, F = {appType: 1,appversion: "1.0.4.3",realAppVersion: "10.2.16",appChannel: MiguplayUtils.url.getQueryString("appChannel") || MiguplayUtils.url.getQueryString("channel") || "zy-gw-mghy",userId: localStorage.getItem("userId") || 0,userToken: localStorage.getItem("userToken") || 0,accountId: localStorage.getItem("accountId") || ""}, N = -1 !== window.navigator.userAgent.indexOf("miguplay"), B = function(t) {try {t || (t = window.navigator.userAgent.toLowerCase() || "")} catch (e) {t = ""}return function(t) {return !!/(Android|webOS|iPhone|iPod|tablet|BlackBerry|Mobile)/i.test(t)}(t) ? function(t) {return !!/iPhone|iPad|iPod/i.test(t)}(t) ? A(t) ? {type: "ios",env: "wechat",masklayer: !0} : I(t) ? {type: "ios",env: "weibo",masklayer: !0} : x(t) ? {type: "ios",env: "qq",masklayer: !0} : {type: "ios"} : function(t) {return !!/Android/i.test(t)}(t) ? A(t) ? {type: "android",env: "wechat",masklayer: !0} : I(t) ? {type: "android",env: "weibo",masklayer: !0} : x(t) ? {type: "android",env: "qq",masklayer: !0} : {type: "android"} : {type: "mobile"} : function(t) {return !!/Mac/i.test(t)}(t) ? {type: "Mac"} : {type: "pc"}}(navigator.userAgent);C = "Mac" == B.type ? 3 : "ios" == B.type ? 2 : 1;var j = {cryptoHeader: function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e = s()(U, t);return window.localStorage.getItem("cryptoUserId") && window.localStorage.getItem("cryptoUserToken") && !N ? R(R({}, e), {}, {userId: window.localStorage.getItem("cryptoUserId"),userToken: window.localStorage.getItem("cryptoUserToken"),headerSign: window.localStorage.getItem("cryptoSign")}) : e},mustCryptoHeader: function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e = s()(U, t);return window.localStorage.getItem("cryptoUserId") && window.localStorage.getItem("cryptoUserToken") ? R(R({}, e), {}, {userId: window.localStorage.getItem("cryptoUserId"),userToken: window.localStorage.getItem("cryptoUserToken"),headerSign: window.localStorage.getItem("cryptoSign")}) : e},updataUserInfo: function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e = s()(U, t);return e.userId = localStorage.getItem("userId") || 0,e.userToken = localStorage.getItem("userToken") || 0,e},getGameDetail: function(t) {var e = O + "distribute/micro/v1.0.5.2/getGameStartParam", r = this.cryptoHeader();return T.post(e, t, {headers: r})},getH5SysParamInfo: function(t) {var e = O + "distribute/mdh5SysParamController/v1.0.5.4/getH5SysParamInfo", r = this.cryptoHeader();return T.post(e, t, {headers: r})},queryChannelInfo: function(t) {var e = O + "distribute/channel/v1.0.5.6/queryChannelInfo", r = this.cryptoHeader();return T.post(e, t.data, {headers: r})},queryDownLoadUrlFromApp: function(t) {var e = O + "member/thirdpay/v1.0.5.8/queryDownLoadUrlFromApp", r = this.cryptoHeader();return T.post(e, t.data, {headers: r})},getIosGuideType: function(t) {var e = O + "h5/system/v1.0.2.6/getIosGuideType", r = this.cryptoHeader();return T.post(e, t, {headers: r})},getToken: function(t) {var e = O + "h5/cToken/v1.0.0.4/getToken", r = this.cryptoHeader();return T.post(e, t, {headers: r})},getUserInfo: function(t) {var e = O + "user/userService/userInfoForH5", r = this.cryptoHeader(t.headers);return r.appType = 9,T.post(e, "", {headers: r})},postJinFenLogin: function(t) {var e = O + "user/userService/createUserLoginInfo";return T.post(e, t.data, {headers: t.headers})},postJinFenEvent: function(t) {var e = O + "h5/bilog/addClientEvent";return T.post(e, t.data, {headers: t.headers})},newJinFenEvent: function(t) {var e = D + "h5ActivityBilog/v1.0.8.7/h5ActivityBehaviorBilog";return T.post(e, t.data, {headers: t.headers})},getDBTime: function() {var t = O + "game/marketingClient/v1.0.0.4/queryDbSysdate";return T.post(t, {})},checkTokenForJXH5: function(t) {return T.get("https://betagame.migufun.com/user/userService/v1.0.4.3/checkTokenForJXH5", {params: t.data})},queryShareInfo: function(t) {var e = O + "user/shareInfo/queryShareInfo", r = this.cryptoHeader();return T.post(e, t, {headers: r})},getUserInfoWithHidePhone: function(t) {var e = O + "h5/userService/1.0.5.2/getUserInfoWithHidePhone", r = this.cryptoHeader(t.headers);return T.post(e, "", {headers: r})},getPatchUserIdByUserId: function(t) {var e = O + "h5/userService/1.0.8.1/getPatchUserIdByUserId", r = this.cryptoHeader(t.headers);return T.post(e, "", {headers: r})},getPageInfo: function(t) {var e = O + "distribute/activity/v1.0.5.5/queryPageInfo", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryCopyWriting: function(t) {var e = O + "game/copywriting/v1.0.4.9/queryCopyWriting", r = this.cryptoHeader();return T.post(e, t.data, {headers: r})},listLotteryRecord: function(t) {var e = O + "distribute/activityPrize/v1.0.5.2/listLotteryRecord", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getNineSquareFloor: function(t) {var e = O + "distribute/activity/v1.0.5.2/getNineSquareFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getImgTextFloor: function(t) {var e = O + "distribute/activity/v1.0.5.2/getImgTextFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getLotteryNumber: function(t) {var e = O + "h5/lottery/getLotteryNumber", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},continuousDraw: function(t) {var e = O + "h5/lottery/v1.1.0.9/continuousDraw", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},drawing: function(t) {var e = O + "h5/lottery/draw", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryGift: function(t) {var e = O + "distribute/activity/v1.0.5.5/queryGiftBagFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryTencentGameBind: function(t) {var e = O + "member/tencentGame/v1.1.0.6/queryTencentGameBind", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryTencentAuthorization: function(t) {var e = O + "member/tencentGame/v1.1.0.6/queryTencentAuthorization", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryLoginAuthSign: function(t) {var e = O + "member/tencentGame/v1.1.1.8/queryLoginAuthSign", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},postTencent: function(t) {var e = O + "member/tencentGame/v1.1.2.1/postTencent", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryTencentFloorInfo: function(t) {var e = O + "member/tencentGame/v1.1.2.1/queryTencentFloorInfo", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getGameList: function(t) {var e = O + "distribute/activity/v1.0.5.2/getGameFloor", r = this.cryptoHeader(t.headers);return r.os = C,T.post(e, t.data, {headers: r})},queryPregress: function(t) {var e = O + "distribute/activity/v1.0.5.5/queryProgressFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getGiftClick: function(t) {var e = O + "distribute/activityPrize/v1.0.5.5/receivePrize", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},selectGift: function(t) {var e = O + "distribute/activityPrize/v1.0.5.2/queryGiftBagPrize", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getContitions: function(t) {var e = O + "distribute/activity/v1.0.5.2/getContitions", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},newGetContitions: function(t) {var e = O + "distribute/lotteryTask/v1.0.5.6/getLotteryTaskConf", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getBlindBoxFloor: function(t) {var e = O + "distribute/activity/v1.0.5.2/getBlindBoxFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getFortunate: function(t) {var e = O + "distribute/activity/v1.0.5.2/getFortunate", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},newGetFortunate: function(t) {var e = O + "distribute/lotteryTask/v1.0.5.6/receiveFortunate", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getRestBlindBox: function(t) {var e = O + "distribute/activity/v1.0.5.2/getRestBlindBox", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryActivityAddress: function(t) {var e = O + "h5/address/v1.0.4.8/queryActivityAddress", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},submitActivityAddress: function(t) {var e = O + "h5/address/v1.0.4.8/submitActivityAddress", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryAddressEndTime: function(t) {var e = O + "h5/activityConf/getAddressEndDate/" + t.data.actSign, r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getFloatGameFloor: function(t) {var e = O + "distribute/activity/v1.0.5.5/getFloatGameFloor", r = this.cryptoHeader(t.headers);return r.os = C,T.post(e, t.data, {headers: r})},getmarquee: function(t) {var e = O + "h5/lottery/marquee", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getListFloorBlind: function(t) {var e = O + "distribute/lotteryTask/v1.0.5.6/listFloorBlind", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},receiveMemberPrizeId: function(t) {var e = O + "distribute/activityPrize/v1.0.6.1/receiveMemberPrizeId", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryRedPacketFloor: function(t) {var e = O + "distribute/redPacket/v1.0.6.2/queryRedPacketFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},reportJoin: function(t) {var e = O + "distribute/redPacket/v1.0.6.2/reportJoin", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},sign: function(t) {var e = M + "igSign/sign", r = this.cryptoHeader(t.headers);return y().post(e, t.data, {headers: r})},getDiamondToken: function(t) {var e = O + "user/userService/v1.0.6.2/getDiamondToken", r = this.cryptoHeader(t.headers);return T.post(e, {}, {headers: r})},nineBlindBoxReceive: function(t) {var e = O + "distribute/activityPrize/v1.0.6.2/nineBlindBoxReceive", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},progressGiftBagReceive: function(t) {var e = O + "distribute/activityPrize/v1.0.6.2/progressGiftBagReceive", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},reportShare: function(t) {var e = O + "distribute/distTaskController/v1.0.6.3/reportShare", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getCustomLotteryFloor: function(t) {var e = O + "distribute/activity/v1.0.6.5/getCustomLotteryFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryInviteNewFloor: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/queryInviteNewFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},listInviteNewDetail: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/listInviteNewDetail", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},toInviteCheck: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/toInviteCheck", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},taskList: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/taskList", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},inviteeReceivePrize: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/inviteeReceivePrize", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getPassWordCode: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/getPassWordCode", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},getSecretInviterPassWord: function(t) {var e = O + "distribute/distInviteNew/v1.0.7.0/getSecretInviterPassWord", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},bindInviteRelation: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/bindInviteRelation", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},bondInviteRelationEncrypt: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/bondInviteRelationEncrypt", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},inviterNewGameList: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/inviterNewGameList", r = {};try {r = MiguplayUtils.crypto.cryptoHeader(R(R({}, U), t.headers))} catch (e) {r = R(R({}, U), t.headers)}return T.post(e, t.data, {headers: r})},inviteeInfo: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/inviteeInfo", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},inviteeInfoEncrypt: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/inviteeInfoEncrypt", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryShareInfoInviter: function(t) {var e = O + "user/shareInfo/v1.0.6.5/queryShareInfo", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},inviterReceivePrize: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/inviterReceivePrize", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},inviterReceivePrizeAll: function(t) {var e = O + "distribute/distInviteNew/v1.0.6.5/receivePrize", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},receivePrizeForGift: function(t) {var e = O + "distribute/giftBagFloor/v1.0.6.6/receivePrize", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryMultiTaskFloor: function(t) {var e = O + "distribute/activity/v1.0.6.6/queryMutiTaskFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryRemainData: function(t) {var e = O + "game/directional/data/dist/v1.0.6.7/queryRemainData", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryRankingFloor: function(t) {var e = O + "distribute/activity/ranking/query", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryRankingList: function(t) {var e = O + "distribute/activity/ranking/queryRankingList", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryRankingDetail: function(t) {var e = O + "distribute/activity/ranking/detail", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryNewUserFloor: function(t) {var e = O + "distribute/newUser/v1.0.7.3/queryNewUserFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},receiveIntegral: function(t) {var e = O + "/member/parktask/v1.0.3.0/receiveIntegral", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},setNewUserRemind: function(t) {var e = O + "/member/newUser/v1.0.7.3/setNewUserRemind", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryLanternFloor: function(t) {var e = O + "distribute/lantern/v1.0.7.5/getFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},openLantern: function(t) {var e = O + "distribute/lantern/v1.0.7.5/openLantern", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},receiveNodePrizeLantern: function(t) {var e = O + "distribute/lantern/v1.0.7.5/receiveNodePrize", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},composite: function(t) {var e = O + "distribute/lantern/v1.0.7.5/composite", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryPetFloor: function(t) {var e = O + "/distribute/newYear/v1.0.7.5/queryPetFloor", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},receiveNodePrize: function(t) {var e = O + "/distribute/newYear/v1.0.7.5/receiveNodePrize", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},nianBeastReport: function(t) {var e = O + "/distribute/newYear/v1.0.7.5/report", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},shanxiReport: function(t) {var e = O + "distribute/receiveReport/report", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryHandHallTask: function(t) {var e = O + "distribute/distTaskController/v1.0.8.3/queryHandHallTask", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},noticeHandHallTask: function(t) {var e = O + "distribute/distTaskController/v1.0.8.3/noticeHandHallTask", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},notice: function(t) {var e = O + "distribute/task/v1.0.8.5/notice", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},queryNeedMsgCheck: function(t) {var e = O + "distribute/receiveReport/queryNeedMsgCheck", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},msgReport: function(t) {var e = O + "distribute/receiveReport/msgReport", r = this.cryptoHeader(t.headers);return T.post(e, t.data, {headers: r})},checkTokenForHandHall: function(t) {var e = O + "user/userService/v1.0.8.4/checkTokenForHandHall", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: r})},getVideoListFloor: function(t) {var e = O + "distribute/activity/v1.0.8.4/getVideoFloor", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: r})},sendGdVerifyCode: function(t) {var e = O + "member/mobile/data/v1.0.8.5/sendGdVerifyCode", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: r})},getAutoPlayedVideo: function(t) {var e = O + "/h5/province/v1.0.8.4/getAutoPlayedVideo", r = this.cryptoHeader(r);return r.deviceId = window.localStorage.getItem("deviceId"),T.post(e, t.data, {headers: s()(r, t.header)})},queryProvince: function(t) {var e = P + "/user/queryProvince", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: r})},isTencentGame: function(t) {var e = O + "distribute/activity/v1.0.8.6/isTencentGame", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},userInfoForH5: function(t) {var e = O + "user/userService/userInfoForH5", r = this.cryptoHeader(r);return r.appType = 9,T.post(e, t.data, {headers: s()(r, t.header)})},signAll: function() {var t = O + "game/intellectualGamesSign/v1.0.8.8/signAll", e = this.cryptoHeader(e);return T.post(t, "", {headers: e})},getDistFloorToast: function(t) {var e = O + "distribute/activity/v1.0.8.8/getDistFloorToast", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryGameTypeByGameId: function(t) {var e = O + "game/lightPlayGame/v1.0.8.8/queryGameTypeByGameId", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},start: function(t) {var e = O + "distribute/mdH5Game/v1.0.5.5/start", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryMemberRightsAndTime: function(t) {var e = O + "member/memberights/v1.0.1.5/queryMemberRightsAndTime", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryProvinceFlagByPhone: function(t) {var e = O + "user/userCertification/v1.0.6.5/queryProvinceFlagByPhone", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},commitUserCertificationByProvinceAuth: function(t) {var e = O + "user/userCertification/v1.0.6.5/commitUserCertificationByProvinceAuth", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},reportUserBehavior: function(t) {var e = O + "report/report/reportUserBehavior", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},getassociation: function(t) {var e = O + "distribute/mdH5Game/v1.0.5.6/association", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},getHotWords: function(t) {var e = O + "distribute/topSearch/v1.0.5.6/queryTopWords", r = this.cryptoHeader(r);return T.post(e, {headers: r})},queryHistoryRankInfo: function(t) {var e = O + "distribute/activity/ranking/v1.1.0.0/queryHistoryRankInfo", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryNotRecievePrizes: function(t) {var e = O + "distribute/activity/ranking/v1.1.0.0/queryNotRecievePrizes", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},receivePrizes: function(t) {var e = O + "distribute/activity/ranking/v1.1.0.0/receivePrizes", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryNearestRechargeList: function(t) {var e = O + "member/voucher/v1.1.0.3/queryNearestRechargeList", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: r})},voucherSubscribeH5: function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {data: {}}, e = O + "member/voucher/v1.0.7.7/voucherSubscribeH5";return T.post(e, t.data, {headers: s()(U, t.header)})},generatePhonePayOrder: function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {data: {}}, e = O + "member/voucher/v1.0.7.7/generatePhonePayOrder";return T.post(e, t.data, {headers: s()(U, t.header)})},voucherSubscribeH5Byjf: function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {data: {}}, e = O + "member/thirdpay/v1.0.8.7/voucherSubscribeH5Byjf";return T.post(e, t.data, {headers: s()(U, t.header)})},getUserItem: function(t) {var e = O + "user/userService/v1.0.8.3/getUserItem";return T.post(e, t.data, {headers: s()(U, t.header)})},querySubscribeStatus: function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {data: {}}, e = O + "member/voucher/v1.0.7.7/querySubscribeStatus";return T.post(e, t.data, {headers: s()(U, t.header)})},newGetLotteryNumber: function(t) {var e = O + "member/lottery/v1.1.0.4/getLotteryNumber", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: r})},queryMemberRights: function(t) {var e = O + "member/memberights/v9.0.0/queryMemberRights", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},queryOrderListForH5: function(t) {var e = O + "member/memberQuery/v1.0.6.8/queryMemberOrderList", r = this.cryptoHeader(this.updataUserInfo(F));return r.appversion = "1.1.0.0",T.post(e, t.data, {headers: r})},queryCommonOrderList: function(t) {var e = O + "member/memberQuery/v1.0.1.5/queryCommonOrderList", r = this.cryptoHeader(this.updataUserInfo(F));return r.appversion = "1.0.8.7",T.post(e, t.data, {headers: r})},queryThirdOrderStatus: function(t) {var e = O + "member/thirdpay/v1.0.1.1/queryThirdOrderStatus", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},queryPhonePayOrderStatus: function(t) {var e = O + "member/calls/v1.0.3.2/queryPhonePayOrderStatus", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},queryAllRightsByUserId: function(t) {var e = O + "member/rights/v1.0.1.5/queryAllRightsByUserId", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},queryPayLimitForPay: function(t) {var e, r, n = O + "user/antiaddiction/v1.0.3.3/queryPayLimit", o = this.mustCryptoHeader(function(t) {var e = {};if ("object" === (0,i.A)(t) && (e = t),e.appType = 9,e.accountId = localStorage.getItem("accountId") || "",MiguplayUtils.appUtils.isMiguApp()) {var r = window.localStorage.getItem("appHeader") ? JSON.parse(window.localStorage.getItem("appHeader")) : "";"object" === (0,i.A)(r) && (e.appType = r.appType || "",e.platform = r.platform || "",e.realAppVersion = r.realAppVersion || "",e.appVersion = r.appVersion || "")} elseL.A.isCmccApp() && (e.appType = 8);return e}(this.updataUserInfo(F)));return T.post(n, (e = t.data,r = {},"object" === (0,i.A)(e) && (r = e),MiguplayUtils.appUtils.isMiguApp() || L.A.isCmccApp() || (r.limitTeenModeFlag = 1),r), {headers: o})},generateOrderIdForOrder: function(t) {var e = O + "member/calls/v1.0.1.9/generateOrderIdForOrder", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},webSubscribeH5: function(t) {var e = O + "member/thirdpay/v1.0.1.7/webSubscribeH5", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},webPackageSubscribeH5: function(t) {var e = O + "member/thirdpay/v1.0.1.7/webPackageSubscribeH5", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},findPortaloneRights: function(t) {var e = O + "member/memberights/v1.0.0.9/findPortaloneRights", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},getCommonProblemText: function(t) {var e = O + "h5/commonProblem/v1.0.1.4/getCommonProblemText", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},generateOrderId: function(t) {var e = O + "member/calls/v9.0.0/generateOrderId", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},saveCallsStatus: function(t) {var e = O + "member/calls/v9.0.0/saveCallsStatus", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},querySubscribeStatusEquity: function(t) {var e = O + "member/thirdpay/v1.0.1.2/querySubscribeStatus", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},queryUploadPresentTime: function(t) {var e = O + "member/memberQuery/v1.0.6.7/uploadPresentTime", r = this.cryptoHeader(this.updataUserInfo(F));return T.post(e, t.data, {headers: r})},userRewardInfo: function(t) {var e = O + "distribute/activityPrize/v1.1.0.7/userRewardInfo", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},reportzjgdMsgRemind: function(t) {var e = O + "distribute/activity/v1.1.0.8/reportzjgdMsgRemind", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},zjgdUserRank: function(t) {var e = O + "distribute/zjgd/v1.1.0.8/zjgdUserRank", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},zjgdRankList: function(t) {var e = O + "distribute/zjgd/v1.1.0.8/zjgdRankList", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},zjgdPromotedList: function(t) {var e = O + "distribute/zjgd/v1.1.0.8/zjgdPromotedList", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},prizeRetry: function(t) {var e = O + "member/prizeRetry/v1.1.0.9/receivePrize", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},bookingGame: function(t) {var e = O + "/user/booking/v1.0.1.7/bookingGame", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},checkMZoneAndJD: function(t) {var e = O + "distribute/activity/v1.1.1.2/checkMZoneAndJD", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},qrCodeSubscribe: function(t) {var e = O + "member/thirdpay/v1.0.4.8/qrCodeSubscribe", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},getGiftInfos: function(t) {var e = O + "member/txCloudGame/v1.1.1.5/getGiftInfos", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},getTokensInfo: function(t) {var e = O + "member/txCloudGame/v1.1.1.5/getTokensInfo", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},getGiftTokenLink: function(t) {var e = O + "member/txCloudGame/v1.1.1.5/getGiftTokenLink", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},getDistAppRightFloor: function(t) {var e = O + "distribute/activity/v1.1.1.9/getDistAppRightFloor", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryHorizontalDrawFloor: function(t) {var e = O + "distribute/activity/v1.1.2.1/queryHorizontalDrawFloor", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryMiniGameFloor: function(t) {var e = O + "distribute/activity/v1.1.2.1/queryMiniGameFloor", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},deductUserBrawn: function(t) {var e = O + "distribute/miniGameFloor/v1.1.2.1/deductUserBrawn", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},getDistCellFloor: function(t) {var e = O + "distribute/activity/v1.1.1.9/getDistCellFloor", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},getSecondLotteryNumber: function(t) {var e = O + "distribute/activity/v1.1.1.9/querySecondLotteryNumber", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},cellFloorDraw: function(t) {var e = O + "distribute/cellFloor/v1.1.1.9/draw", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},cellFloorDrawPrize: function(t) {var e = O + "distribute/cellFloor/v1.1.1.9/drawPrize", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},cellFloorDeductPrize: function(t) {var e = O + "distribute/cellFloor/v1.1.1.9/deductPrize", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},syncSign: function(t) {var e = O + "distribute/activity/v1.1.2.3/syncSign", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},reportTask: function(t) {var e = O + "distribute/distTaskController/v1.1.1.9/reportTask", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},nkPreCreateOrder: function(t) {var e = O + "member/mobile/data/v1.1.2.2/nkPreCreateOrder", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryGroupRank: function(t) {var e = O + "distribute/activity/v1.1.2.3/queryGroupRank", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryPersonRank: function(t) {var e = O + "distribute/activity/v1.1.2.3/queryPersonRank", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryFragmentFloor: function(t) {var e = O + "distribute/activity/v1.1.2.3/queryFragmentFloor", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryNkPreCreateResult: function(t) {var e = O + "member/mobile/data/v1.1.2.4/queryNkPreCreateResult", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryQueueLen: function(t) {var e = O + "user/gameQueueUp/v1.0.8.4/queryQueueLen", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryUserCertificationInfo: function(t) {var e = O + "user/userCertification/v1.0.3.0/queryUserCertificationInfo", r = this.cryptoHeader(r);return T.post(e, {}, {headers: s()(r, t.header)})},queryNSelOneFloor: function(t) {var e = O + "distribute/activity/v1.1.2.4/queryNSelOneFloor", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},nSelectOneReceivePrize: function(t) {var e = O + "distribute/nSelOneFloor/v1.1.2.4/receivePrize", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},checkFloorParticipant: function(t) {var e = O + "distribute/activity/v1.1.2.5/checkFloorParticipant", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryBookingFloor: function(t) {var e = O + "distribute/activity/v1.1.2.6/queryBookingFloor", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},userBooking: function(t) {var e = O + "distribute/activity/v1.1.2.6/userBooking", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},giftPrizeToOther: function(t) {var e = O + "distribute/giftBagFloor/v1.1.2.6/giftPrizeToOther", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},getUserByPhone: function(t) {var e = O + "h5/userService/v1.1.2.6/getUserByPhone", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},receiveGiftPrize: function(t) {var e = O + "member/tencentGame/v1.1.2.6/receiveGiftPrize", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryTabList: function(t) {var e = O + "distribute/activity/v1.1.2.8/queryTabList", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},queryTabFloorList: function(t) {var e = O + "distribute/activity/v1.1.2.8/queryTabFloorList", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})},giftPrizeUnLock: function(t) {var e = O + "distribute/giftBagFloor/v1.1.2.8/giftPrizeUnLock", r = this.cryptoHeader(r);return T.post(e, t.data, {headers: s()(r, t.header)})}}, $ = j},64346: function(t, e) {"use strict";var r, n, i, o, s, a, c, u, l, d, f, h, p, g, m, v, y, _, b, w, E;r = "https://betagame.migufun.com/",s = "https://aitrain.migufun.com:7081/",a = "https://www.migufun.com",v = "https://passport.migu.cn/",c = "https://www.migufun.com/h5/cloudgame/appdownload/appDownload.html",u = "04b40e07e63e44d5210d8b75dd0c3ddd7deaf4d4c2104066d63eb7053c34acda9117ba7029ffb9be98d42000680f4ddfcee706dd1959a9431de1c549fb7a821f3e",l = "cmread://cmread.com/client?url=https://wap.cmread.com/nap/p/ccots.jsp",d = "mgmusic://route-path-main?page=3&index=3",f = "miguvideo://miguvideo?action=%7B%22params%22%3A%7B%22frameID%22%3A%22default-frame%22%2C%22location%22%3A%22OTHER%2320221114150557249%22%2C%22pageID%22%3A%221534f3d5e2ce463794ad61090f82b54c%22%7D%2C%22type%22%3A%22JUMP_INNER_NEW_PAGE%22%7D",h = "6a6929be6d354e4d93f21d5f7bdf374c",p = "https://effic.migufun.com:8443",g = "https://report.migufun.com/",m = "https://www.migufun.com/downpage",y = "https://www.migufun.com/miguplay/html/login/loginResult.html",n = "https://www.migufun.com/h5/cloudgame/game/rule.html?id=",i = "608007",o = "608003",_ = "https://www.migufun.com/middleh5",b = "https://student-certi.jd.com/#/?source=DGDD-4&ext_tag=YY-DGDD-5G",w = "https://s1.livelink.qq.com/livelink",E = "https://www.migufun.com/middleh5/miguApi/getfile?file=",e.A = {questionId: o,pactId: i,ruleUrl: n,baseURL: r,MidBaseURL: s,loginUrl: v,H5hostURL: a,DOWNLOAD_URL: c,PUBLICKEY: u,schemaLinkYuedu: l,schemaLinkYinyue: d,schemaLinkShipin: f,appId: h,province: p,testReport: g,DOWNPAGE: m,loginCallBakUrl: y,certifyURL: _,verifyServiceUrl: b,tengxunScheme: w,proxy_URL: E}},93975: function(t, e, r) {"use strict";r.d(e, {U: function() {return T},n: function() {return S}});var n = r(50697), i = r.n(n), o = r(26100), s = r.n(o), a = r(96319), c = r.n(a), u = r(78928), l = r.n(u), d = r(36751), f = r.n(d), h = r(3300), p = r(85569), g = r.n(p), m = r(8628), v = r.n(m);function y(t, e) {var r = i()(t);if (s()) {var n = s()(t);e && (n = c()(n).call(n, (function(e) {return l()(t, e).enumerable}))),r.push.apply(r, n)}return r}function _(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? y(Object(r), !0).forEach((function(e) {(0,h.A)(t, e, r[e])})) : f() ? Object.defineProperties(t, f()(r)) : y(Object(r)).forEach((function(e) {Object.defineProperty(t, e, l()(r, e))}))}return t}var b = MiguplayUtils.coreUserClientEvent.recordErrorAction, w = {pageName: "云分发活动模板页面"}, E = {clouddistribute_65: _({eventType: "clouddistribute_65",errorDomain: "云分发活动模板页面-支付失败",errorType: 2}, w),request_error: _({eventType: "request_error",errorType: 0}, w)};function T(t) {var e = t.activityId, r = t.activityName, n = t.pageId, i = t.floorName, o = t.floorId, s = t.floorType, a = t.orderId, c = t.errorMsg, u = t.payBusinessCode, l = t.payType, d = t.payPackageName, f = t.payPrice, h = t.reason, p = t.voucherNum, m = t.jinKePayResult;b(_(_({}, E.clouddistribute_65), {}, {path: window.location.href,orderId: a,errorCode: "",errorMsg: c,reason: h,ext: g()(_({activityId: e,activityName: r,pageId: n,floorName: i,floorId: o,floorType: s,payBusinessCode: u,payType: l,payPackageName: d,payPrice: f,voucherNum: p}, m))}))}function S(t) {var e, r, n, i, o, s, a, c, u, l = (null === (e = c = t.data ? t : t.response || t.config) || void 0 === e || null === (e = e.request) || void 0 === e ? void 0 : e.responseURL) || (null === (r = c) || void 0 === r ? void 0 : r.url) || "";b(_(_({}, E.request_error), {}, {errorCode: (null === (n = c) || void 0 === n || null === (n = n.data) || void 0 === n ? void 0 : n.returnCode) || (null === (i = c) || void 0 === i || null === (i = i.data) || void 0 === i ? void 0 : i.status) || "UNKNOWN_ERROR",errorMsg: (null === (o = c) || void 0 === o || null === (o = o.data) || void 0 === o ? void 0 : o.message) || (null === (s = c) || void 0 === s ? void 0 : s.message) || "Network Error",path: l,errorType: (u = l,["member/thirdpay/", "member/voucher/", "member/calls/", "member/rights/", "member/memberQuery/", "member/memberights/v9.0.0/queryMemberRights", "member/memberights/v1.0.0.9/findPortaloneRights", "user/antiaddiction/v1.0.3.3/queryPayLimit"],u && ["member/thirdpay/", "member/voucher/", "member/calls/", "member/rights/", "member/memberQuery/", "member/memberights/v9.0.0/queryMemberRights", "member/memberights/v1.0.0.9/findPortaloneRights", "user/antiaddiction/v1.0.3.3/queryPayLimit"].some((function(t) {return v()(u).call(u, t)})) ? 2 : A(l) ? 3 : 0),ext: g()({pageUrl: window.location.href,errorData: (null === (a = c) || void 0 === a ? void 0 : a.config) || c || {}})}))}function A(t) {return !!t && ["member/memberights/v1.0.1.5/queryMemberRightsAndTime", "distribute/mdH5Game/v1.0.5.5/start"].some((function(e) {return v()(t).call(t, e)}))}},46534: function(t, e, r) {"use strict";r.d(e, {Ru: function() {return i}});var n = "云分发活动模板页面", i = new Proxy({clouddistribute_75: {eventType: "clouddistribute_75",pageName: n,rese8: "曝光 云分发活动模板页面-非京东学生会员弹框"},clouddistribute_76: {eventType: "clouddistribute_76",pageName: n,rese8: "点击 云分发活动模板页面-非京东学生会员弹框-去认证"},clouddistribute_77: {eventType: "clouddistribute_77",pageName: n,rese8: "曝光 云分发活动模板页面-非动感地带用户提示弹窗"},h5_monitoring_1: {eventType: "h5_monitoring_1",eventName: "H5加载监测",pageName: n,rese8: "云验流程监测"}},{get: function(t, e) {if (e in t)return t[e];throw new Error("未找到事件类型 ".concat(e))}})},5483: function(t, e, r) {"use strict";r.d(e, {DJ: function() {return y},Tb: function() {return _},dw: function() {return b}});var n = r(50697), i = r.n(n), o = r(26100), s = r.n(o), a = r(96319), c = r.n(a), u = r(78928), l = r.n(u), d = r(36751), f = r.n(d), h = r(3300), p = r(26123), g = r(87124);function m(t, e) {var r = i()(t);if (s()) {var n = s()(t);e && (n = c()(n).call(n, (function(e) {return l()(t, e).enumerable}))),r.push.apply(r, n)}return r}function v(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? m(Object(r), !0).forEach((function(e) {(0,h.A)(t, e, r[e])})) : f() ? Object.defineProperties(t, f()(r)) : m(Object(r)).forEach((function(e) {Object.defineProperty(t, e, l()(r, e))}))}return t}function y(t) {var e = t.eventKey, r = t.floorId, n = t.taskId, i = t.conditionId, o = t.floorPullFlag, s = t.actPullFlag, a = g.Ru[e];(0,p.e9)(v(v({}, a), {}, {floorId: r,taskId: n,conditionId: i,rese5: o,rese6: s}))}function _(t) {var e = t.eventKey, r = t.floorId, n = t.taskId, i = t.conditionId, o = g.Ru[e];(0,p.e9)(v(v({}, o), {}, {floorId: r,taskId: n,conditionId: i,rese5: floorPullFlag,rese6: actPullFlag}))}function b(t) {var e = t.eventKey, r = t.floorId, n = t.prizeId, i = g.Ru[e];(0,p.e9)(v(v({}, i), {}, {floorId: r,rese2: n}))}},77e3: function(t, e, r) {"use strict";r.d(e, {NA: function() {return w},No: function() {return x},Nu: function() {return y},Rs: function() {return R},_c: function() {return P},cz: function() {return T},eb: function() {return C},fL: function() {return _},fx: function() {return b},fy: function() {return k},nP: function() {return A},rY: function() {return E},tJ: function() {return L},uA: function() {return S},zU: function() {return I}});var n = r(50697), i = r.n(n), o = r(26100), s = r.n(o), a = r(96319), c = r.n(a), u = r(78928), l = r.n(u), d = r(36751), f = r.n(d), h = r(3300), p = r(26123), g = r(87124);function m(t, e) {var r = i()(t);if (s()) {var n = s()(t);e && (n = c()(n).call(n, (function(e) {return l()(t, e).enumerable}))),r.push.apply(r, n)}return r}function v(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? m(Object(r), !0).forEach((function(e) {(0,h.A)(t, e, r[e])})) : f() ? Object.defineProperties(t, f()(r)) : m(Object(r)).forEach((function(e) {Object.defineProperty(t, e, l()(r, e))}))}return t}function y(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function _(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function b(t) {var e = t.eventKey, r = t.num, n = t.type, i = g.Ru[e];(0,p.e9)(v(v({}, i), {}, {rese1: n,rese4: r}))}function w(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function E(t) {var e = t.eventKey, r = t.shareId, n = t.url, i = g.Ru[e];(0,p.e9)(v(v({}, i), {}, {rese2: r,rese4: n}))}function T(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function S(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function A(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function I(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function x(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function L(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function k(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function R(t) {var e = t.eventKey, r = g.Ru[e];(0,p.e9)(v({}, r))}function C(t) {var e = t.eventKey, r = t.auth, n = g.Ru[e];(0,p.e9)(v(v({}, n), {}, {rese3: r}))}function P(t) {var e = t.eventKey, r = t.floorId, n = g.Ru[e];(0,p.e9)(v(v({}, n), {}, {floorId: r}))}},26123: function(t, e, r) {"use strict";r.d(e, {e9: function() {return i}});r(50697),r(26100),r(96319),r(78928),r(36751),r(49763),r(46534);var n = r(93547);var i = function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};(0,n.A.newrecordEventAction)(t)}},87124: function(t, e, r) {"use strict";r.d(e, {Ru: function() {return n}});var n = new Proxy({"1-1-40-1": {eventContent: "1-1-40-1",type: 1,opValue: 0,action: "1-1-40-1云分发活动模板页面-紧急公告弹窗（曝光）"},"1-1-3": {eventContent: "1-1-3",type: 2,opValue: 0,action: "1-1-3礼包楼层（点击）"},"1-1-3-2": {eventContent: "1-1-3-2",type: 1,opValue: 0,action: "1-1-3-2礼包楼层未达标跳转弹窗（曝光）"},"1-1-3-2-1": {eventContent: "1-1-3-2-1",type: 1,opValue: 0,action: "1-1-3-2-1礼包楼层未达标跳转弹窗-确认按钮（点击）"},"1-1-18-1": {eventContent: "1-1-18-1",type: 1,opValue: 0,action: "1-1-18-1我的腾讯奖品（曝光）"},"1-1-18-2": {eventContent: "1-1-18-2",type: 2,opValue: 0,action: "1-1-18-2我的腾讯奖品（点击）"},"1-1-19-2": {eventContent: "1-1-19-2",type: 1,opValue: 0,action: "1-1-19-2不能参与活动提示弹窗（曝光）"},"1-1-20-1": {eventContent: "1-1-20-1",type: 1,opValue: 0,action: "1-1-20-1开格楼层（曝光）"},"1-1-20-2": {eventContent: "1-1-20-2",type: 2,opValue: 0,action: "1-1-20-2开格楼层-抽奖（点击）"},"1-1-20-3": {eventContent: "1-1-20-3",type: 2,opValue: 0,action: "1-1-20-3开格楼层-领奖（点击）"},"1-1-20-4": {eventContent: "1-1-20-4",type: 2,opValue: 0,action: "1-1-20-4开格楼层-兑奖（点击）"},"1-1-21-1": {eventContent: "1-1-21-1",type: 1,opValue: 0,action: "1-1-21-1应用权益楼层-应用（曝光）"},"1-1-21-2": {eventContent: "1-1-21-2",type: 2,opValue: 0,action: "1-1-21-2应用权益楼层-应用（点击）"},"1-1-22-1": {eventContent: "1-1-22-1",type: 1,opValue: 0,action: "1-1-22-1云分发活动模板页面-添加桌面快捷方式按钮（曝光）"},"1-1-22-2": {eventContent: "1-1-22-2",type: 2,opValue: 0,action: "1-1-22-2云分发活动模板页面-添加桌面快捷方式按钮（点击）"},"1-1-23-1": {eventContent: "1-1-23-1",type: 1,opValue: 0,action: "1-1-23-1云分发活动模板页面-腾讯账号授权绑定弹窗（曝光）"},"1-1-23-2": {eventContent: "1-1-23-2",type: 2,opValue: 0,action: "1-1-23-2云分发活动模板页面-腾讯账号授权绑定弹窗-绑定（点击）"},"1-1-24-1": {eventContent: "1-1-24-1",type: 1,opValue: 0,action: "1-1-24-1云分发活动模板页面-livelink绑定楼层（曝光）"},"1-1-24-2": {eventContent: "1-1-24-2",type: 2,opValue: 0,action: "1-1-24-2云分发活动模板页面-livelink绑定楼层-按钮（点击）"},"1-1-25-1": {eventContent: "1-1-25-1",type: 1,opValue: 0,action: "1-1-25-1云分发活动模板页面-合成大西瓜楼层（曝光）"},"1-1-25-2": {eventContent: "1-1-25-2",type: 2,opValue: 0,action: "1-1-25-2云分发活动模板页面-合成大西瓜楼层-开始游戏按钮（点击）"},"1-1-25-3": {eventContent: "1-1-25-3",type: 1,opValue: 0,action: "1-1-25-3云分发活动模板页面-合成大西瓜楼层-未登录弹窗（曝光）"},"1-1-25-4": {eventContent: "1-1-25-4",type: 2,opValue: 0,action: "1-1-25-4云分发活动模板页面-合成大西瓜楼层-未登录弹窗-按钮（点击）"},"1-1-25-5": {eventContent: "1-1-25-5",type: 1,opValue: 0,action: "1-1-25-5云分发活动模板页面-合成大西瓜楼层-小游戏页面（曝光）"},"1-1-25-6": {eventContent: "1-1-25-6",type: 2,opValue: 0,action: "1-1-25-6云分发活动模板页面-合成大西瓜楼层-合成成功（用户动作）"},"1-1-25-7": {eventContent: "1-1-25-7",type: 2,opValue: 0,action: "1-1-25-7云分发活动模板页面-合成大西瓜楼层-再玩一次（点击）"},"1-1-25-8": {eventContent: "1-1-25-8",type: 1,opValue: 0,action: "1-1-25-8云分发活动模板页面-合成大西瓜楼层-结束游戏弹窗（曝光）"},"1-1-25-9": {eventContent: "1-1-25-9",type: 2,opValue: 0,action: "1-1-25-9云分发活动模板页面-合成大西瓜楼层-返回首页按钮（点击）"},"1-1-26-1": {eventContent: "1-1-26-1",type: 1,opValue: 0,action: "1-1-26-1云分发活动模板页面-横版抽奖楼层-阶段红包（曝光）"},"1-1-26-2": {eventContent: "1-1-26-2",type: 2,opValue: 0,action: "1-1-26-2云分发活动模板页面-横版抽奖楼层-阶段红包（点击）"},"1-1-26-3": {eventContent: "1-1-26-3",type: 1,opValue: 0,action: "1-1-26-3云分发活动模板页面-横版抽奖楼层-未达标弹窗（曝光）"},"1-1-27-1": {eventContent: "1-1-27-1",type: 1,opValue: 0,action: "1-1-27-1云分发活动模板页面-抽奖机会不足弹窗（曝光）"},"1-1-28-1": {eventContent: "1-1-28-1",type: 2,opValue: 0,action: "1-1-28-1云分发活动模板页面-横版抽奖楼层-分享按钮（点击）"},"1-1-29": {eventContent: "1-1-28-1",type: 1,opValue: 0,action: "1-1-29云分发活动模板页面-碎片楼层（曝光）"},"1-2": {eventContent: "1-2",type: 1,opValue: 0,action: "1-2云分发活动模板页面-排行榜子页面（曝光）"},"1-1-30-1": {eventContent: "1-1-30-1",type: 1,opValue: 0,action: "1-1-30-1云分发活动模板页面-多选一礼包楼层（曝光）"},"1-1-30-2": {eventContent: "1-1-30-2",type: 2,opValue: 0,action: "1-1-30-2云分发活动模板页面-多选一礼包楼层（点击）"},"1-1-33-1": {eventContent: "1-1-33-1",type: 1,opValue: 0,action: "1-1-33-1云分发活动模板页面-智能跟练人数过多弹窗（曝光）"},"1-1-33-2": {eventContent: "1-1-33-2",type: 2,opValue: 0,action: "1-1-33-2云分发活动模板页面-智能跟练人数过多弹窗-视频跟练按钮（点击）"},"1-1-34-1": {eventContent: "1-1-34-1",type: 1,opValue: 0,action: "1-1-34-1云分发活动模板页面-升级弹窗（曝光）"},"1-1-34-2": {eventContent: "1-1-34-2",type: 2,opValue: 0,action: "1-1-34-2云分发活动模板页面-升级弹窗-升级按钮（点击）"},"1-1-36-1": {eventContent: "1-1-36-1",type: 1,opValue: 0,action: "1-1-36-1云分发活动模板页面-拉端浮层（曝光）"},"1-1-36-2": {eventContent: "1-1-36-2",type: 2,opValue: 0,action: "1-1-36-2云分发活动模板页面-拉端浮层（点击）"},"1-1-35-1": {eventContent: "1-1-35-1",type: 1,opValue: 0,action: "1-1-35-1云分发活动模板页面-未成年提示（曝光）"},"1-1-35-2": {eventContent: "1-1-35-2",type: 2,opValue: 0,action: "1-1-35-2云分发活动模板页面-未成年提示-查看信息按钮（点击）"},"1-1-2": {eventContent: "1-1-2",type: 2,opValue: 0,action: "1-1-2图文楼层实名认证效验（点击）"},"1-1-31": {eventContent: "1-1-31",type: 2,opValue: 0,action: "1-1-31云分发活动模板页面-重新领取-按钮（点击）"},"1-1-32": {eventContent: "1-1-32",type: 1,opValue: 1,action: "1-1-32云分发活动模板页面-领取失败（曝光）"},"1-1-9-1": {eventContent: "1-1-9-1",type: 1,opValue: 2,action: "1-1-9-1自定义抽奖楼层-不满足抽奖弹窗（曝光）"},"1-1-9-2": {eventContent: "1-1-9-2",type: 2,opValue: 2,action: "1-1-9-2自定义抽奖楼层不满足抽奖弹窗-领云豆按钮（点击）"},"1-3": {eventContent: "1-3",type: 4,opValue: 2,action: "1-3云分发活动模板页面-拉起登录"},"1-1-37-1": {eventContent: "1-1-37-1",type: 1,opValue: 2,action: "云分发活动模板页面-奖品记录去兑换按钮(曝光)"},"1-1-37-2": {eventContent: "1-1-37-2",type: 2,opValue: 2,action: "云分发活动模板页面-奖品记录去兑换按钮(点击)"},"1-1-38-1": {eventContent: "1-1-38-1",type: 1,opValue: 1,action: "1-1-38-1云分发活动模板页面-预约楼层（曝光）"},"1-1-38-2": {eventContent: "1-1-38-2",type: 2,opValue: 1,action: "1-1-38-2云分发活动模板页面-预约楼层（点击）"},"1-1-38-3": {eventContent: "1-1-38-3",type: 2,opValue: 1,action: "1-1-38-3云分发活动模板页面-预约楼层弹窗-预约&取消按钮（点击）"},"1-1-41-1": {eventContent: "1-1-41-1",type: 1,opValue: 1,action: "1-1-41-1云分发活动模板页面-tab楼层tab（曝光）"},"1-1-41-2": {eventContent: "1-1-41-2",type: 2,opValue: 1,action: "1-1-41-2云分发活动模板页面-tab楼层tab（点击）"},"1-1-42-1": {eventContent: "1-1-42-1",type: 1,opValue: 1,action: "1-1-42-1云分发活动模板页面-解锁成功弹窗（曝光）"},"1-1-37-3": {eventContent: "1-1-37-3",type: 1,opValue: 1,action: "云分发活动模板页面-奖品记录页登录解锁按钮（曝光）"},"1-1-37-4": {eventContent: "1-1-37-4",type: 2,opValue: 1,action: "云分发活动模板页面-奖品记录页登录解锁按钮（点击）"},"1-1-43-1": {eventContent: "1-1-43-1",type: 1,opValue: 1,action: "1-1-43-1云分发活动模板页面-未达标前往弹窗（曝光）"},"1-1-43-2": {eventContent: "1-1-41-2",type: 2,opValue: 1,action: "1-1-43-2云分发活动模板页面-未达标前往弹窗-前往按钮（点击）"}},{get: function(t, e) {if (e in t)return t[e];throw new Error("未找到事件类型 ".concat(e))}})},27345: function(t, e, r) {"use strict";r.d(e, {ah: function() {return E},ao: function() {return T},lr: function() {return w}});var n = r(50697), i = r.n(n), o = r(26100), s = r.n(o), a = r(96319), c = r.n(a), u = r(78928), l = r.n(u), d = r(36751), f = r.n(d), h = r(3300), p = r(11393), g = r.n(p), m = (r(49763),r(46534)), v = r(93547);var y = function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};(new Error).stack;(0,v.A.recordEventAction)(t)};function _(t, e) {var r = i()(t);if (s()) {var n = s()(t);e && (n = c()(n).call(n, (function(e) {return l()(t, e).enumerable}))),r.push.apply(r, n)}return r}function b(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? _(Object(r), !0).forEach((function(e) {(0,h.A)(t, e, r[e])})) : f() ? Object.defineProperties(t, f()(r)) : _(Object(r)).forEach((function(e) {Object.defineProperty(t, e, l()(r, e))}))}return t}function w(t) {var e = t.eventKey, r = t.floorName, n = t.floorId, i = m.Ru[e];y(b(b({}, i), {}, {labelName: r,topicName: n}))}function E(t) {var e = t.eventKey, r = t.floorName, n = t.floorId, i = m.Ru[e];y(b(b({}, i), {}, {labelName: r,topicName: n}))}function T(t) {var e, r = t.resultCode, n = t.msg, i = m.Ru.h5_monitoring_1;y(b(b({}, i), {}, {rese28: g()(e = "msg:".concat(null != n ? n : "", " - resultCode:")).call(e, null != r ? r : "")}))}},95629: function(t, e, r) {"use strict";r.d(e, {f: function() {return y}});var n = r(50697), i = r.n(n), o = r(26100), s = r.n(o), a = r(96319), c = r.n(a), u = r(78928), l = r.n(u), d = r(36751), f = r.n(d), h = r(3300), p = r(26123), g = r(87124);function m(t, e) {var r = i()(t);if (s()) {var n = s()(t);e && (n = c()(n).call(n, (function(e) {return l()(t, e).enumerable}))),r.push.apply(r, n)}return r}function v(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? m(Object(r), !0).forEach((function(e) {(0,h.A)(t, e, r[e])})) : f() ? Object.defineProperties(t, f()(r)) : m(Object(r)).forEach((function(e) {Object.defineProperty(t, e, l()(r, e))}))}return t}function y(t) {var e = t.eventKey, r = t.activityId, n = t.rese2, i = t.rese3, o = t.rese4, s = t.activityType, a = g.Ru[e];(0,p.e9)(v(v({}, a), {}, {activityId: r,rese2: n,rese3: i,rese4: o,activityType: s}))}},9303: function(t, e, r) {"use strict";r.d(e, {A: function() {return yo}});var n = r(61240), i = r.n(n), o = r(62893), s = r(50697), a = r.n(s), c = r(26100), u = r.n(c), l = r(96319), d = r.n(l), f = r(78928), h = r.n(f), p = r(36751), g = r.n(p), m = (r(22204),r(34963)), v = r(3300), y = r(44828), _ = r.n(y), b = r(85569), w = r.n(b), E = r(56255), T = r.n(E), S = r(82726), A = r.n(S), I = r(57083), x = r(48590), L = (r(41807),r(15087),r(8965),r(47499)), k = r.n(L);function R(t, e) {return e ? "string" == typeof e ? " " + t + "--" + e : Array.isArray(e) ? e.reduce((function(e, r) {return e + R(t, r)}), "") : Object.keys(e).reduce((function(r, n) {return r + (e[n] ? R(t, n) : "")}), "") : ""}function C(t) {return function(e, r) {return e && "string" != typeof e && (r = e,e = ""),"" + (e = e ? t + "__" + e : t) + R(e, r)}}var P = "undefined" != typeof window, D = o.Ay.prototype.$isServer;function O() {}function M(t) {return null != t}function U(t) {return "function" == typeof t}function F(t) {return null !== t && "object" == typeof t}function N(t, e) {var r = e.split("."), n = t;return r.forEach((function(t) {var e;n = null != (e = n[t]) ? e : ""})),n}var B = /-(\w)/g;function j(t) {return t.replace(B, (function(t, e) {return e.toUpperCase()}))}function H(t, e) {void 0 === e && (e = 2);for (var r = t + ""; r.length < e; )r = "0" + r;return r}var G = {methods: {slots: function(t, e) {void 0 === t && (t = "default");var r = this.$slots, n = this.$scopedSlots[t];return n ? n(e) : r[t]}}};function K(t) {var e = this.name;t.component(e, this),t.component(j("-" + e), this)}function q(t) {return {functional: !0,props: t.props,model: t.model,render: function(e, r) {return t(e, r.props, function(t) {var e = t.scopedSlots || t.data.scopedSlots || {}, r = t.slots();return Object.keys(r).forEach((function(t) {e[t] || (e[t] = function() {return r[t]})})),e}(r), r)}}}function W(t) {return function(e) {return U(e) && (e = q(e)),e.functional || (e.mixins = e.mixins || [],e.mixins.push(G)),e.name = t,e.install = K,e}}var V = Object.prototype.hasOwnProperty;function z(t, e) {return Object.keys(e).forEach((function(r) {!function(t, e, r) {var n = e[r];M(n) && (V.call(t, r) && F(n) ? t[r] = z(Object(t[r]), e[r]) : t[r] = n)}(t, e, r)})),t}var Y = o.Ay.prototype, Q = o.Ay.util.defineReactive;Q(Y, "$vantLang", "zh-CN"),Q(Y, "$vantMessages", {"zh-CN": {name: "姓名",tel: "电话",save: "保存",confirm: "确认",cancel: "取消",delete: "删除",complete: "完成",loading: "加载中...",telEmpty: "请填写电话",nameEmpty: "请填写姓名",nameInvalid: "请输入正确的姓名",confirmDelete: "确定要删除吗",telInvalid: "请输入正确的手机号",vanCalendar: {end: "结束",start: "开始",title: "日期选择",confirm: "确定",startEnd: "开始/结束",weekdays: ["日", "一", "二", "三", "四", "五", "六"],monthTitle: function(t, e) {return t + "年" + e + "月"},rangePrompt: function(t) {return "选择天数不能超过 " + t + " 天"}},vanCascader: {select: "请选择"},vanContactCard: {addText: "添加联系人"},vanContactList: {addText: "新建联系人"},vanPagination: {prev: "上一页",next: "下一页"},vanPullRefresh: {pulling: "下拉即可刷新...",loosing: "释放即可刷新..."},vanSubmitBar: {label: "合计："},vanCoupon: {unlimited: "无使用门槛",discount: function(t) {return t + "折"},condition: function(t) {return "满" + t + "元可用"}},vanCouponCell: {title: "优惠券",tips: "暂无可用",count: function(t) {return t + "张可用"}},vanCouponList: {empty: "暂无优惠券",exchange: "兑换",close: "不使用优惠券",enable: "可用",disabled: "不可用",placeholder: "请输入优惠码"},vanAddressEdit: {area: "地区",postal: "邮政编码",areaEmpty: "请选择地区",addressEmpty: "请填写详细地址",postalEmpty: "邮政编码格式不正确",defaultAddress: "设为默认收货地址",telPlaceholder: "收货人手机号",namePlaceholder: "收货人姓名",areaPlaceholder: "选择省 / 市 / 区"},vanAddressEditDetail: {label: "详细地址",placeholder: "街道门牌、楼层房间号等信息"},vanAddressList: {add: "新增地址"}}});var X = {messages: function() {return Y.$vantMessages[Y.$vantLang]},use: function(t, e) {var r;Y.$vantLang = t,this.add(((r = {})[t] = e,r))},add: function(t) {void 0 === t && (t = {}),z(Y.$vantMessages, t)}};function J(t) {var e = j(t) + ".";return function(t) {for (var r = X.messages(), n = N(r, e + t) || N(r, t), i = arguments.length, o = new Array(i > 1 ? i - 1 : 0), s = 1; s < i; s++)o[s - 1] = arguments[s];return U(n) ? n.apply(void 0, o) : n}}function Z(t) {return [W(t = "van-" + t), C(t), J(t)]}function tt(t) {if (M(t))return t = String(t),/^\d+(\.\d+)?$/.test(t) ? t + "px" : t}var et = r(58168), rt = ["ref", "key", "style", "class", "attrs", "refInFor", "nativeOn", "directives", "staticClass", "staticStyle"], nt = {nativeOn: "on"};function it(t, e) {var r = rt.reduce((function(e, r) {return t.data[r] && (e[nt[r] || r] = t.data[r]),e}), {});return e && (r.on = r.on || {},(0,et.A)(r.on, t.data.on)),r}function ot(t, e) {for (var r = arguments.length, n = new Array(r > 2 ? r - 2 : 0), i = 2; i < r; i++)n[i - 2] = arguments[i];var o = t.listeners[e];o && (Array.isArray(o) ? o.forEach((function(t) {t.apply(void 0, n)})) : o.apply(void 0, n))}var st = Z("loading"), at = st[0], ct = st[1];function ut(t, e) {if ("spinner" === e.type) {for (var r = [], n = 0; n < 12; n++)r.push(t("i"));return r}return t("svg", {class: ct("circular"),attrs: {viewBox: "25 25 50 50"}}, [t("circle", {attrs: {cx: "50",cy: "50",r: "20",fill: "none"}})])}function lt(t, e, r) {if (r.default) {var n, i = {fontSize: tt(e.textSize),color: null != (n = e.textColor) ? n : e.color};return t("span", {class: ct("text"),style: i}, [r.default()])}}function dt(t, e, r, n) {var i = e.color, o = e.size, s = e.type, a = {color: i};if (o) {var c = tt(o);a.width = c,a.height = c}return t("div", k()([{class: ct([s, {vertical: e.vertical}])}, it(n, !0)]), [t("span", {class: ct("spinner", s),style: a}, [ut(t, e)]), lt(t, e, r)])}dt.props = {color: String,size: [Number, String],vertical: Boolean,textSize: [Number, String],textColor: String,type: {type: String,default: "circular"}};var ft = at(dt), ht = Date.now();var pt = D ? r.g : window, gt = pt.requestAnimationFrame || function(t) {var e = Date.now(), r = Math.max(0, 16 - (e - ht)), n = setTimeout(t, r);return ht = e + r,n}, mt = pt.cancelAnimationFrame || pt.clearTimeout;function vt(t) {return gt.call(pt, t)}var yt = 1e3, _t = 6e4, bt = 36e5, wt = 24 * bt;var Et = Z("count-down"), Tt = Et[0], St = Et[1], At = Tt({props: {millisecond: Boolean,time: {type: [Number, String],default: 0},format: {type: String,default: "HH:mm:ss"},autoStart: {type: Boolean,default: !0}},data: function() {return {remain: 0}},computed: {timeData: function() {return t = this.remain,{days: Math.floor(t / wt),hours: Math.floor(t % wt / bt),minutes: Math.floor(t % bt / _t),seconds: Math.floor(t % _t / yt),milliseconds: Math.floor(t % yt)};var t},formattedTime: function() {return function(t, e) {var r = e.days, n = e.hours, i = e.minutes, o = e.seconds, s = e.milliseconds;if (-1 === t.indexOf("DD") ? n += 24 * r : t = t.replace("DD", H(r)),-1 === t.indexOf("HH") ? i += 60 * n : t = t.replace("HH", H(n)),-1 === t.indexOf("mm") ? o += 60 * i : t = t.replace("mm", H(i)),-1 === t.indexOf("ss") ? s += 1e3 * o : t = t.replace("ss", H(o)),-1 !== t.indexOf("S")) {var a = H(s, 3);t = -1 !== t.indexOf("SSS") ? t.replace("SSS", a) : -1 !== t.indexOf("SS") ? t.replace("SS", a.slice(0, 2)) : t.replace("S", a.charAt(0))}return t}(this.format, this.timeData)}},watch: {time: {immediate: !0,handler: "reset"}},activated: function() {this.keepAlivePaused && (this.counting = !0,this.keepAlivePaused = !1,this.tick())},deactivated: function() {this.counting && (this.pause(),this.keepAlivePaused = !0)},beforeDestroy: function() {this.pause()},methods: {start: function() {this.counting || (this.counting = !0,this.endTime = Date.now() + this.remain,this.tick())},pause: function() {var t;this.counting = !1,t = this.rafId,mt.call(pt, t)},reset: function() {this.pause(),this.remain = +this.time,this.autoStart && this.start()},tick: function() {P && (this.millisecond ? this.microTick() : this.macroTick())},microTick: function() {var t = this;this.rafId = vt((function() {t.counting && (t.setRemain(t.getRemain()),t.remain > 0 && t.microTick())}))},macroTick: function() {var t = this;this.rafId = vt((function() {if (t.counting) {var e, r, n = t.getRemain();e = n,r = t.remain,(Math.floor(e / 1e3) !== Math.floor(r / 1e3) || 0 === n) && t.setRemain(n),t.remain > 0 && t.macroTick()}}))},getRemain: function() {return Math.max(this.endTime - Date.now(), 0)},setRemain: function(t) {this.remain = t,this.$emit("change", this.timeData),0 === t && (this.pause(),this.$emit("finish"))}},render: function() {return (0,arguments[0])("div", {class: St()}, [this.slots("default", this.timeData) || this.formattedTime])}}), It = "van-hairline", xt = It + "--top", Lt = It + "--left", kt = It + "--surround", Rt = {zIndex: 2e3,lockCount: 0,stack: [],find: function(t) {return this.stack.filter((function(e) {return e.vm === t}))[0]},remove: function(t) {var e = this.find(t);if (e) {e.vm = null,e.overlay = null;var r = this.stack.indexOf(e);this.stack.splice(r, 1)}}}, Ct = !1;if (!D)try {var Pt = {};Object.defineProperty(Pt, "passive", {get: function() {Ct = !0}}),window.addEventListener("test-passive", null, Pt)} catch (t) {}function Dt(t, e, r, n) {void 0 === n && (n = !1),D || t.addEventListener(e, r, !!Ct && {capture: !1,passive: n})}function Ot(t, e, r) {D || t.removeEventListener(e, r)}function Mt(t, e) {("boolean" != typeof t.cancelable || t.cancelable) && t.preventDefault(),e && function(t) {t.stopPropagation()}(t)}var Ut = Z("overlay"), Ft = Ut[0], Nt = Ut[1];function Bt(t) {Mt(t, !0)}function jt(t, e, r, n) {var i = (0,et.A)({zIndex: e.zIndex}, e.customStyle);return M(e.duration) && (i.animationDuration = e.duration + "s"),t("transition", {attrs: {name: "van-fade"}}, [t("div", k()([{directives: [{name: "show",value: e.show}],style: i,class: [Nt(), e.className],on: {touchmove: e.lockScroll ? Bt : O}}, it(n, !0)]), [null == r.default ? void 0 : r.default()])])}jt.props = {show: Boolean,zIndex: [Number, String],duration: [Number, String],className: null,customStyle: Object,lockScroll: {type: Boolean,default: !0}};var $t = Ft(jt);function Ht(t) {var e = t.parentNode;e && e.removeChild(t)}var Gt = {className: "",customStyle: {}};function Kt(t) {return function(t, e) {var r = new o.Ay({el: document.createElement("div"),props: t.props,render: function(r) {return r(t, (0,et.A)({props: this.$props}, e))}});return document.body.appendChild(r.$el),r}($t, {on: {click: function() {t.$emit("click-overlay"),t.closeOnClickOverlay && (t.onClickOverlay ? t.onClickOverlay() : t.close())}}})}function qt(t) {var e = Rt.find(t);if (e) {var r = t.$el, n = e.config, i = e.overlay;r && r.parentNode && r.parentNode.insertBefore(i.$el, r),(0,et.A)(i, Gt, n, {show: !0})}}function Wt(t) {var e = Rt.find(t);e && (e.overlay.show = !1)}var Vt = /scroll|auto/i;var zt = {data: function() {return {direction: ""}},methods: {touchStart: function(t) {this.resetTouchStatus(),this.startX = t.touches[0].clientX,this.startY = t.touches[0].clientY},touchMove: function(t) {var e = t.touches[0];this.deltaX = e.clientX < 0 ? 0 : e.clientX - this.startX,this.deltaY = e.clientY - this.startY,this.offsetX = Math.abs(this.deltaX),this.offsetY = Math.abs(this.deltaY);var r, n;(!this.direction || this.offsetX < 10 && this.offsetY < 10) && (this.direction = (r = this.offsetX,n = this.offsetY,r > n ? "horizontal" : n > r ? "vertical" : ""))},resetTouchStatus: function() {this.direction = "",this.deltaX = 0,this.deltaY = 0,this.offsetX = 0,this.offsetY = 0},bindTouchEvent: function(t) {var e = this.onTouchStart, r = this.onTouchMove, n = this.onTouchEnd;Dt(t, "touchstart", e),Dt(t, "touchmove", r),n && (Dt(t, "touchend", n),Dt(t, "touchcancel", n))}}};function Yt(t) {var e = void 0 === t ? {} : t, r = e.ref, n = e.afterPortal;return {props: {getContainer: [String, Function]},watch: {getContainer: "portal"},mounted: function() {this.getContainer && this.portal()},methods: {portal: function() {var t, e, i = this.getContainer, o = r ? this.$refs[r] : this.$el;i ? t = "string" == typeof (e = i) ? document.querySelector(e) : e() : this.$parent && (t = this.$parent.$el),t && t !== o.parentNode && t.appendChild(o),n && n.call(this)}}}}var Qt = 0;var Xt = {mixins: [function(t) {var e = "binded_" + Qt++;function r() {this[e] || (t.call(this, Dt, !0),this[e] = !0)}function n() {this[e] && (t.call(this, Ot, !1),this[e] = !1)}return {mounted: r,activated: r,deactivated: n,beforeDestroy: n}}((function(t, e) {this.handlePopstate(e && this.closeOnPopstate)}))],props: {closeOnPopstate: Boolean},data: function() {return {bindStatus: !1}},watch: {closeOnPopstate: function(t) {this.handlePopstate(t)}},methods: {onPopstate: function() {this.close(),this.shouldReopen = !1},handlePopstate: function(t) {this.$isServer || this.bindStatus !== t && (this.bindStatus = t,(t ? Dt : Ot)(window, "popstate", this.onPopstate))}}}, Jt = {transitionAppear: Boolean,value: Boolean,overlay: Boolean,overlayStyle: Object,overlayClass: String,closeOnClickOverlay: Boolean,zIndex: [Number, String],lockScroll: {type: Boolean,default: !0},lazyRender: {type: Boolean,default: !0}};function Zt(t, e) {var r = e.to, n = e.url, i = e.replace;if (r && t) {var o = t[i ? "replace" : "push"](r);o && o.catch && o.catch((function(t) {if (t && !function(t) {return "NavigationDuplicated" === t.name || t.message && -1 !== t.message.indexOf("redundant navigation")}(t))throw t}))} elsen && (i ? location.replace(n) : location.href = n)}var te = {url: String,replace: Boolean,to: [String, Object]}, ee = Z("info"), re = ee[0], ne = ee[1];function ie(t, e, r, n) {var i = e.dot, o = e.info, s = M(o) && "" !== o;if (i || s)return t("div", k()([{class: ne({dot: i})}, it(n, !0)]), [i ? "" : e.info])}ie.props = {dot: Boolean,info: [Number, String]};var oe = re(ie), se = Z("icon"), ae = se[0], ce = se[1];var ue = {medel: "medal","medel-o": "medal-o","calender-o": "calendar-o"};function le(t, e, r, n) {var i, o = function(t) {return t && ue[t] || t}(e.name), s = function(t) {return !!t && -1 !== t.indexOf("/")}(o);return t(e.tag, k()([{class: [e.classPrefix, s ? "" : e.classPrefix + "-" + o],style: {color: e.color,fontSize: tt(e.size)}}, it(n, !0)]), [r.default && r.default(), s && t("img", {class: ce("image"),attrs: {src: o}}), t(oe, {attrs: {dot: e.dot,info: null != (i = e.badge) ? i : e.info}})])}le.props = {dot: Boolean,name: String,size: [Number, String],info: [Number, String],badge: [Number, String],color: String,tag: {type: String,default: "i"},classPrefix: {type: String,default: ce()}};var de = ae(le), fe = Z("button"), he = fe[0], pe = fe[1];function ge(t, e, r, n) {var i, o = e.tag, s = e.icon, a = e.type, c = e.color, u = e.plain, l = e.disabled, d = e.loading, f = e.hairline, h = e.loadingText, p = e.iconPosition, g = {};c && (g.color = u ? c : "white",u || (g.background = c),-1 !== c.indexOf("gradient") ? g.border = 0 : g.borderColor = c);var m, v, y = [pe([a, e.size, {plain: u,loading: d,disabled: l,hairline: f,block: e.block,round: e.round,square: e.square}]), (i = {},i[kt] = f,i)];function _() {return d ? r.loading ? r.loading() : t(ft, {class: pe("loading"),attrs: {size: e.loadingSize,type: e.loadingType,color: "currentColor"}}) : r.icon ? t("div", {class: pe("icon")}, [r.icon()]) : s ? t(de, {attrs: {name: s,classPrefix: e.iconPrefix},class: pe("icon")}) : void 0}return t(o, k()([{style: g,class: y,attrs: {type: e.nativeType,disabled: l},on: {click: function(t) {e.loading && t.preventDefault(),d || l || (ot(n, "click", t),function(t) {Zt(t.parent && t.parent.$router, t.props)}(n))},touchstart: function(t) {ot(n, "touchstart", t)}}}, it(n)]), [t("div", {class: pe("content")}, [(v = [],"left" === p && v.push(_()),(m = d ? h : r.default ? r.default() : e.text) && v.push(t("span", {class: pe("text")}, [m])),"right" === p && v.push(_()),v)])])}ge.props = (0,et.A)({}, te, {text: String,icon: String,color: String,block: Boolean,plain: Boolean,round: Boolean,square: Boolean,loading: Boolean,hairline: Boolean,disabled: Boolean,iconPrefix: String,nativeType: String,loadingText: String,loadingType: String,tag: {type: String,default: "button"},type: {type: String,default: "default"},size: {type: String,default: "normal"},loadingSize: {type: String,default: "20px"},iconPosition: {type: String,default: "left"}});var me = he(ge);var ve, ye, _e, be = Z("goods-action"), we = be[0], Ee = be[1], Te = we({mixins: [(ve = "vanGoodsAction",{provide: function() {var t;return (t = {})[ve] = this,t},data: function() {return {children: []}}})],props: {safeAreaInsetBottom: {type: Boolean,default: !0}},render: function() {return (0,arguments[0])("div", {class: Ee({unfit: !this.safeAreaInsetBottom})}, [this.slots()])}}), Se = Z("goods-action-button"), Ae = Se[0], Ie = Se[1], xe = Ae({mixins: [function(t, e) {var r, n;void 0 === e && (e = {});var i = e.indexKey || "index";return {inject: (r = {},r[t] = {default: null},r),computed: (n = {parent: function() {return this.disableBindRelation ? null : this[t]}},n[i] = function() {return this.bindRelation(),this.parent ? this.parent.children.indexOf(this) : null},n),watch: {disableBindRelation: function(t) {t || this.bindRelation()}},mounted: function() {this.bindRelation()},beforeDestroy: function() {var t = this;this.parent && (this.parent.children = this.parent.children.filter((function(e) {return e !== t})))},methods: {bindRelation: function() {if (this.parent && -1 === this.parent.children.indexOf(this)) {var t = [].concat(this.parent.children, [this]);!function(t, e) {var r = e.$vnode.componentOptions;if (r && r.children) {var n = function(t) {var e = [];return function t(r) {r.forEach((function(r) {e.push(r),r.componentInstance && t(r.componentInstance.$children.map((function(t) {return t.$vnode}))),r.children && t(r.children)}))}(t),e}(r.children);t.sort((function(t, e) {return n.indexOf(t.$vnode) - n.indexOf(e.$vnode)}))}}(t, this.parent),this.parent.children = t}}}}}("vanGoodsAction")],props: (0,et.A)({}, te, {type: String,text: String,icon: String,color: String,loading: Boolean,disabled: Boolean}),computed: {isFirst: function() {var t = this.parent && this.parent.children[this.index - 1];return !t || t.$options.name !== this.$options.name},isLast: function() {var t = this.parent && this.parent.children[this.index + 1];return !t || t.$options.name !== this.$options.name}},methods: {onClick: function(t) {this.$emit("click", t),Zt(this.$router, this)}},render: function() {return (0,arguments[0])(me, {class: Ie([{first: this.isFirst,last: this.isLast}, this.type]),attrs: {size: "large",type: this.type,icon: this.icon,color: this.color,loading: this.loading,disabled: this.disabled},on: {click: this.onClick}}, [this.slots() || this.text])}}), Le = Z("dialog"), ke = Le[0], Re = Le[1], Ce = Le[2], Pe = ke({mixins: [(void 0 === ye && (ye = {}),{mixins: [zt, Xt, Yt({afterPortal: function() {this.overlay && qt()}})],provide: function() {return {vanPopup: this}},props: Jt,data: function() {return this.onReopenCallback = [],{inited: this.value}},computed: {shouldRender: function() {return this.inited || !this.lazyRender}},watch: {value: function(t) {var e = t ? "open" : "close";this.inited = this.inited || this.value,this[e](),ye.skipToggleEvent || this.$emit(e)},overlay: "renderOverlay"},mounted: function() {this.value && this.open()},activated: function() {this.shouldReopen && (this.$emit("input", !0),this.shouldReopen = !1)},beforeDestroy: function() {var t, e;t = this,(e = Rt.find(t)) && (Ht(e.overlay.$el),Rt.remove(t)),this.opened && this.removeLock(),this.getContainer && Ht(this.$el)},deactivated: function() {this.value && (this.close(),this.shouldReopen = !0)},methods: {open: function() {this.$isServer || this.opened || (void 0 !== this.zIndex && (Rt.zIndex = this.zIndex),this.opened = !0,this.renderOverlay(),this.addLock(),this.onReopenCallback.forEach((function(t) {t()})))},addLock: function() {this.lockScroll && (Dt(document, "touchstart", this.touchStart),Dt(document, "touchmove", this.onTouchMove),Rt.lockCount || document.body.classList.add("van-overflow-hidden"),Rt.lockCount++)},removeLock: function() {this.lockScroll && Rt.lockCount && (Rt.lockCount--,Ot(document, "touchstart", this.touchStart),Ot(document, "touchmove", this.onTouchMove),Rt.lockCount || document.body.classList.remove("van-overflow-hidden"))},close: function() {this.opened && (Wt(this),this.opened = !1,this.removeLock(),this.$emit("input", !1))},onTouchMove: function(t) {this.touchMove(t);var e = this.deltaY > 0 ? "10" : "01", r = function(t, e) {void 0 === e && (e = window);for (var r = t; r && "HTML" !== r.tagName && "BODY" !== r.tagName && 1 === r.nodeType && r !== e; ) {var n = window.getComputedStyle(r).overflowY;if (Vt.test(n))return r;r = r.parentNode}return e}(t.target, this.$el), n = r.scrollHeight, i = r.offsetHeight, o = r.scrollTop, s = "11";0 === o ? s = i >= n ? "00" : "01" : o + i >= n && (s = "10"),"11" === s || "vertical" !== this.direction || parseInt(s, 2) & parseInt(e, 2) || Mt(t, !0)},renderOverlay: function() {var t = this;!this.$isServer && this.value && this.$nextTick((function() {t.updateZIndex(t.overlay ? 1 : 0),t.overlay ? function(t, e) {var r = Rt.find(t);if (r)r.config = e;else {var n = Kt(t);Rt.stack.push({vm: t,config: e,overlay: n})}qt(t)}(t, {zIndex: Rt.zIndex++,duration: t.duration,className: t.overlayClass,customStyle: t.overlayStyle}) : Wt(t)}))},updateZIndex: function(t) {void 0 === t && (t = 0),this.$el.style.zIndex = ++Rt.zIndex + t},onReopen: function(t) {this.onReopenCallback.push(t)}}})],props: {title: String,theme: String,width: [Number, String],message: String,className: null,callback: Function,beforeClose: Function,messageAlign: String,cancelButtonText: String,cancelButtonColor: String,confirmButtonText: String,confirmButtonColor: String,showCancelButton: Boolean,overlay: {type: Boolean,default: !0},allowHtml: {type: Boolean,default: !0},transition: {type: String,default: "van-dialog-bounce"},showConfirmButton: {type: Boolean,default: !0},closeOnPopstate: {type: Boolean,default: !0},closeOnClickOverlay: {type: Boolean,default: !1}},data: function() {return {loading: {confirm: !1,cancel: !1}}},methods: {onClickOverlay: function() {this.handleAction("overlay")},handleAction: function(t) {var e = this;this.$emit(t),this.value && (this.beforeClose ? (this.loading[t] = !0,this.beforeClose(t, (function(r) {!1 !== r && e.loading[t] && e.onClose(t),e.loading.confirm = !1,e.loading.cancel = !1}))) : this.onClose(t))},onClose: function(t) {this.close(),this.callback && this.callback(t)},onOpened: function() {var t = this;this.$emit("opened"),this.$nextTick((function() {var e;null == (e = t.$refs.dialog) || e.focus()}))},onClosed: function() {this.$emit("closed")},onKeydown: function(t) {var e = this;if ("Escape" === t.key || "Enter" === t.key) {if (t.target !== this.$refs.dialog)return;({Enter: this.showConfirmButton ? function() {return e.handleAction("confirm")}: O,Escape: this.showCancelButton ? function() {return e.handleAction("cancel")}: O})[t.key](),this.$emit("keydown", t)}},genRoundButtons: function() {var t = this, e = this.$createElement;return e(Te, {class: Re("footer")}, [this.showCancelButton && e(xe, {attrs: {size: "large",type: "warning",text: this.cancelButtonText || Ce("cancel"),color: this.cancelButtonColor,loading: this.loading.cancel},class: Re("cancel"),on: {click: function() {t.handleAction("cancel")}}}), this.showConfirmButton && e(xe, {attrs: {size: "large",type: "danger",text: this.confirmButtonText || Ce("confirm"),color: this.confirmButtonColor,loading: this.loading.confirm},class: Re("confirm"),on: {click: function() {t.handleAction("confirm")}}})])},genButtons: function() {var t, e = this, r = this.$createElement, n = this.showCancelButton && this.showConfirmButton;return r("div", {class: [xt, Re("footer")]}, [this.showCancelButton && r(me, {attrs: {size: "large",loading: this.loading.cancel,text: this.cancelButtonText || Ce("cancel")},class: Re("cancel"),style: {color: this.cancelButtonColor},on: {click: function() {e.handleAction("cancel")}}}), this.showConfirmButton && r(me, {attrs: {size: "large",loading: this.loading.confirm,text: this.confirmButtonText || Ce("confirm")},class: [Re("confirm"), (t = {},t[Lt] = n,t)],style: {color: this.confirmButtonColor},on: {click: function() {e.handleAction("confirm")}}})])},genContent: function(t, e) {var r = this.$createElement;if (e)return r("div", {class: Re("content")}, [e]);var n = this.message, i = this.messageAlign;if (n) {var o, s, a = {class: Re("message", (o = {"has-title": t},o[i] = i,o)),domProps: (s = {},s[this.allowHtml ? "innerHTML" : "textContent"] = n,s)};return r("div", {class: Re("content", {isolated: !t})}, [r("div", k()([{}, a]))])}}},render: function() {var t = arguments[0];if (this.shouldRender) {var e = this.message, r = this.slots(), n = this.slots("title") || this.title, i = n && t("div", {class: Re("header", {isolated: !e && !r})}, [n]);return t("transition", {attrs: {name: this.transition},on: {afterEnter: this.onOpened,afterLeave: this.onClosed}}, [t("div", {directives: [{name: "show",value: this.value}],attrs: {role: "dialog","aria-labelledby": this.title || e,tabIndex: 0},class: [Re([this.theme]), this.className],style: {width: tt(this.width)},ref: "dialog",on: {keydown: this.onKeydown}}, [i, this.genContent(n, r), "round-button" === this.theme ? this.genRoundButtons() : this.genButtons()])])}}});function De(t) {return D ? Promise.resolve() : new Promise((function(e, r) {var n;_e && (n = _e.$el,document.body.contains(n)) || (_e && _e.$destroy(),(_e = new (o.Ay.extend(Pe))({el: document.createElement("div"),propsData: {lazyRender: !1}})).$on("input", (function(t) {_e.value = t}))),(0,et.A)(_e, De.currentOptions, t, {resolve: e,reject: r})}))}De.defaultOptions = {value: !0,title: "",width: "",theme: null,message: "",overlay: !0,className: "",allowHtml: !0,lockScroll: !0,transition: "van-dialog-bounce",beforeClose: null,overlayClass: "",overlayStyle: null,messageAlign: "",getContainer: "body",cancelButtonText: "",cancelButtonColor: null,confirmButtonText: "",confirmButtonColor: null,showConfirmButton: !0,showCancelButton: !1,closeOnPopstate: !0,closeOnClickOverlay: !1,callback: function(t) {_e["confirm" === t ? "resolve" : "reject"](t)}},De.alert = De,De.confirm = function(t) {return De((0,et.A)({showCancelButton: !0}, t))},De.close = function() {_e && (_e.value = !1)},De.setDefaultOptions = function(t) {(0,et.A)(De.currentOptions, t)},De.resetDefaultOptions = function() {De.currentOptions = (0,et.A)({}, De.defaultOptions)},De.resetDefaultOptions(),De.install = function() {o.Ay.use(Pe)},De.Component = Pe,o.Ay.prototype.$dialog = De;var Oe = De;o.Ay.use(ft),o.Ay.use(At),o.Ay.use(Oe);var Me = r(95353), Ue = r(93547), Fe = r(11265), Ne = r.n(Fe), Be = r(385), je = r.n(Be), $e = r(11393), He = r.n($e), Ge = r(64346);function Ke(t, e) {var r = a()(t);if (u()) {var n = u()(t);e && (n = d()(n).call(n, (function(e) {return h()(t, e).enumerable}))),r.push.apply(r, n)}return r}function qe(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? Ke(Object(r), !0).forEach((function(e) {(0,v.A)(t, e, r[e])})) : g() ? Object.defineProperties(t, g()(r)) : Ke(Object(r)).forEach((function(e) {Object.defineProperty(t, e, h()(r, e))}))}return t}var We = {data: function() {return {userId: "",isVip: !1,headerIconUrl: "",headerNickname: "",UserInfo: null,showHeadBox: !1,Timer: null,isEnter: !1,specialStyle: "",notLoginTagIcon: ""}},computed: qe(qe({}, (0,Me.aH)("user", ["userInfoObj", "setUserInfo"])), {}, {isLogin: function() {return localStorage.getItem("userId") || ""}}),watch: {userInfoObj: {handler: function(t, e) {t.phone && (this.phoneNum = t.phone,this.headerIconUrl = t.headUrl,this.headerNickname = t.nickname)},immediate: !0}},mounted: function() {this.specialStyle = "red"},methods: {showBox: function() {this.isLogin && (this.isEnter = !0,this.showHeadBox = !0)},hideBox: function() {var t = this;this.isLogin && (this.Timer && clearTimeout(this.Timer),this.isEnter = !1,this.Timer = T()((function() {t.isEnter || (t.showHeadBox = !1)}), 300))},personalCenter: function() {window.open("".concat(Ge.A.H5hostURL, "/middleh5/ucenter?ucenterTab=0"))},torouteCenter: function() {window.open("".concat(Ge.A.H5hostURL, "/middleh5/ucenter?ucenterTab=1"))},clickToLogin: function() {MiguplayUtils.ua.isPC() && this.$store.commit("iframeDialog/setLoginUrl"),MiguplayUtils.addClientEvent.recordEventAction({eventType: "h5_top_2",pageName: "全局顶部",rese8: "点击 顶部-头像"})},logout: function() {window.localStorage.removeItem("userId"),window.localStorage.removeItem("userToken"),window.localStorage.removeItem("cryptoUserId"),window.localStorage.removeItem("cryptoUserToken"),window.localStorage.removeItem("cryptoSign"),T()((function() {window.location.reload()}), 200)}}}, Ve = r(14486), ze = (0,Ve.A)(We, (function() {var t = this, e = t._self._c;return e("div", {staticClass: "headerContainer"}, [e("div", {staticClass: "header-pic-box",class: {logined: t.isLogin},on: {mouseenter: function(e) {return t.showBox()},mouseleave: function(e) {return t.hideBox()}}}, [0 == t.isLogin ? e("div", {staticClass: "notLoginHeaderIcon",attrs: {alt: ""},on: {click: t.clickToLogin}}) : t._e(), t._v(" "), 0 == t.isLogin ? e("span", {class: ["nologin-txt", t.specialStyle]}, [t._v("未登录")]) : t._e(), t._v(" "), t.isLogin && 0 == t.isVip ? e("img", {staticClass: "normalHeaderIcon",attrs: {src: t.headerIconUrl,alt: ""}}) : t._e(), t._v(" "), t.isLogin && t.isVip ? e("img", {staticClass: "vipHeaderIcon",attrs: {src: t.headerIconUrl,alt: ""}}) : t._e(), t._v(" "), e("div", {directives: [{name: "show",rawName: "v-show",value: t.showHeadBox,expression: "showHeadBox"}],staticClass: "user-info-box",on: {mouseenter: function(e) {return t.showBox()},mouseleave: function(e) {return t.hideBox()}}}, [e("div", {staticClass: "header-name-box"}, [e("div", {staticClass: "header-nam"}, [e("img", {staticClass: "HeaderIcon",attrs: {src: t.headerIconUrl}}), t._v(" "), e("span", {staticClass: "name-txt",class: {"vip-name": t.isVip}}, [t._v(t._s(t.headerNickname))]), t._v(" "), e("i", {directives: [{name: "show",rawName: "v-show",value: t.isVip,expression: "isVip"}],staticClass: "vip-icon"})]), t._v(" "), e("div", {staticClass: "out-login",on: {click: function(e) {return t.logout()}}}, [t._v("退出登录")])]), t._v(" "), e("div", {staticClass: "vip-oneself"}, [e("div", {staticClass: "vip-oneself-item vip-enter",on: {click: t.torouteCenter}}, [e("span", [t._v("会员中心")]), t._v(" "), e("i")]), t._v(" "), e("div", {staticClass: "vip-oneself-item oneself-enter",on: {click: t.personalCenter}}, [e("span", [t._v("个人中心")]), t._v(" "), e("i")])])])])])}), [], !1, null, "55966a3f", null).exports, Ye = r(18979), Qe = r.n(Ye), Xe = {props: ["relationList", "associativeWords"],data: function() {return {showHistory: !1,showHot: !1,searchWord: "",historyList: [],hotList: [],appChannel: "",ADTAG: "",token: "",activityid: "",placeholderWord: "",queryTopWords: [],hotGameList: [],hotWordList: [],newAllHistoryList: [],allHistoryList: []}},mounted: function() {var t = this;return (0,m.A)(_().mark((function e() {return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return e.next = 2,t.getHistoryList();case 2:return e.next = 4,t.getHotWords();case 4:case "end":return e.stop()}}), e)})))()},methods: {setSearchValue: function(t, e) {if (e)if (t = decodeURIComponent(t),localStorage.getItem("historyList")) {var r = this.setSeachHistory();if (-1 == r.indexOf(t))r.unshift(t),localStorage.setItem("historyList", w()(r));else if (-1 != r.indexOf(t)) {var n = r.indexOf(t);je()(r).call(r, n, 1),r.unshift(t),localStorage.setItem("historyList", w()(r))}} else {var i = [];i.unshift(t),window.localStorage.setItem("historyList", w()(i))}var o;(this.getHistoryList(),this.associativeWords && MiguplayUtils.addClientEvent.recordEventAction({eventType: "h5_search_0",pageName: "搜索页面",rese8: "点击 搜索页面-联想词",keyword: t}),this.$parent.isShowSearchPanel = !1,this.$parent.searchValue = MiguplayUtils.url.getQueryString("keyword"),"search" != this.$route.name) && window.open(He()(o = "".concat(Ge.A.H5hostURL, "/middleh5/search/?keyword=")).call(o, t))},setSeachHistory: function() {return JSON.parse(localStorage.getItem("historyList")) ? JSON.parse(localStorage.getItem("historyList")) : []},getHistoryList: function() {var t;(this.newAllHistoryList = this.setSeachHistory(),this.newAllHistoryList.length > 5) ? this.allHistoryList = Qe()(t = this.newAllHistoryList).call(t, 0, 10) : this.allHistoryList = this.newAllHistoryList;this.showHistory = this.allHistoryList.length > 0},getHotWords: function() {var t = this;return (0,m.A)(_().mark((function e() {var r;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return e.next = 2,I.A.getHotWords({});case 2:r = e.sent,t.queryTopWords = r.data.resultData,"000000" == r.data.returnCode && (t.queryTopWords && 0 != t.queryTopWords.length && (t.showHot = !0,t.queryTopWords.forEach((function(e) {var r;if (e.gameId)t.hotGameList.push(e),t.hotGameList = je()(r = t.hotGameList).call(r, 0, 6);else if ("" == e.gameId) {var n;t.hotWordList.push(e),t.hotWordList = t.hotWordList.length > 0 ? je()(n = t.hotWordList).call(n, 0, 2) : []}}))),t.queryTopWords && 0 != t.queryTopWords.length && t.queryTopWords.forEach((function(t) {var e, r = He()(e = "".concat(Ge.A.H5hostURL, "/middleh5/gamedetail/")).call(e, t.gameId);MiguplayUtils.addClientEvent.recordEventAction({eventType: "h5_search_1",pageName: "搜索页面",rese8: "曝光 搜索页面-热门搜索",gameId: t.gameId,rese5: r})})));case 5:case "end":return e.stop()}}), e)})))()},clearHistory: function() {this.historyList = [],localStorage.removeItem("historyList"),this.getHistoryList(),this.showHistory = !1}}}, Je = {props: ["specialStyle"],data: function() {return {isShowSearchPanel: !1,searchWord: "",searchValue: "",newAssociativeWords: [],associativeWords: !1}},components: {UserHeaderIcon: ze,PCQuickSearchList: (0,Ve.A)(Xe, (function() {var t, e, r = this, n = r._self._c;return n("div", {staticClass: "QuickSearchContainer"}, [r.showHistory && !r.associativeWords ? n("div", {staticClass: "SearchHistoryContainer"}, [n("div", {staticClass: "SearchHistoryTop"}, [n("div", {staticClass: "SearchHistoryTitle"}, [r._v("最近搜索")]), r._v(" "), n("div", {staticClass: "SearchHistoryClean",on: {click: r.clearHistory}}, [r._v("清空")])]), r._v(" "), n("div", {staticClass: "historyBox"}, [n("ul", {staticClass: "leftH",class: {isHalf: r.allHistoryList.length > 5},attrs: {id: "historySearchTips"}}, r._l(Qe()(t = r.allHistoryList).call(t, 0, 5), (function(t, e) {return n("li", {key: e,staticClass: "history-ul",on: {click: function(e) {return r.setSearchValue(t, !0)}}}, [n("span", [r._v(r._s(t))])])})), 0), r._v(" "), n("ul", {directives: [{name: "show",rawName: "v-show",value: r.allHistoryList.length > 5,expression: "allHistoryList.length > 5"}],staticClass: "rightH",class: {isHalf: r.allHistoryList.length > 5},attrs: {id: "historySearchTips"}}, r._l(Qe()(e = r.allHistoryList).call(e, 5, 10), (function(t, e) {return n("li", {key: e,staticClass: "history-ul",on: {click: function(e) {return r.setSearchValue(t)}}}, [n("span", [r._v(r._s(t))])])})), 0)])]) : r._e(), r._v(" "), r.showHot && !r.associativeWords ? n("div", {staticClass: "SearchHotContainer"}, [n("div", {staticClass: "SearchHotTop"}, [r._v("热门搜索")]), r._v(" "), n("ul", r._l(r.queryTopWords, (function(t, e) {return e < 6 ? n("li", {key: e,staticClass: "hot-word-li",on: {click: function(e) {return r.setSearchValue(t.gameName, !0)}}}, [n("span", {staticClass: "tag-num"}, [r._v(r._s(e + 1))]), r._v(r._s(t.gameName)), t.newFieryImg ? n("i", {staticClass: "tag-new",style: {backgroundImage: "url(" + t.newFieryImg + ")"}}) : r._e()]) : r._e()})), 0)]) : r._e(), r._v(" "), n("div", {directives: [{name: "show",rawName: "v-show",value: r.associativeWords && r.relationList && r.relationList.length > 0,expression: "associativeWords && relationList && relationList.length > 0"}],staticClass: "relation-box"}, [n("ul", r._l(r.relationList, (function(t, e) {return n("li", {key: e,staticClass: "relation-word-li",on: {click: function(e) {return r.setSearchValue(t, !0)}}}, [r._v("\n        " + r._s(t) + "\n      ")])})), 0)])])}), [], !1, null, "dd7629e0", null).exports},mounted: function() {var t = this;this.searchValue = MiguplayUtils.url.getQueryString("keyword");var e = this;window.addEventListener("click", (function(t) {"INPUT" !== t.target.tagName && (e.isShowSearchPanel = !1,e.associativeWords = !1,window.navigator.userAgent.indexOf("MSIE"))})),document.onkeydown = function(t) {var r;13 == window.event.keyCode && ("searchInput" === document.activeElement.id && e.searchValue && "" != Ne()(r = e.searchValue).call(r) && e.clickSearch())},"true" == window.localStorage.getItem("toHistory") && T()((function() {window.localStorage.removeItem("toHistory"),"ucenter" != t.$route.name && window.open("".concat(Ge.A.H5hostURL, "/middleh5/ucenter"), "_self")}), 1e3)},methods: {tohome: function() {window.open("".concat(Ge.A.H5hostURL, "/middleh5"))},toTribe: function() {"tribeIndex" == this.$route.name ? window.location.reload() : window.open("".concat(Ge.A.H5hostURL, "/middleh5/tribeIndex"))},logoReload: function() {window.location.reload()},inputClick: function() {var t;if (MiguplayUtils.addClientEvent.recordEventAction({eventType: "h5_top_1",pageName: "全局顶部",rese8: "点击 顶部-搜索"}),this.searchValue && (t = this.searchValue.replace(/\s+/g, "")),window.localStorage.setItem("gameName", t),!t)return this.isShowSearchPanel = !0,!1;this.inputChange()},inputChange: function() {var t = this;return (0,m.A)(_().mark((function e() {var r, n, i, o;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:if (t.searchValue = decodeURIComponent(t.searchValue),i = {data: {keyword: t.searchValue,type: [1]}},!t.searchValue || "" == Ne()(r = t.searchValue).call(r)) {e.next = 9;break}return e.next = 6,I.A.getassociation(i);case 6:o = e.sent,t.newAssociativeWords = o.data.resultData,t.newAssociativeWords && t.newAssociativeWords.length > 0 ? t.associativeWords = !0 : t.associativeWords = !1;case 9:t.searchValue && "" == Ne()(n = t.searchValue).call(n) ? t.associativeWords = !1 : t.associativeWords = !0,t.isShowSearchPanel = !0;case 11:case "end":return e.stop()}}), e)})))()},clearVal: function() {this.searchValue = "",this.associativeWords = !1},clickSearch: function() {var t;if (this.searchValue && "" != Ne()(t = this.searchValue).call(t)) {var e, r, n, i;if (localStorage.getItem("historyList")) {var o = this.setSeachHistory();if (-1 == o.indexOf(this.searchValue) && null == o.indexOf(this.searchValue))o.unshift(this.searchValue),localStorage.setItem("historyList", w()(o));else if (-1 != o.indexOf(this.searchValue)) {var s = o.indexOf(this.searchValue);je()(o).call(o, s, 1),o.unshift(this.searchValue),localStorage.setItem("historyList", w()(o))}} else {var a = [];a.unshift(this.searchValue),window.localStorage.setItem("historyList", w()(a))}if (this.isShowSearchPanel = !1,null != Ne()(e = this.searchValue).call(e) && "" != Ne()(r = this.searchValue).call(r))window.open(He()(n = "".concat(Ge.A.H5hostURL, "/middleh5/search/?keyword=")).call(n, Ne()(i = this.searchValue).call(i)), "_blank");MiguplayUtils.addClientEvent.recordEventAction({eventType: "h5_search_00",pageName: "搜索页面",rese8: "点击 搜索按钮",keyword: this.searchValue})}},setSeachHistory: function() {return JSON.parse(localStorage.getItem("historyList")) ? JSON.parse(localStorage.getItem("historyList")) : []},tohistoryList: function() {MiguplayUtils.addClientEvent.recordEventAction({eventType: "h5_top_3",pageName: "全局顶部",rese8: "点击 顶部-已玩"}),window.localStorage.getItem("userId") && window.localStorage.getItem("userToken") ? window.open("".concat(Ge.A.H5hostURL, "/ucenter"), "_blank") : (this.$store.commit("iframeDialog/setLoginUrl"),window.localStorage.setItem("toHistory", !0))},toDownload: function() {MiguplayUtils.addClientEvent.recordEventAction({eventType: "h5_top_0",pageName: "全局顶部",rese8: "点击 顶部-下载App"}),window.open(Ge.A.DOWNPAGE)}}}, Ze = (0,Ve.A)(Je, (function() {var t = this, e = t._self._c;return e("div", {staticClass: "pc-header"}, [e("div", {staticClass: "container"}, [e("p", {staticClass: "logo",on: {click: function(e) {return t.tohome()}}})])])}), [], !1, null, "1b0b3d41", null).exports;function tr(t, e) {var r = a()(t);if (u()) {var n = u()(t);e && (n = d()(n).call(n, (function(e) {return h()(t, e).enumerable}))),r.push.apply(r, n)}return r}function er(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? tr(Object(r), !0).forEach((function(e) {(0,v.A)(t, e, r[e])})) : g() ? Object.defineProperties(t, g()(r)) : tr(Object(r)).forEach((function(e) {Object.defineProperty(t, e, h()(r, e))}))}return t}var rr = {props: ["from"],data: function() {return {isMIguHover: !1,isH5Style: !1,screenWidth: null,isPC: null}},mounted: function() {var t = this;this.screenWidth = document.body.clientWidth,window.onresize = function() {t.screenWidth = document.body.clientWidth},this.isPC = MiguplayUtils.ua.isPC()},computed: er(er({}, (0,Me.PY)("user", ["setUserInfo", "setUserInfoObj", "setActivityInfo"])), {}, {isMaxWidth: function() {return "index" == this.$route.name || "search" == this.$route.name || "ucenter" == this.$route.name}}),methods: {year: function() {var t = (new Date).getFullYear();return t},onMouseOver: function() {this.isMIguHover = !0},onMouseOut: function() {this.isMIguHover = !1},toWeibo: function() {window.open("https://weibo.com/cmgame")},toTieba: function() {window.open("https://tieba.baidu.com/f?kw=%E5%92%AA%E5%92%95%E5%BF%AB%E6%B8%B8&ie=utf-8&tp=0")},toUnderAge: function() {window.open("https://www.migufun.com/miguplay/html/children/")},toDeveloper: function() {window.open("https://open.migufun.com/")},toCopyright: function() {window.open("".concat(Ge.A.H5hostURL, "/middleh5/copyRight"))},toService: function() {window.open("https://passport.migu.cn/portal/protocol?sourceid=206004")},toPrivacy: function() {window.open("https://passport.migu.cn/portal/privacy/protocol?sourceid=206004")},privacy: function() {window.location.href = "https://passport.migu.cn/portal/privacy/protocol?sourceid=206004"},agreement: function() {window.location.href = "https://passport.migu.cn/portal/protocol?sourceid=206004"},jumpUrl: function() {window.open("https://beian.miit.gov.cn/#/Integrated/index")}},watch: {screenWidth: {handler: function(t) {this.isH5Style = t < 500},immediate: !0,deep: !0}}}, nr = (0,Ve.A)(rr, (function() {var t = this, e = t._self._c;return e("div", {staticClass: "webcopyRight"}, [e("div", {staticClass: "newCopyRight"}, [e("div", {staticClass: "copyRightBox"}, [t._m(0), t._v(" "), e("div", {staticClass: "feedbackBox mediaColumn",attrs: {id: "feedbackBox"}}, [e("p", [t._v("媒体专栏")]), t._v(" "), e("p", {on: {mouseenter: t.onMouseOver,mouseleave: t.onMouseOut}}, [e("span"), t._v("微信服务号\n        ")]), t._v(" "), e("p", {on: {click: t.toWeibo}}, [e("span"), t._v("新浪微博")]), t._v(" "), e("p", {on: {click: t.toTieba}}, [e("span"), t._v("百度贴吧")]), t._v(" "), t.isMIguHover ? e("div", {staticClass: "migu"}) : t._e()]), t._v(" "), e("div", {staticClass: "feedbackBox service"}, [e("p", [t._v("服务")]), t._v(" "), e("div", {staticClass: "flexRow"}, [e("p", {on: {click: t.toService}}, [t._v("服务协议")]), t._v(" "), e("p", {on: {click: t.toDeveloper}}, [t._v("开发者平台")])]), t._v(" "), e("div", {staticClass: "flexRow"}, [e("p", {on: {click: t.toCopyright}}, [t._v("版权申明")]), t._v(" "), e("p", {staticStyle: {"font-weight": "bold"},on: {click: t.toPrivacy}}, [t._v("隐私政策")])]), t._v(" "), e("p", {staticClass: "flexRow",on: {click: t.toUnderAge}}, [t._v("未成年人家长保护")])])]), t._v(" "), e("div", {staticClass: "reportBox"}, [e("div", [t._v("\n        举报邮箱kfsupport_migu@139.com\n        未成年人不良信息举报、违法和不良信息公开举报、互联网算法推荐举报\n      ")]), t._v(" "), e("div", [t._v("\n        Copy Right 1998 - " + t._s(t.year()) + " MIGU. All Rights\n        Reserved.咪咕互动娱乐有限公司版权所有\n      ")]), t._v(" "), e("div", [t._v("\n        苏"), e("span", {on: {click: t.jumpUrl}}, [t._v("ICP")]), t._v("备"), e("span", {on: {click: t.jumpUrl}}, [t._v("16014093")]), t._v("号-1     苏IAS备201703060003号     "), e("span", {staticClass: "gongan"}), t._v("苏公网安备 32010502010143\n      ")]), t._v(" "), e("div", [t._v("苏网文〔2023〕5213-225号     （署）网出证（苏）字第029号")])])])])}), [function() {var t = this, e = t._self._c;return e("div", {staticClass: "feedbackBox",attrs: {id: "feedbackBox"}}, [e("p", [t._v("玩家反馈")]), t._v(" "), e("p", [e("span"), t._v("miguxiaopaotui")]), t._v(" "), e("p", [e("span"), t._v("731804685")]), t._v(" "), e("p", [e("span"), t._v("kfsupport_migu@139.com")])])}], !1, null, "3472ea00", null).exports;function ir(t, e) {var r = a()(t);if (u()) {var n = u()(t);e && (n = d()(n).call(n, (function(e) {return h()(t, e).enumerable}))),r.push.apply(r, n)}return r}var or = {data: function() {return {}},watch: {},computed: function(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? ir(Object(r), !0).forEach((function(e) {(0,v.A)(t, e, r[e])})) : g() ? Object.defineProperties(t, g()(r)) : ir(Object(r)).forEach((function(e) {Object.defineProperty(t, e, h()(r, e))}))}return t}({}, (0,Me.aH)({loginUrl: function(t) {return t.iframeDialog.loginUrl}})),created: function() {},mounted: function() {window.addEventListener("message", this.windowMessage)},destroyed: function() {window.removeEventListener("message", this.windowMessage)},methods: {windowMessage: function(t) {if (t.data && "loginSuccess" == t.data.status) {var e = t.data.userId, r = t.data.userToken;localStorage.setItem("userId", e),localStorage.setItem("userToken", r),this.close(),window.location.reload()}},close: function() {window.removeEventListener("message", this.windowMessage),this.$store.commit("iframeDialog/clearLoginUrl", "")},refresh: function() {this.$refs.loginIframe.src = this.loginUrl}},components: {}}, sr = or, ar = (0,Ve.A)(sr, (function() {var t = this, e = t._self._c;return t.loginUrl ? e("div", {staticClass: "wrapper"}, [e("div", {staticClass: "shadow",on: {click: function(e) {return t.close()}}}), t._v(" "), e("div", {staticClass: "container"}, [e("div", {staticClass: "header"}, [e("span", {staticClass: "close-ico",on: {click: function(e) {return t.close()}}}), t._v(" "), e("span", {staticClass: "refresh-ico",on: {click: function(e) {return t.refresh()}}})]), t._v(" "), e("div", {staticClass: "iframe-panel"}, [e("iframe", {ref: "loginIframe",attrs: {name: "loginIframe",src: t.loginUrl,frameborder: "0"}})])])]) : t._e()}), [], !1, null, "3f17d356", null).exports, cr = r(87673);function ur(t, e) {var r = a()(t);if (u()) {var n = u()(t);e && (n = d()(n).call(n, (function(e) {return h()(t, e).enumerable}))),r.push.apply(r, n)}return r}function lr(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? ur(Object(r), !0).forEach((function(e) {(0,v.A)(t, e, r[e])})) : g() ? Object.defineProperties(t, g()(r)) : ur(Object(r)).forEach((function(e) {Object.defineProperty(t, e, h()(r, e))}))}return t}var dr = {name: "App",components: {NewCopyRight: nr,EndChunk: function() {return r.e(6269).then(r.bind(r, 96269))},PCHeader: Ze,MiguLoginDialog: ar},data: function() {return {isUserInfoChanged: [],waitload: !0,isHome: location.href.indexOf("/delivery/activity/?") > 0}},computed: lr(lr({}, (0,Me.aH)("user", ["userId", "userToken", "userInfoObj", "loading"])), {}, {isPC: function() {var t = window.navigator.userAgent;return !(t.match(/Android/i) || t.match(/webOS/i) || t.match(/iPhone/i) || t.match(/iPad/i) || t.match(/iPod/i) || t.match(/BlackBerry/i) || t.match(/Windows Phone/i))},isinCarPad: function() {return this.$route.query.isinCarPad || MiguplayUtils.url.getQueryString("isinCarPad")},isMGDM: function() {return this.$route.query.isMGDM && 1 == this.$route.query.isMGDM},isMiguApp: function() {return x.A.isMiguApp()},isIosWebApp: function() {return window.navigator.standalone}}),watch: {userToken: function(t, e) {t != e && (this.getUserPhone(),this.getUserTagType(),this.queryProvinceFlagByPhone())},loading: function(t, e) {t != e && (this.waitload = t.loading)}},beforeCreate: function() {Ue.A.setDeviceId(),Ue.A.getAppDeviceId(),Ue.A.setactivitySessionId()},created: function() {window.userIdFromNative = this.userIdFromNative,window.webviewWillShow = this.webviewWillShow;try {MiguplayUtils.layer.setSilentTribute(),MiguplayUtils.user.ssoHeadOffice()} catch (t) {}location.href.indexOf("/delivery/activity/") < 0 && this.loadingSVGA(),Ue.A.recordEventAction({eventType: "code_download",rese8: "页面代码下载完成"})},mounted: function() {var t;(MiguplayUtils.appUtils.isMiguApp() && MiguplayUtils.appUtils.getAppHeader(),"home" !== (null === (t = this.$route) || void 0 === t ? void 0 : t.name)) && (document.getElementById("h5Logo").style.display = "none");this.queryProvince(),MiguplayUtils.url.getQueryString("token") || MiguplayUtils.url.getQueryString("userId") || localStorage.getItem("userId") || MiguplayUtils.ua.isInAlipayMiniProgram() || MiguplayUtils.ua.isIn10086MiniProgram() || this.getWapToken();var e = this;window.addEventListener("setItemEvent", (function(t) {if ("back" == t.key && e.setRefreshTime(t.newValue),"userInfo" == t.key) {var r = JSON.parse(t.newValue);e.setUserInfo({userId: r.userId || MiguplayUtils.url.getQueryString("userId") || 0,userToken: r.userToken || MiguplayUtils.url.getQueryString("userToken") || 0})}"userId" == t.key && (e.isUserInfoChanged[0] = "changed",e.dealUserInfo()),"userToken" == t.key && (e.isUserInfoChanged[1] = "changed",e.dealUserInfo())})),this.getUserPhone(),this.queryProvinceFlagByPhone(),this.getUserTagType(),this.growingio(),window.navigator.standalone && A()("body").css({"padding-top": 0,"padding-bottom": 0}),localStorage.setItem("vConsole_switch_x", 300);try {this.isPC || MiguplayUtils.button.addBackButton(),this.addCustomScrollbarStyle(this.isPC)} catch (t) {}this.quickSign(),Ue.A.touchscreen()},beforeDestroy: function() {},methods: lr(lr({userIdFromNative: function(t, e) {localStorage.setItem("appLogined", !0),localStorage.setItem("userInfo", w()({userId: t,userToken: e})),localStorage.setItem("userId", t),localStorage.setItem("userToken", e),this.setUserInfo({userId: t || MiguplayUtils.url.getQueryString("userId") || 0,userToken: e || MiguplayUtils.url.getQueryString("userToken") || 0})},webviewWillShow: function() {var t = this;T()((function() {t.setRefreshTime((new Date).getTime())}), 500)},addCustomScrollbarStyle: function(t) {var e = document.createElement("style"), r = "\n          ::-webkit-scrollbar {\n            display: none;\n          }\n      ";t && (r = "\n          #app > #wrapper {\n            min-width: 100% !important;\n          }\n      "),e.appendChild(document.createTextNode(r)),document.head.appendChild(e)},loadingSVGA: function() {var t = this;this.$nextTick((0,m.A)(_().mark((function e() {var n;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:if (SVGA) {e.next = 4;break}return e.next = 3,r.e(7515).then(r.t.bind(r, 17515, 23));case 3:window.SVGA = e.sent;case 4:n = new window.SVGA.Player(".loading"),new window.SVGA.Parser(".loading").load("/miguplay/delivery/activity/static/image/animation.svga", (function(t) {n.loops = 0,n.setVideoItem(t),n.startAnimation()})),t.setLoading({loading: !0});case 8:case "end":return e.stop()}}), e)}))))}}, (0,Me.PY)("user", ["setUserInfo", "setUserInfoObj", "setRefreshTime", "setIsMember", "setUsertagType", "setLoading", "setProvinceInfo"])), {}, {dealUserInfo: function() {var t = this;T()((function() {t.isUserInfoChanged && t.isUserInfoChanged[0] && t.isUserInfoChanged[1] && (t.setUserInfo({userId: localStorage.getItem("userId") || MiguplayUtils.url.getQueryString("userId") || 0,userToken: localStorage.getItem("userToken") || MiguplayUtils.url.getQueryString("userToken") || 0}),t.isUserInfoChanged = [])}), 300)},checkTokenForJXH5: function() {var t = {data: {token: MiguplayUtils.url.getQueryString("token"),tokentype: MiguplayUtils.url.getQueryString("tokentype") || "ANDT",channel: MiguplayUtils.url.getQueryString("appChannel") || MiguplayUtils.url.getQueryString("channel") || "zy-gw-mghy"}};I.A.checkTokenForJXH5(t).then((function(t) {if ("000000" == t.data.returnCode && 0 != resultData.userId && "" != resultData.userId) {var e = t.data.resultData.userId, r = t.data.resultData.userToken;localStorage.setItem("userId", e),localStorage.setItem("userToken", r),T()((function() {Ue.A.recordLoginInfo({opType: 2})}), 500)}}))},getUserPhone: function() {var t = this;if (this.userId) {var e = {headers: {userId: this.userId,userToken: this.userToken},data: {}};I.A.getUserInfoWithHidePhone(e).then((function(r) {"000000" == r.data.returnCode && (t.setUserInfoObj(r.data.resultData),I.A.getPatchUserIdByUserId(e).then((function(e) {"000000" == e.data.returnCode && t.setUserInfoObj(e.data.resultData)})))}))}},queryProvinceFlagByPhone: function() {var t = this;if (this.userId) {I.A.queryProvinceFlagByPhone({data: {}}).then((function(e) {"000000" == e.data.returnCode && t.setProvinceInfo(e.data.resultData)}))}},getUserTagType: function() {var t = this;if (this.userId) {var e = {headers: {userId: this.userId,userToken: this.userToken,appType: 9},data: {}};I.A.userInfoForH5(e).then((function(e) {"000000" == e.data.returnCode && (t.setIsMember(e.data.resultData.isMember),t.setUsertagType(e.data.resultData.userTagType))}))}},quickSign: function() {this.userId && 1 == MiguplayUtils.url.getQueryString("quickSign") && I.A.signAll().then((function(t) {"000000" == t.data.returnCode ? MiguplayUtils.layer.toast("报名成功", 1500) : MiguplayUtils.layer.toast("报名失败", 1500)}))},getWapToken: function() {var t = MiguplayUtils.url.getQueryString("isApp");if (t && "jiangsu" == t)return !1;if ("ho" == MiguplayUtils.url.getQueryString("sso"))return !1;var e = this, r = {msgid: (new Date).getTime(),systemtime: x.A.dateFormat("yyyyMMddhhmmssS"),sourceid: 206004,signature: ""}, n = "interfacename=uiWapLogin&sourceid=" + r.sourceid + "&systemtime=" + r.systemtime + "&msgid=" + r.msgid;r.signature = md5(encodeURIComponent(n));var i = "msgId=" + r.msgid + "&systemtime=" + r.systemtime + "&sourceId=" + r.sourceid + "&signature=" + r.signature;A().ajax({type: "get",url: "//passport.migu.cn/uiWapLogin?" + i,dataType: "jsonp",contentType: "application/json",jsonp: "callback",jsonpCallback: "getMessage",success: function(t) {2e3 == t.status && e.getToken(t.enctoken)},error: function(t) {}})},getToken: function(t) {var e = this, r = {token: t};I.A.getToken(r).then((function(t) {window.localStorage.userId = t.data.resultData.userId,window.localStorage.userToken = t.data.resultData.userToken,window.localStorage.is4G = 1,e.setUserInfo({userId: t.data.resultData.userId || 0,userToken: t.data.resultData.userToken || 0}),T()((function() {Ue.A.recordLoginInfo({opType: 2})}), 500)}))},growingio: function() {var t = this;15 != MiguplayUtils.url.getQueryString("channel") && 15 != MiguplayUtils.url.getQueryString("appChannel") || x.A.loadJavaScriptFile("/miguplay/delivery/activity/static/js/gioTwoWayTransmission.js", "gioTwoWayTransmission", (function(e) {e.isSuccess && (!function(t, e, r, n, i) {t[i] = t[i] || function() {(t[i].q = t[i].q || []).push(arguments)},r = e.createElement("script");var o = e.getElementsByTagName("script")[0];r.async = !0,r.src = "/miguplay/delivery/activity/static/js/gdp-full.js",o.parentNode.insertBefore(r, o)}(window, document, "script", 0, "gdp"),gdp("registerPlugins", [gioTwoWayTransmission]),gdp("init", "8d2279a5e2f18b7c", "9d59ac736f01c688", {host: "collect.gmcc.net",compress: !0,hashtag: !0}),gdp("g1.init", "9e4e5fa7244c6b6e", "b9e74b9d5da046ce", {host: "jiguang.coc.10086.cn",compress: !0,hashtag: !0,scheme: "https"}),T()((function() {t.togdp()}), 2e3))}))},togdp: function() {if (15 == MiguplayUtils.url.getQueryString("channel") || 15 == MiguplayUtils.url.getQueryString("appChannel")) {if (localStorage.getItem("userId") && "" != localStorage.getItem("userId")) {var t = this.userInfoObj;t && t.patchUserId && (gdp("setUserId", t.patchUserId),gdp("g1.setUserId", t.patchUserId)),gdp("setUserAttributes", {operators_var: t.patchCarrier,prov_var: t.patchProvince,city_var: ""})}gdp("track", "H5pageView", {referpageName_var: "首页",pageName_var: "首页",iop_tacticsId_var: "123456",referFlowId_var: ""}),gdp("g1.track", "pageview", {WT_et: "pageview",WT_event: "H5PageShow"})}},queryProvince: function() {var t = this;return (0,m.A)(_().mark((function e() {var r, n;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return e.next = 2,I.A.queryProvince({});case 2:"000000" == (r = e.sent).data.returnCode && (n = r.data.resultData,localStorage.setItem("ipProvince", encodeURIComponent(n.ipProvince)),sessionStorage.setItem("clientIp", n.ip)),t.getAutoPlayedVideo();case 5:case "end":return e.stop()}}), e)})))()},getAutoPlayedVideo: function() {return (0,m.A)(_().mark((function t() {var e, r;return _().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:return e = {header: {ipProvince: localStorage.getItem("ipProvince") || ""}},t.next = 3,I.A.getAutoPlayedVideo(e);case 3:"000000" == (r = t.sent).data.returnCode && sessionStorage.setItem("getAutoPlayedVideo", r.data.resultData.isAutoPlay);case 5:case "end":return t.stop()}}), t)})))()},gotoback: function() {window.history.go(-1)}})}, fr = dr, hr = (0,Ve.A)(fr, (function() {var t = this, e = t._self._c;return e("div", {class: {carpad: t.isinCarPad,iosWebApp: t.isIosWebApp},attrs: {id: "app"}}, [t.isPC ? e("PCHeader") : t._e(), t._v(" "), t.isPC || !t.isMGDM || t.isMiguApp ? t._e() : e("div", {attrs: {id: "phoneBack"},on: {click: function(e) {return t.gotoback()}}}), t._v(" "), "address" != t.$route.name || "zjGuandanRank" != t.$route.name ? e("div", {directives: [{name: "show",rawName: "v-show",value: !t.isHome,expression: "!isHome"}],staticClass: "loading",attrs: {id: "loading"}}) : t._e(), t._v(" "), e("keep-alive", [t.$route.meta.keepAlive ? e("router-view", {class: t.isPC ? "pc" : ""}) : t._e()], 1), t._v(" "), t.$route.meta.keepAlive ? t._e() : e("router-view", {class: t.isPC ? "pc" : ""}), t._v(" "), e("MiguLoginDialog"), t._v(" "), t.isPC && !t.waitload ? [e("EndChunk"), t._v(" "), e("NewCopyRight")] : t._e()], 2)}), [], !1, null, null, null).exports;function pr(t, e) {for (var r in e)t[r] = e[r];return t}var gr = /[!'()*]/g, mr = function(t) {return "%" + t.charCodeAt(0).toString(16)}, vr = /%2C/g, yr = function(t) {return encodeURIComponent(t).replace(gr, mr).replace(vr, ",")};function _r(t) {try {return decodeURIComponent(t)} catch (t) {0}return t}var br = function(t) {return null == t || "object" == typeof t ? t : String(t)};function wr(t) {var e = {};return (t = t.trim().replace(/^(\?|#|&)/, "")) ? (t.split("&").forEach((function(t) {var r = t.replace(/\+/g, " ").split("="), n = _r(r.shift()), i = r.length > 0 ? _r(r.join("=")) : null;void 0 === e[n] ? e[n] = i : Array.isArray(e[n]) ? e[n].push(i) : e[n] = [e[n], i]})),e) : e}function Er(t) {var e = t ? Object.keys(t).map((function(e) {var r = t[e];if (void 0 === r)return "";if (null === r)return yr(e);if (Array.isArray(r)) {var n = [];return r.forEach((function(t) {void 0 !== t && (null === t ? n.push(yr(e)) : n.push(yr(e) + "=" + yr(t)))})),n.join("&")}return yr(e) + "=" + yr(r)})).filter((function(t) {return t.length > 0})).join("&") : null;return e ? "?" + e : ""}var Tr = /\/?$/;function Sr(t, e, r, n) {var i = n && n.options.stringifyQuery, o = e.query || {};try {o = Ar(o)} catch (t) {}var s = {name: e.name || t && t.name,meta: t && t.meta || {},path: e.path || "/",hash: e.hash || "",query: o,params: e.params || {},fullPath: Lr(e, i),matched: t ? xr(t) : []};return r && (s.redirectedFrom = Lr(r, i)),Object.freeze(s)}function Ar(t) {if (Array.isArray(t))return t.map(Ar);if (t && "object" == typeof t) {var e = {};for (var r in t)e[r] = Ar(t[r]);return e}return t}var Ir = Sr(null, {path: "/"});function xr(t) {for (var e = []; t; )e.unshift(t),t = t.parent;return e}function Lr(t, e) {var r = t.path, n = t.query;void 0 === n && (n = {});var i = t.hash;return void 0 === i && (i = ""),(r || "/") + (e || Er)(n) + i}function kr(t, e, r) {return e === Ir ? t === e : !!e && (t.path && e.path ? t.path.replace(Tr, "") === e.path.replace(Tr, "") && (r || t.hash === e.hash && Rr(t.query, e.query)) : !(!t.name || !e.name) && (t.name === e.name && (r || t.hash === e.hash && Rr(t.query, e.query) && Rr(t.params, e.params))))}function Rr(t, e) {if (void 0 === t && (t = {}),void 0 === e && (e = {}),!t || !e)return t === e;var r = Object.keys(t).sort(), n = Object.keys(e).sort();return r.length === n.length && r.every((function(r, i) {var o = t[r];if (n[i] !== r)return !1;var s = e[r];return null == o || null == s ? o === s : "object" == typeof o && "object" == typeof s ? Rr(o, s) : String(o) === String(s)}))}function Cr(t) {for (var e = 0; e < t.matched.length; e++) {var r = t.matched[e];for (var n in r.instances) {var i = r.instances[n], o = r.enteredCbs[n];if (i && o) {delete r.enteredCbs[n];for (var s = 0; s < o.length; s++)i._isBeingDestroyed || o[s](i)}}}}var Pr = {name: "RouterView",functional: !0,props: {name: {type: String,default: "default"}},render: function(t, e) {var r = e.props, n = e.children, i = e.parent, o = e.data;o.routerView = !0;for (var s = i.$createElement, a = r.name, c = i.$route, u = i._routerViewCache || (i._routerViewCache = {}), l = 0, d = !1; i && i._routerRoot !== i; ) {var f = i.$vnode ? i.$vnode.data : {};f.routerView && l++,f.keepAlive && i._directInactive && i._inactive && (d = !0),i = i.$parent}if (o.routerViewDepth = l,d) {var h = u[a], p = h && h.component;return p ? (h.configProps && Dr(p, o, h.route, h.configProps),s(p, o, n)) : s()}var g = c.matched[l], m = g && g.components[a];if (!g || !m)return u[a] = null,s();u[a] = {component: m},o.registerRouteInstance = function(t, e) {var r = g.instances[a];(e && r !== t || !e && r === t) && (g.instances[a] = e)},(o.hook || (o.hook = {})).prepatch = function(t, e) {g.instances[a] = e.componentInstance},o.hook.init = function(t) {t.data.keepAlive && t.componentInstance && t.componentInstance !== g.instances[a] && (g.instances[a] = t.componentInstance),Cr(c)};var v = g.props && g.props[a];return v && (pr(u[a], {route: c,configProps: v}),Dr(m, o, c, v)),s(m, o, n)}};function Dr(t, e, r, n) {var i = e.props = function(t, e) {switch (typeof e) {case "undefined":return;case "object":return e;case "function":return e(t);case "boolean":return e ? t.params : void 0}}(r, n);if (i) {i = e.props = pr({}, i);var o = e.attrs = e.attrs || {};for (var s in i)t.props && s in t.props || (o[s] = i[s],delete i[s])}}function Or(t, e, r) {var n = t.charAt(0);if ("/" === n)return t;if ("?" === n || "#" === n)return e + t;var i = e.split("/");r && i[i.length - 1] || i.pop();for (var o = t.replace(/^\//, "").split("/"), s = 0; s < o.length; s++) {var a = o[s];".." === a ? i.pop() : "." !== a && i.push(a)}return "" !== i[0] && i.unshift(""),i.join("/")}function Mr(t) {return t.replace(/\/(?:\s*\/)+/g, "/")}var Ur = Array.isArray || function(t) {return "[object Array]" == Object.prototype.toString.call(t)}, Fr = Xr, Nr = Gr, Br = function(t, e) {return qr(Gr(t, e), e)}, jr = qr, $r = Qr, Hr = new RegExp(["(\\\\.)", "([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Gr(t, e) {for (var r, n = [], i = 0, o = 0, s = "", a = e && e.delimiter || "/"; null != (r = Hr.exec(t)); ) {var c = r[0], u = r[1], l = r.index;if (s += t.slice(o, l),o = l + c.length,u)s += u[1];else {var d = t[o], f = r[2], h = r[3], p = r[4], g = r[5], m = r[6], v = r[7];s && (n.push(s),s = "");var y = null != f && null != d && d !== f, _ = "+" === m || "*" === m, b = "?" === m || "*" === m, w = r[2] || a, E = p || g;n.push({name: h || i++,prefix: f || "",delimiter: w,optional: b,repeat: _,partial: y,asterisk: !!v,pattern: E ? Vr(E) : v ? ".*" : "[^" + Wr(w) + "]+?"})}}return o < t.length && (s += t.substr(o)),s && n.push(s),n}function Kr(t) {return encodeURI(t).replace(/[\/?#]/g, (function(t) {return "%" + t.charCodeAt(0).toString(16).toUpperCase()}))}function qr(t, e) {for (var r = new Array(t.length), n = 0; n < t.length; n++)"object" == typeof t[n] && (r[n] = new RegExp("^(?:" + t[n].pattern + ")$",Yr(e)));return function(e, n) {for (var i = "", o = e || {}, s = (n || {}).pretty ? Kr : encodeURIComponent, a = 0; a < t.length; a++) {var c = t[a];if ("string" != typeof c) {var u, l = o[c.name];if (null == l) {if (c.optional) {c.partial && (i += c.prefix);continue}throw new TypeError('Expected "' + c.name + '" to be defined')}if (Ur(l)) {if (!c.repeat)throw new TypeError('Expected "' + c.name + '" to not repeat, but received `' + JSON.stringify(l) + "`");if (0 === l.length) {if (c.optional)continue;throw new TypeError('Expected "' + c.name + '" to not be empty')}for (var d = 0; d < l.length; d++) {if (u = s(l[d]),!r[a].test(u))throw new TypeError('Expected all "' + c.name + '" to match "' + c.pattern + '", but received `' + JSON.stringify(u) + "`");i += (0 === d ? c.prefix : c.delimiter) + u}} else {if (u = c.asterisk ? encodeURI(l).replace(/[?#]/g, (function(t) {return "%" + t.charCodeAt(0).toString(16).toUpperCase()})) : s(l),!r[a].test(u))throw new TypeError('Expected "' + c.name + '" to match "' + c.pattern + '", but received "' + u + '"');i += c.prefix + u}} elsei += c}return i}}function Wr(t) {return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g, "\\$1")}function Vr(t) {return t.replace(/([=!:$\/()])/g, "\\$1")}function zr(t, e) {return t.keys = e,t}function Yr(t) {return t && t.sensitive ? "" : "i"}function Qr(t, e, r) {Ur(e) || (r = e || r,e = []);for (var n = (r = r || {}).strict, i = !1 !== r.end, o = "", s = 0; s < t.length; s++) {var a = t[s];if ("string" == typeof a)o += Wr(a);else {var c = Wr(a.prefix), u = "(?:" + a.pattern + ")";e.push(a),a.repeat && (u += "(?:" + c + u + ")*"),o += u = a.optional ? a.partial ? c + "(" + u + ")?" : "(?:" + c + "(" + u + "))?" : c + "(" + u + ")"}}var l = Wr(r.delimiter || "/"), d = o.slice(-l.length) === l;return n || (o = (d ? o.slice(0, -l.length) : o) + "(?:" + l + "(?=$))?"),o += i ? "$" : n && d ? "" : "(?=" + l + "|$)",zr(new RegExp("^" + o,Yr(r)), e)}function Xr(t, e, r) {return Ur(e) || (r = e || r,e = []),r = r || {},t instanceof RegExp ? function(t, e) {var r = t.source.match(/\((?!\?)/g);if (r)for (var n = 0; n < r.length; n++)e.push({name: n,prefix: null,delimiter: null,optional: !1,repeat: !1,partial: !1,asterisk: !1,pattern: null});return zr(t, e)}(t, e) : Ur(t) ? function(t, e, r) {for (var n = [], i = 0; i < t.length; i++)n.push(Xr(t[i], e, r).source);return zr(new RegExp("(?:" + n.join("|") + ")",Yr(r)), e)}(t, e, r) : function(t, e, r) {return Qr(Gr(t, r), e, r)}(t, e, r)}Fr.parse = Nr,Fr.compile = Br,Fr.tokensToFunction = jr,Fr.tokensToRegExp = $r;var Jr = Object.create(null);function Zr(t, e, r) {e = e || {};try {var n = Jr[t] || (Jr[t] = Fr.compile(t));return "string" == typeof e.pathMatch && (e[0] = e.pathMatch),n(e, {pretty: !0})} catch (t) {return ""} finally {delete e[0]}}function tn(t, e, r, n) {var i = "string" == typeof t ? {path: t} : t;if (i._normalized)return i;if (i.name) {var o = (i = pr({}, t)).params;return o && "object" == typeof o && (i.params = pr({}, o)),i}if (!i.path && i.params && e) {(i = pr({}, i))._normalized = !0;var s = pr(pr({}, e.params), i.params);if (e.name)i.name = e.name,i.params = s;else if (e.matched.length) {var a = e.matched[e.matched.length - 1].path;i.path = Zr(a, s, e.path)} else0;return i}var c = function(t) {var e = "", r = "", n = t.indexOf("#");n >= 0 && (e = t.slice(n),t = t.slice(0, n));var i = t.indexOf("?");return i >= 0 && (r = t.slice(i + 1),t = t.slice(0, i)),{path: t,query: r,hash: e}}(i.path || ""), u = e && e.path || "/", l = c.path ? Or(c.path, u, r || i.append) : u, d = function(t, e, r) {void 0 === e && (e = {});var n, i = r || wr;try {n = i(t || "")} catch (t) {n = {}}for (var o in e) {var s = e[o];n[o] = Array.isArray(s) ? s.map(br) : br(s)}return n}(c.query, i.query, n && n.options.parseQuery), f = i.hash || c.hash;return f && "#" !== f.charAt(0) && (f = "#" + f),{_normalized: !0,path: l,query: d,hash: f}}var en, rn = function() {}, nn = {name: "RouterLink",props: {to: {type: [String, Object],required: !0},tag: {type: String,default: "a"},custom: Boolean,exact: Boolean,exactPath: Boolean,append: Boolean,replace: Boolean,activeClass: String,exactActiveClass: String,ariaCurrentValue: {type: String,default: "page"},event: {type: [String, Array],default: "click"}},render: function(t) {var e = this, r = this.$router, n = this.$route, i = r.resolve(this.to, n, this.append), o = i.location, s = i.route, a = i.href, c = {}, u = r.options.linkActiveClass, l = r.options.linkExactActiveClass, d = null == u ? "router-link-active" : u, f = null == l ? "router-link-exact-active" : l, h = null == this.activeClass ? d : this.activeClass, p = null == this.exactActiveClass ? f : this.exactActiveClass, g = s.redirectedFrom ? Sr(null, tn(s.redirectedFrom), null, r) : s;c[p] = kr(n, g, this.exactPath),c[h] = this.exact || this.exactPath ? c[p] : function(t, e) {return 0 === t.path.replace(Tr, "/").indexOf(e.path.replace(Tr, "/")) && (!e.hash || t.hash === e.hash) && function(t, e) {for (var r in e)if (!(r in t))return !1;return !0}(t.query, e.query)}(n, g);var m = c[p] ? this.ariaCurrentValue : null, v = function(t) {on(t) && (e.replace ? r.replace(o, rn) : r.push(o, rn))}, y = {click: on};Array.isArray(this.event) ? this.event.forEach((function(t) {y[t] = v})) : y[this.event] = v;var _ = {class: c}, b = !this.$scopedSlots.$hasNormal && this.$scopedSlots.default && this.$scopedSlots.default({href: a,route: s,navigate: v,isActive: c[h],isExactActive: c[p]});if (b) {if (1 === b.length)return b[0];if (b.length > 1 || !b.length)return 0 === b.length ? t() : t("span", {}, b)}if ("a" === this.tag)_.on = y,_.attrs = {href: a,"aria-current": m};else {var w = sn(this.$slots.default);if (w) {w.isStatic = !1;var E = w.data = pr({}, w.data);for (var T in E.on = E.on || {},E.on) {var S = E.on[T];T in y && (E.on[T] = Array.isArray(S) ? S : [S])}for (var A in y)A in E.on ? E.on[A].push(y[A]) : E.on[A] = v;var I = w.data.attrs = pr({}, w.data.attrs);I.href = a,I["aria-current"] = m} else_.on = y}return t(this.tag, _, this.$slots.default)}};function on(t) {if (!(t.metaKey || t.altKey || t.ctrlKey || t.shiftKey || t.defaultPrevented || void 0 !== t.button && 0 !== t.button)) {if (t.currentTarget && t.currentTarget.getAttribute) {var e = t.currentTarget.getAttribute("target");if (/\b_blank\b/i.test(e))return}return t.preventDefault && t.preventDefault(),!0}}function sn(t) {if (t)for (var e, r = 0; r < t.length; r++) {if ("a" === (e = t[r]).tag)return e;if (e.children && (e = sn(e.children)))return e}}var an = "undefined" != typeof window;function cn(t, e, r, n, i) {var o = e || [], s = r || Object.create(null), a = n || Object.create(null);t.forEach((function(t) {un(o, s, a, t, i)}));for (var c = 0, u = o.length; c < u; c++)"*" === o[c] && (o.push(o.splice(c, 1)[0]),u--,c--);return {pathList: o,pathMap: s,nameMap: a}}function un(t, e, r, n, i, o) {var s = n.path, a = n.name;var c = n.pathToRegexpOptions || {}, u = function(t, e, r) {r || (t = t.replace(/\/$/, ""));if ("/" === t[0])return t;if (null == e)return t;return Mr(e.path + "/" + t)}(s, i, c.strict);"boolean" == typeof n.caseSensitive && (c.sensitive = n.caseSensitive);var l = {path: u,regex: ln(u, c),components: n.components || {default: n.component},alias: n.alias ? "string" == typeof n.alias ? [n.alias] : n.alias : [],instances: {},enteredCbs: {},name: a,parent: i,matchAs: o,redirect: n.redirect,beforeEnter: n.beforeEnter,meta: n.meta || {},props: null == n.props ? {} : n.components ? n.props : {default: n.props}};if (n.children && n.children.forEach((function(n) {var i = o ? Mr(o + "/" + n.path) : void 0;un(t, e, r, n, l, i)})),e[l.path] || (t.push(l.path),e[l.path] = l),void 0 !== n.alias)for (var d = Array.isArray(n.alias) ? n.alias : [n.alias], f = 0; f < d.length; ++f) {0;var h = {path: d[f],children: n.children};un(t, e, r, h, i, l.path || "/")}a && (r[a] || (r[a] = l))}function ln(t, e) {return Fr(t, [], e)}function dn(t, e) {var r = cn(t), n = r.pathList, i = r.pathMap, o = r.nameMap;function s(t, r, s) {var a = tn(t, r, !1, e), u = a.name;if (u) {var l = o[u];if (!l)return c(null, a);var d = l.regex.keys.filter((function(t) {return !t.optional})).map((function(t) {return t.name}));if ("object" != typeof a.params && (a.params = {}),r && "object" == typeof r.params)for (var f in r.params)!(f in a.params) && d.indexOf(f) > -1 && (a.params[f] = r.params[f]);return a.path = Zr(l.path, a.params),c(l, a, s)}if (a.path) {a.params = {};for (var h = 0; h < n.length; h++) {var p = n[h], g = i[p];if (fn(g.regex, a.path, a.params))return c(g, a, s)}}return c(null, a)}function a(t, r) {var n = t.redirect, i = "function" == typeof n ? n(Sr(t, r, null, e)) : n;if ("string" == typeof i && (i = {path: i}),!i || "object" != typeof i)return c(null, r);var a = i, u = a.name, l = a.path, d = r.query, f = r.hash, h = r.params;if (d = a.hasOwnProperty("query") ? a.query : d,f = a.hasOwnProperty("hash") ? a.hash : f,h = a.hasOwnProperty("params") ? a.params : h,u) {o[u];return s({_normalized: !0,name: u,query: d,hash: f,params: h}, void 0, r)}if (l) {var p = function(t, e) {return Or(t, e.parent ? e.parent.path : "/", !0)}(l, t);return s({_normalized: !0,path: Zr(p, h),query: d,hash: f}, void 0, r)}return c(null, r)}function c(t, r, n) {return t && t.redirect ? a(t, n || r) : t && t.matchAs ? function(t, e, r) {var n = s({_normalized: !0,path: Zr(r, e.params)});if (n) {var i = n.matched, o = i[i.length - 1];return e.params = n.params,c(o, e)}return c(null, e)}(0, r, t.matchAs) : Sr(t, r, n, e)}return {match: s,addRoute: function(t, e) {var r = "object" != typeof t ? o[t] : void 0;cn([e || t], n, i, o, r),r && r.alias.length && cn(r.alias.map((function(t) {return {path: t,children: [e]}})), n, i, o, r)},getRoutes: function() {return n.map((function(t) {return i[t]}))},addRoutes: function(t) {cn(t, n, i, o)}}}function fn(t, e, r) {var n = e.match(t);if (!n)return !1;if (!r)return !0;for (var i = 1, o = n.length; i < o; ++i) {var s = t.keys[i - 1];s && (r[s.name || "pathMatch"] = "string" == typeof n[i] ? _r(n[i]) : n[i])}return !0}var hn = an && window.performance && window.performance.now ? window.performance : Date;function pn() {return hn.now().toFixed(3)}var gn = pn();function mn() {return gn}function vn(t) {return gn = t}var yn = Object.create(null);function _n() {"scrollRestoration"in window.history && (window.history.scrollRestoration = "manual");var t = window.location.protocol + "//" + window.location.host, e = window.location.href.replace(t, ""), r = pr({}, window.history.state);return r.key = mn(),window.history.replaceState(r, "", e),window.addEventListener("popstate", En),function() {window.removeEventListener("popstate", En)}}function bn(t, e, r, n) {if (t.app) {var i = t.options.scrollBehavior;i && t.app.$nextTick((function() {var o = function() {var t = mn();if (t)return yn[t]}(), s = i.call(t, e, r, n ? o : null);s && ("function" == typeof s.then ? s.then((function(t) {xn(t, o)})).catch((function(t) {0})) : xn(s, o))}))}}function wn() {var t = mn();t && (yn[t] = {x: window.pageXOffset,y: window.pageYOffset})}function En(t) {wn(),t.state && t.state.key && vn(t.state.key)}function Tn(t) {return An(t.x) || An(t.y)}function Sn(t) {return {x: An(t.x) ? t.x : window.pageXOffset,y: An(t.y) ? t.y : window.pageYOffset}}function An(t) {return "number" == typeof t}var In = /^#\d/;function xn(t, e) {var r, n = "object" == typeof t;if (n && "string" == typeof t.selector) {var i = In.test(t.selector) ? document.getElementById(t.selector.slice(1)) : document.querySelector(t.selector);if (i) {var o = t.offset && "object" == typeof t.offset ? t.offset : {};e = function(t, e) {var r = document.documentElement.getBoundingClientRect(), n = t.getBoundingClientRect();return {x: n.left - r.left - e.x,y: n.top - r.top - e.y}}(i, o = {x: An((r = o).x) ? r.x : 0,y: An(r.y) ? r.y : 0})} elseTn(t) && (e = Sn(t))} elsen && Tn(t) && (e = Sn(t));e && ("scrollBehavior"in document.documentElement.style ? window.scrollTo({left: e.x,top: e.y,behavior: t.behavior}) : window.scrollTo(e.x, e.y))}var Ln, kn = an && ((-1 === (Ln = window.navigator.userAgent).indexOf("Android 2.") && -1 === Ln.indexOf("Android 4.0") || -1 === Ln.indexOf("Mobile Safari") || -1 !== Ln.indexOf("Chrome") || -1 !== Ln.indexOf("Windows Phone")) && window.history && "function" == typeof window.history.pushState);function Rn(t, e) {wn();var r = window.history;try {if (e) {var n = pr({}, r.state);n.key = mn(),r.replaceState(n, "", t)} elser.pushState({key: vn(pn())}, "", t)} catch (r) {window.location[e ? "replace" : "assign"](t)}}function Cn(t) {Rn(t, !0)}var Pn = {redirected: 2,aborted: 4,cancelled: 8,duplicated: 16};function Dn(t, e) {return Mn(t, e, Pn.redirected, 'Redirected when going from "' + t.fullPath + '" to "' + function(t) {if ("string" == typeof t)return t;if ("path"in t)return t.path;var e = {};return Un.forEach((function(r) {r in t && (e[r] = t[r])})),JSON.stringify(e, null, 2)}(e) + '" via a navigation guard.')}function On(t, e) {return Mn(t, e, Pn.cancelled, 'Navigation cancelled from "' + t.fullPath + '" to "' + e.fullPath + '" with a new navigation.')}function Mn(t, e, r, n) {var i = new Error(n);return i._isRouter = !0,i.from = t,i.to = e,i.type = r,i}var Un = ["params", "query", "hash"];function Fn(t) {return Object.prototype.toString.call(t).indexOf("Error") > -1}function Nn(t, e) {return Fn(t) && t._isRouter && (null == e || t.type === e)}function Bn(t, e, r) {var n = function(i) {i >= t.length ? r() : t[i] ? e(t[i], (function() {n(i + 1)})) : n(i + 1)};n(0)}function jn(t) {return function(e, r, n) {var i = !1, o = 0, s = null;$n(t, (function(t, e, r, a) {if ("function" == typeof t && void 0 === t.cid) {i = !0,o++;var c, u = Kn((function(e) {var i;((i = e).__esModule || Gn && "Module" === i[Symbol.toStringTag]) && (e = e.default),t.resolved = "function" == typeof e ? e : en.extend(e),r.components[a] = e,--o <= 0 && n()})), l = Kn((function(t) {var e = "Failed to resolve async component " + a + ": " + t;s || (s = Fn(t) ? t : new Error(e),n(s))}));try {c = t(u, l)} catch (t) {l(t)}if (c)if ("function" == typeof c.then)c.then(u, l);else {var d = c.component;d && "function" == typeof d.then && d.then(u, l)}}})),i || n()}}function $n(t, e) {return Hn(t.map((function(t) {return Object.keys(t.components).map((function(r) {return e(t.components[r], t.instances[r], t, r)}))})))}function Hn(t) {return Array.prototype.concat.apply([], t)}var Gn = "function" == typeof Symbol && "symbol" == typeof Symbol.toStringTag;function Kn(t) {var e = !1;return function() {for (var r = [], n = arguments.length; n--; )r[n] = arguments[n];if (!e)return e = !0,t.apply(this, r)}}var qn = function(t, e) {this.router = t,this.base = function(t) {if (!t)if (an) {var e = document.querySelector("base");t = (t = e && e.getAttribute("href") || "/").replace(/^https?:\/\/[^\/]+/, "")} elset = "/";"/" !== t.charAt(0) && (t = "/" + t);return t.replace(/\/$/, "")}(e),this.current = Ir,this.pending = null,this.ready = !1,this.readyCbs = [],this.readyErrorCbs = [],this.errorCbs = [],this.listeners = []};function Wn(t, e, r, n) {var i = $n(t, (function(t, n, i, o) {var s = function(t, e) {"function" != typeof t && (t = en.extend(t));return t.options[e]}(t, e);if (s)return Array.isArray(s) ? s.map((function(t) {return r(t, n, i, o)})) : r(s, n, i, o)}));return Hn(n ? i.reverse() : i)}function Vn(t, e) {if (e)return function() {return t.apply(e, arguments)}}qn.prototype.listen = function(t) {this.cb = t},qn.prototype.onReady = function(t, e) {this.ready ? t() : (this.readyCbs.push(t),e && this.readyErrorCbs.push(e))},qn.prototype.onError = function(t) {this.errorCbs.push(t)},qn.prototype.transitionTo = function(t, e, r) {var n, i = this;try {n = this.router.match(t, this.current)} catch (t) {throw this.errorCbs.forEach((function(e) {e(t)})),t}var o = this.current;this.confirmTransition(n, (function() {i.updateRoute(n),e && e(n),i.ensureURL(),i.router.afterHooks.forEach((function(t) {t && t(n, o)})),i.ready || (i.ready = !0,i.readyCbs.forEach((function(t) {t(n)})))}), (function(t) {r && r(t),t && !i.ready && (Nn(t, Pn.redirected) && o === Ir || (i.ready = !0,i.readyErrorCbs.forEach((function(e) {e(t)}))))}))},qn.prototype.confirmTransition = function(t, e, r) {var n = this, i = this.current;this.pending = t;var o = function(t) {!Nn(t) && Fn(t) && n.errorCbs.length && n.errorCbs.forEach((function(e) {e(t)})),r && r(t)}, s = t.matched.length - 1, a = i.matched.length - 1;if (kr(t, i) && s === a && t.matched[s] === i.matched[a])return this.ensureURL(),t.hash && bn(this.router, i, t, !1),o(function(t, e) {var r = Mn(t, e, Pn.duplicated, 'Avoided redundant navigation to current location: "' + t.fullPath + '".');return r.name = "NavigationDuplicated",r}(i, t));var c = function(t, e) {var r, n = Math.max(t.length, e.length);for (r = 0; r < n && t[r] === e[r]; r++);return {updated: e.slice(0, r),activated: e.slice(r),deactivated: t.slice(r)}}(this.current.matched, t.matched), u = c.updated, l = c.deactivated, d = c.activated, f = [].concat(function(t) {return Wn(t, "beforeRouteLeave", Vn, !0)}(l), this.router.beforeHooks, function(t) {return Wn(t, "beforeRouteUpdate", Vn)}(u), d.map((function(t) {return t.beforeEnter})), jn(d)), h = function(e, r) {if (n.pending !== t)return o(On(i, t));try {e(t, i, (function(e) {!1 === e ? (n.ensureURL(!0),o(function(t, e) {return Mn(t, e, Pn.aborted, 'Navigation aborted from "' + t.fullPath + '" to "' + e.fullPath + '" via a navigation guard.')}(i, t))) : Fn(e) ? (n.ensureURL(!0),o(e)) : "string" == typeof e || "object" == typeof e && ("string" == typeof e.path || "string" == typeof e.name) ? (o(Dn(i, t)),"object" == typeof e && e.replace ? n.replace(e) : n.push(e)) : r(e)}))} catch (t) {o(t)}};Bn(f, h, (function() {var r = function(t) {return Wn(t, "beforeRouteEnter", (function(t, e, r, n) {return function(t, e, r) {return function(n, i, o) {return t(n, i, (function(t) {"function" == typeof t && (e.enteredCbs[r] || (e.enteredCbs[r] = []),e.enteredCbs[r].push(t)),o(t)}))}}(t, r, n)}))}(d);Bn(r.concat(n.router.resolveHooks), h, (function() {if (n.pending !== t)return o(On(i, t));n.pending = null,e(t),n.router.app && n.router.app.$nextTick((function() {Cr(t)}))}))}))},qn.prototype.updateRoute = function(t) {this.current = t,this.cb && this.cb(t)},qn.prototype.setupListeners = function() {},qn.prototype.teardown = function() {this.listeners.forEach((function(t) {t()})),this.listeners = [],this.current = Ir,this.pending = null};var zn = function(t) {function e(e, r) {t.call(this, e, r),this._startLocation = Yn(this.base)}return t && (e.__proto__ = t),e.prototype = Object.create(t && t.prototype),e.prototype.constructor = e,e.prototype.setupListeners = function() {var t = this;if (!(this.listeners.length > 0)) {var e = this.router, r = e.options.scrollBehavior, n = kn && r;n && this.listeners.push(_n());var i = function() {var r = t.current, i = Yn(t.base);t.current === Ir && i === t._startLocation || t.transitionTo(i, (function(t) {n && bn(e, t, r, !0)}))};window.addEventListener("popstate", i),this.listeners.push((function() {window.removeEventListener("popstate", i)}))}},e.prototype.go = function(t) {window.history.go(t)},e.prototype.push = function(t, e, r) {var n = this, i = this.current;this.transitionTo(t, (function(t) {Rn(Mr(n.base + t.fullPath)),bn(n.router, t, i, !1),e && e(t)}), r)},e.prototype.replace = function(t, e, r) {var n = this, i = this.current;this.transitionTo(t, (function(t) {Cn(Mr(n.base + t.fullPath)),bn(n.router, t, i, !1),e && e(t)}), r)},e.prototype.ensureURL = function(t) {if (Yn(this.base) !== this.current.fullPath) {var e = Mr(this.base + this.current.fullPath);t ? Rn(e) : Cn(e)}},e.prototype.getCurrentLocation = function() {return Yn(this.base)},e}(qn);function Yn(t) {var e = window.location.pathname, r = e.toLowerCase(), n = t.toLowerCase();return !t || r !== n && 0 !== r.indexOf(Mr(n + "/")) || (e = e.slice(t.length)),(e || "/") + window.location.search + window.location.hash}var Qn = function(t) {function e(e, r, n) {t.call(this, e, r),n && function(t) {var e = Yn(t);if (!/^\/#/.test(e))return window.location.replace(Mr(t + "/#" + e)),!0}(this.base) || Xn()}return t && (e.__proto__ = t),e.prototype = Object.create(t && t.prototype),e.prototype.constructor = e,e.prototype.setupListeners = function() {var t = this;if (!(this.listeners.length > 0)) {var e = this.router.options.scrollBehavior, r = kn && e;r && this.listeners.push(_n());var n = function() {var e = t.current;Xn() && t.transitionTo(Jn(), (function(n) {r && bn(t.router, n, e, !0),kn || ei(n.fullPath)}))}, i = kn ? "popstate" : "hashchange";window.addEventListener(i, n),this.listeners.push((function() {window.removeEventListener(i, n)}))}},e.prototype.push = function(t, e, r) {var n = this, i = this.current;this.transitionTo(t, (function(t) {ti(t.fullPath),bn(n.router, t, i, !1),e && e(t)}), r)},e.prototype.replace = function(t, e, r) {var n = this, i = this.current;this.transitionTo(t, (function(t) {ei(t.fullPath),bn(n.router, t, i, !1),e && e(t)}), r)},e.prototype.go = function(t) {window.history.go(t)},e.prototype.ensureURL = function(t) {var e = this.current.fullPath;Jn() !== e && (t ? ti(e) : ei(e))},e.prototype.getCurrentLocation = function() {return Jn()},e}(qn);function Xn() {var t = Jn();return "/" === t.charAt(0) || (ei("/" + t),!1)}function Jn() {var t = window.location.href, e = t.indexOf("#");return e < 0 ? "" : t = t.slice(e + 1)}function Zn(t) {var e = window.location.href, r = e.indexOf("#");return (r >= 0 ? e.slice(0, r) : e) + "#" + t}function ti(t) {kn ? Rn(Zn(t)) : window.location.hash = t}function ei(t) {kn ? Cn(Zn(t)) : window.location.replace(Zn(t))}var ri = function(t) {function e(e, r) {t.call(this, e, r),this.stack = [],this.index = -1}return t && (e.__proto__ = t),e.prototype = Object.create(t && t.prototype),e.prototype.constructor = e,e.prototype.push = function(t, e, r) {var n = this;this.transitionTo(t, (function(t) {n.stack = n.stack.slice(0, n.index + 1).concat(t),n.index++,e && e(t)}), r)},e.prototype.replace = function(t, e, r) {var n = this;this.transitionTo(t, (function(t) {n.stack = n.stack.slice(0, n.index).concat(t),e && e(t)}), r)},e.prototype.go = function(t) {var e = this, r = this.index + t;if (!(r < 0 || r >= this.stack.length)) {var n = this.stack[r];this.confirmTransition(n, (function() {var t = e.current;e.index = r,e.updateRoute(n),e.router.afterHooks.forEach((function(e) {e && e(n, t)}))}), (function(t) {Nn(t, Pn.duplicated) && (e.index = r)}))}},e.prototype.getCurrentLocation = function() {var t = this.stack[this.stack.length - 1];return t ? t.fullPath : "/"},e.prototype.ensureURL = function() {},e}(qn), ni = function(t) {void 0 === t && (t = {}),this.app = null,this.apps = [],this.options = t,this.beforeHooks = [],this.resolveHooks = [],this.afterHooks = [],this.matcher = dn(t.routes || [], this);var e = t.mode || "hash";switch (this.fallback = "history" === e && !kn && !1 !== t.fallback,this.fallback && (e = "hash"),an || (e = "abstract"),this.mode = e,e) {case "history":this.history = new zn(this,t.base);break;case "hash":this.history = new Qn(this,t.base,this.fallback);break;case "abstract":this.history = new ri(this,t.base)}}, ii = {currentRoute: {configurable: !0}};ni.prototype.match = function(t, e, r) {return this.matcher.match(t, e, r)},ii.currentRoute.get = function() {return this.history && this.history.current},ni.prototype.init = function(t) {var e = this;if (this.apps.push(t),t.$once("hook:destroyed", (function() {var r = e.apps.indexOf(t);r > -1 && e.apps.splice(r, 1),e.app === t && (e.app = e.apps[0] || null),e.app || e.history.teardown()})),!this.app) {this.app = t;var r = this.history;if (r instanceof zn || r instanceof Qn) {var n = function(t) {r.setupListeners(),function(t) {var n = r.current, i = e.options.scrollBehavior;kn && i && "fullPath"in t && bn(e, t, n, !1)}(t)};r.transitionTo(r.getCurrentLocation(), n, n)}r.listen((function(t) {e.apps.forEach((function(e) {e._route = t}))}))}},ni.prototype.beforeEach = function(t) {return si(this.beforeHooks, t)},ni.prototype.beforeResolve = function(t) {return si(this.resolveHooks, t)},ni.prototype.afterEach = function(t) {return si(this.afterHooks, t)},ni.prototype.onReady = function(t, e) {this.history.onReady(t, e)},ni.prototype.onError = function(t) {this.history.onError(t)},ni.prototype.push = function(t, e, r) {var n = this;if (!e && !r && "undefined" != typeof Promise)return new Promise((function(e, r) {n.history.push(t, e, r)}));this.history.push(t, e, r)},ni.prototype.replace = function(t, e, r) {var n = this;if (!e && !r && "undefined" != typeof Promise)return new Promise((function(e, r) {n.history.replace(t, e, r)}));this.history.replace(t, e, r)},ni.prototype.go = function(t) {this.history.go(t)},ni.prototype.back = function() {this.go(-1)},ni.prototype.forward = function() {this.go(1)},ni.prototype.getMatchedComponents = function(t) {var e = t ? t.matched ? t : this.resolve(t).route : this.currentRoute;return e ? [].concat.apply([], e.matched.map((function(t) {return Object.keys(t.components).map((function(e) {return t.components[e]}))}))) : []},ni.prototype.resolve = function(t, e, r) {var n = tn(t, e = e || this.history.current, r, this), i = this.match(n, e), o = i.redirectedFrom || i.fullPath, s = function(t, e, r) {var n = "hash" === r ? "#" + e : e;return t ? Mr(t + "/" + n) : n}(this.history.base, o, this.mode);return {location: n,route: i,href: s,normalizedTo: n,resolved: i}},ni.prototype.getRoutes = function() {return this.matcher.getRoutes()},ni.prototype.addRoute = function(t, e) {this.matcher.addRoute(t, e),this.history.current !== Ir && this.history.transitionTo(this.history.getCurrentLocation())},ni.prototype.addRoutes = function(t) {this.matcher.addRoutes(t),this.history.current !== Ir && this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(ni.prototype, ii);var oi = ni;function si(t, e) {return t.push(e),function() {var r = t.indexOf(e);r > -1 && t.splice(r, 1)}}ni.install = function t(e) {if (!t.installed || en !== e) {t.installed = !0,en = e;var r = function(t) {return void 0 !== t}, n = function(t, e) {var n = t.$options._parentVnode;r(n) && r(n = n.data) && r(n = n.registerRouteInstance) && n(t, e)};e.mixin({beforeCreate: function() {r(this.$options.router) ? (this._routerRoot = this,this._router = this.$options.router,this._router.init(this),e.util.defineReactive(this, "_route", this._router.history.current)) : this._routerRoot = this.$parent && this.$parent._routerRoot || this,n(this, this)},destroyed: function() {n(this)}}),Object.defineProperty(e.prototype, "$router", {get: function() {return this._routerRoot._router}}),Object.defineProperty(e.prototype, "$route", {get: function() {return this._routerRoot._route}}),e.component("RouterView", Pr),e.component("RouterLink", nn);var i = e.config.optionMergeStrategies;i.beforeRouteEnter = i.beforeRouteLeave = i.beforeRouteUpdate = i.created}},ni.version = "3.6.5",ni.isNavigationFailure = Nn,ni.NavigationFailureType = Pn,ni.START_LOCATION = Ir,an && window.Vue && window.Vue.use(ni);var ai = r(9882), ci = r(165), ui = r.n(ci), li = r(14607), di = r.n(li), fi = r(71426), hi = r.n(fi), pi = r(48079), gi = r.n(pi), mi = r(26327), vi = r.n(mi), yi = r(94740), _i = r(8628), bi = r.n(_i);function wi() {return (wi = (0,m.A)(_().mark((function t() {var e, r, n, i, o;return _().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:return t.next = 2,I.A.queryUserCertificationInfo({});case 2:if (n = t.sent,i = null === (e = n.data) || void 0 === e ? void 0 : e.returnCode,o = null === (r = n.data) || void 0 === r ? void 0 : r.resultData,!i || "000000" !== i) {t.next = 9;break}return t.abrupt("return", 1 == o.isCertified);case 9:return t.abrupt("return", !1);case 10:case "end":return t.stop()}}), t)})))).apply(this, arguments)}function Ei() {return (Ei = (0,m.A)(_().mark((function t() {var e, r, n, i, o, s;return _().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:return n = {data: {}},t.next = 3,I.A.queryMemberRightsAndTime(n);case 3:if (i = t.sent,o = null === (e = i.data) || void 0 === e ? void 0 : e.returnCode,s = null === (r = i.data) || void 0 === r ? void 0 : r.resultData,!o || "000000" !== o) {t.next = 10;break}return t.abrupt("return", s);case 10:return t.abrupt("return", {});case 11:case "end":return t.stop()}}), t)})))).apply(this, arguments)}var Ti = {userCertificationInfo: function() {return wi.apply(this, arguments)},queryMemberRightsAndTime: function() {return Ei.apply(this, arguments)}}, Si = r(5496), Ai = r.n(Si);function Ii(t) {var e = t.ctx, r = t.text, n = t.maxLength;if (!r)return "";for (var i = r.split(""), o = "", s = 0; s < i.length; s++) {if (n && n <= e.measureText(o).width) {o += "...";break}o += i[s]}return o}function xi(t) {var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;return t * ((document.documentElement.clientWidth || document.body.clientWidth) / 375) * e}var Li = {roundRect: function(t) {var e = t.ctx, r = t.x, n = t.y, i = t.width, o = t.height, s = t.radius, a = t.bgColor, c = t.leftTop, u = t.leftBottom, l = t.rightTop, d = t.rightBottom;e.lineWidth = 0,e.strokeStyle = a,e.beginPath(),e.fillStyle = a || "transparent",c ? e.moveTo(r, n + s) : e.moveTo(r, n),u ? (e.lineTo(r, n + o - s),e.quadraticCurveTo(r, n + o, r + s, n + o)) : e.lineTo(r, n + o),d ? (e.lineTo(r + i - s, n + o),e.quadraticCurveTo(r + i, n + o, r + i, n + o - s)) : e.lineTo(r + i, n + o),l ? (e.lineTo(r + i, n + s),e.quadraticCurveTo(r + i, n, r + i - s, n)) : e.lineTo(r + i, n),c ? (e.lineTo(r + s, n),e.quadraticCurveTo(r, n, r, n + s)) : e.lineTo(r, n),Ai()(e).call(e),e.stroke(),e.closePath(),e.clip()},drawtext: function(t) {var e = t.text, r = t.x, n = t.y, i = t.textWidthMax, o = t.maxLine, s = t.fontSize, a = t.textAlign, c = t.color, u = t.isLeft, l = t.titleHeight, d = t.bold;this.ctx.font = "normal ".concat(parseInt(s), "px sans-serif"),this.ctx.textAlign = a || "left",this.ctx.fillStyle = c,l = l || xi(12);for (var f = e.split(""), h = "", p = [], g = 0; g < f.length; g++)this.ctx.measureText(h).width < i && this.ctx.measureText(h + f[g]).width <= i ? h += f[g] : (p.push(h),h = f[g]);p.push(h);var m = p.length;o && (m = p.length > o ? o : p.length);for (var v = 0; v < m; v++)v === m - 1 ? (u && (this.ctx.textAlign = "left"),o && o < p.length ? (p[v] = p[v].substring(0, p[v].length - 3),this.setText({text: p[v] + "...",x: r || 0,y: n + v * l,size: s,color: c,align: "left",bold: d})) : this.setText({text: p[v],x: r || 0,y: n + v * l,size: s,color: c,align: "left",bold: d})) : this.setText({text: p[v],x: r || 0,y: n + v * l,size: s,color: c,align: "left",bold: d});this.ctx.restore()},setText: function(t) {var e = t.ctx, r = t.text, n = t.color, i = t.size, o = t.x, s = t.y, a = t.maxLength, c = t.align, u = t.bold;e.font = u ? "normal bold ".concat(parseInt(i), "px sans-serif") : "normal ".concat(parseInt(i), "px sans-serif"),e.textAlign = c || "center",e.fillStyle = n,a && (r = Ii({ctx: e,text: r,maxLength: a}));var l = e.measureText(r).width;return e.measureText(r).height,e.fillText(r, o + l / 2, s + i),e.restore(),r},maxStrOneLine: Ii,rpx2px: xi,proxyImg: function(t) {return Ge.A.proxy_URL + encodeURIComponent(t)}}, ki = r(44806), Ri = r(63455), Ci = r(27345), Pi = r(77e3);function Di(t, e) {var r = a()(t);if (u()) {var n = u()(t);e && (n = d()(n).call(n, (function(e) {return h()(t, e).enumerable}))),r.push.apply(r, n)}return r}function Oi(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? Di(Object(r), !0).forEach((function(e) {(0,v.A)(t, e, r[e])})) : g() ? Object.defineProperties(t, g()(r)) : Di(Object(r)).forEach((function(e) {Object.defineProperty(t, e, h()(r, e))}))}return t}var Mi = {components: {diaLog: function() {return Promise.all([r.e(7515), r.e(5782), r.e(1884)]).then(r.bind(r, 25782))}},props: ["floorInfo", "activityInfo"],mixins: [ki.A, Ri.A],data: function() {return {mySwiper: {},current: 0,swiperchangeStatus: !1}},computed: Oi(Oi({}, (0,Me.aH)("user", ["userId", "userToken", "onlyShowSubIdList", "bindGiftList"])), {}, {displayRule: function() {return this.floorInfo.displayRule || 1},columnNum: function() {return this.floorInfo.columnNum},loopType: function() {return 1 == this.floorInfo.loopType},filterFloorList: function() {var t, e;return 1 == this.displayRule ? 1 == this.loopType ? this.floorInfo.imgTextFloor : Qe()(t = this.floorInfo.imgTextFloor).call(t, 0, 1) : 3 == this.displayRule ? Qe()(e = this.floorInfo.imgTextFloor).call(e, 0, this.columnNum) : this.floorInfo.imgTextFloor},spacingPx: function() {return this.floorInfo.spacingPx || 0}}),watch: {filterFloorList: {handler: function(t, e) {var r = this;this.$nextTick((function() {r.startSwiper()}))}}},created: function() {},mounted: function() {var t = this;this.getHeight(),this.$nextTick((function() {T()((function() {t.startSwiper()}), 3e3)}))},methods: Oi(Oi({}, (0,Me.PY)("user", ["setOnlyShowSubIdList", "setShowPayEquityPop"])), {}, {rpx2px: function(t) {return t ? Li.rpx2px(t) : 0},startSwiper: function() {var t, e = this, r = this;this.mySwiper = new Swiper("#imagetxt-swiper-container".concat(r.floorInfo.floorId),{loop: !0,autoplay: {delay: 5e3},initialSlide: 0,observeParents: !0,observer: !0,direction: "horizontal",slidesPerView: 1,spaceBetween: 0,autoplayDisableOnInteraction: !0,touchEventsTarget: "wrapper",on: {slideChangeTransitionStart: function() {r.swiperchangeStatus = !0,r.current = this.realIndex},slideChangeTransitionEnd: function() {T()((function() {r.swiperchangeStatus = !1}), 30),this.autoplay.start()},click: function() {if (r.swiperchangeStatus)return !1;r.imageTxtJump(r.filterFloorList[this.realIndex])}}}),this.mySwiper.on("touchStart", (function() {e.mySwiper.autoplay.stop(),clearTimeout(t)})),this.mySwiper.on("touchEnd", (function() {t = T()((function() {e.mySwiper.autoplay.start()}), 2e3)}))},swiperImgClick: function(t) {this.imageTxtJump(t)},getLowpic: function(t) {return x.A.getLowpic(t)},findBindGiftItem: function(t, e) {var r, n = hi()(r = this.bindGiftList).call(r, (function(e) {return e.floorId == t}));if (n && n.giftInfoList) {var i, o = hi()(i = n.giftInfoList).call(i, (function(t) {return t.conditionId == e}));if (o)return {floorId: n.floorId,signature: n.signature || "",conditionId: o.conditionId || "",jumpUrl: o.jumpUrl || ""}}return null},goVideoFollow: function() {(0,Pi.uA)({eventKey: "1-1-33-2"});var t = this.findBindGiftItem(this.bindFloorId, this.bindConditionId);if (t) {var e = t.signature, r = void 0 === e ? "" : e, n = t.conditionId, i = void 0 === n ? "" : n, o = t.jumpUrl, s = void 0 === o ? "" : o, a = {data: {activityId: this.activityInfo.activityId,floorId: this.bindFloorId,sign: this.activityInfo.sign || "",signature: r,conditionId: i}};I.A.reportTask(a).then((function(t) {t && t.data && "000000" === t.data.returnCode && s && (window.location.href = s)})).catch((function(t) {}))}},compareVersionsIsPass: function(t, e) {for (var r, n, i = gi()(r = t.split(".")).call(r, Number), o = gi()(n = e.split(".")).call(n, Number), s = 0; s < Math.max(i.length, o.length); s++) {var a = i[s] || 0, c = o[s] || 0;if (a > c)return !0;if (a < c)return !1}return !0},queryQueueLen: function(t) {return (0,m.A)(_().mark((function e() {var r, n, i, o, s;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return r = {data: {gameId: t,gameType: "8"}},e.prev = 1,e.next = 4,I.A.queryQueueLen(r);case 4:if (n = e.sent,i = n.data,o = i.returnCode,s = i.resultData,i.message,"000000" !== o) {e.next = 17;break}if (!((null == s ? void 0 : s.queueNum) >= 1)) {e.next = 14;break}return e.abrupt("return", !0);case 14:return e.abrupt("return", !1);case 15:e.next = 18;break;case 17:case 18:e.next = 23;break;case 20:e.prev = 20,e.t0 = e.catch(1);case 23:case "end":return e.stop()}}), e, null, [[1, 20]])})))()},imageTxtJump: function(t) {var e = this;return (0,m.A)(_().mark((function r() {var n, i, o, s, a, c, u, l, d, f, h, p, g, m, v, y, b, E, S, A, L, k, R, C, P, D, O, M, U, F, N, B, j, $, H, G, K, q, W, V, z, Y, Q, X, J, Z, tt, et, rt, nt, it;return _().wrap((function(r) {for (; ; )switch (r.prev = r.next) {case 0:if (Ue.A.recordEventAction({eventType: "clouddistribute_2",rese8: "点击 云分发活动模板页面-图文楼层",rese5: t.picture,rese9: "图文楼层",index: "101",labelName: t.name,topicName: t.imgTextFloorId,rese19: 2 == (null == t ? void 0 : t.otherNetJumpFlag) ? 1 : 0}),Ue.A.newrecordEventAction({eventContent: "1-1-1",activityId: e.activityInfo.activityId,type: 2,opValue: 0,action: "1-1-1图文楼层（点击）",floorId: e.floorInfo.floorId,taskId: t.imgTextFloorId,rese2: e.confirmEventTrackWord("jumpUrl", t),rese4: t.picture,rese3: 2 == (null == t ? void 0 : t.otherNetJumpFlag) ? 1 : 0,rese5: e.floorInfo.pullFlag}),1 === e.floorInfo.carryChannelFlag && (t.outerUrl || t.link) && (a = e.$route.query,c = {channel: a.channel || "",packageChannel: a.packageChannel || "",appChannel: a.appChannel || "",statisticChannel: a.statisticChannel || ""},t.outerUrl && (t.outerUrl = MiguplayUtils.url.urlContact(t.outerUrl, c)),t.link && (t.link = MiguplayUtils.url.urlContact(t.link, c))),!(null !== (n = e.activityInfo) && void 0 !== n && n.happyActivityFlag || 1 == t.jumpAuth) || e.userId) {r.next = 8;break}return (0,Pi._c)({eventKey: "1-3",floorId: t.imgTextFloorId}),x.A.toLogin(),r.abrupt("return");case 8:if (1 != t.jumpAuth) {r.next = 25;break}return r.next = 11,Ti.userCertificationInfo();case 11:if (u = r.sent,(0,Pi.eb)({eventKey: "1-1-2",auth: u ? "1" : "0"}),u) {r.next = 18;break}return MiguplayUtils.appUtils.isMiguApp() ? window.location.href = "youplay://identityverification" : (window.location.href = "/middleh5/certify",l = MiguplayUtils.url.getQueryString("appChannel"),x.A.jumpUrl("/middleh5/certify?appChannel=".concat(l), 1)),r.abrupt("return", !1);case 18:return r.next = 20,Ti.queryMemberRightsAndTime();case 20:if (p = r.sent,6 != (null === (d = p.antiaddictionInfo) || void 0 === d ? void 0 : d.status) && (0 != (null === (f = p.antiaddictionInfo) || void 0 === f ? void 0 : f.status) || 0 != (null === (h = p.antiaddictionInfo) || void 0 === h ? void 0 : h.remainTime))) {r.next = 25;break}return e.showDialog({type: 27,title: "温馨提示",info: " 根据《关于进一步严格管理切实防止未成年人沉迷网络游戏的通知》，未成年用户仅可在每周五、六、日及法定节假日晚8点至9点玩游戏，当前时间禁止游戏"}),(0,Pi.fy)({eventKey: "1-1-35-1"}),r.abrupt("return", !1);case 25:if (null == t || !t.suitVersion || !MiguplayUtils.appUtils.isMiguApp()) {r.next = 44;break}return r.prev = 26,r.next = 29,MiguplayUtils.appUtils.getAppHeader();case 29:if (g = r.sent,m = JSON.parse(g).appVersion,v = t.suitVersion,e.compareVersionsIsPass(m, v)) {r.next = 39;break}return e.showDialog({type: 25,title: "温馨提示",info: "版本不支持，请使用最新的咪咕快游客户端参加该活动"}),(0,Pi.nP)({eventKey: "1-1-34-1"}),r.abrupt("return");case 39:r.next = 44;break;case 41:r.prev = 41,r.t0 = r.catch(26);case 44:if (null === (i = e.activityInfo) || void 0 === i || !i.happyActivityFlag || !MiguplayUtils.appUtils.isMiguApp()) {r.next = 61;break}if (!(t && t.link && bi()(y = t.link).call(y, "activity=oneplusone"))) {r.next = 61;break}return b = x.A.getUrlParamQuery(t.link, "gameid") || x.A.getUrlParamQuery(t.outerUrl, "gameid"),r.next = 52,e.queryQueueLen(b);case 52:if (!r.sent) {r.next = 61;break}return e.bindFloorId = x.A.getUrlParamQuery(t.link, "bindFloorId"),e.bindConditionId = x.A.getUrlParamQuery(t.link, "bindconditionId"),e.showDialog({type: 26,info: "当前智能跟练体验人数较多，推荐您先跟着视频练一会儿，也能拿10积分哦"}),(0,Pi.cz)({eventKey: "1-1-33-1"}),r.abrupt("return");case 61:if (!t || 1 !== t.otherNetJumpFlag) {r.next = 70;break}if (!e.userId || !e.userToken) {r.next = 68;break}if (0 !== e.activityInfo.isChinaMobile) {r.next = 66;break}return e.showDialog({type: 19,title: t.otherNetUserPopupText,info: t}),r.abrupt("return");case 66:r.next = 70;break;case 68:return x.A.toLogin(),r.abrupt("return");case 70:if (!t || 2 !== t.otherNetJumpFlag) {r.next = 91;break}if (!e.userId || !e.userToken) {r.next = 89;break}return E = {data: {activityId: e.activityInfo.activityId,floorId: e.floorInfo.floorId,imgTextFloorId: t.imgTextFloorId}},r.next = 75,I.A.getTokensInfo(E);case 75:if (S = r.sent,A = S.data,L = A.returnCode,k = A.resultData,R = A.message,"000000" !== L || !k) {r.next = 85;break}return P = k.channelId,D = k.uid,O = k.serviceType,M = k.token,U = k.expireTime,F = k.nonceStr,N = MiguplayUtils.url.urlContact(t.outerUrl, {"x-tokenlink-channelid": P,"x-tokenlink-uid": D,"x-tokenlink-servicetype": O,"x-tokenlink-token": M,"x-tokenlink-expiretime": U,"x-tokenlink-noncestr": F,mgTokenlink: 1,shareId: null === (C = e.activityInfo) || void 0 === C ? void 0 : C.shareId}),x.A.jumpUrl(N),r.abrupt("return");case 85:return MiguplayUtils.layer.toast(R || "接口超时，请重试哦", 1500),r.abrupt("return");case 87:r.next = 91;break;case 89:return x.A.toLogin(),r.abrupt("return");case 91:if (!t || 3 !== t.otherNetJumpFlag) {r.next = 113;break}if (B = t.link,!x.A.isCmccApp()) {r.next = 102;break}if (B = t.palmHallMiniAppUrl,!t.ssoType) {r.next = 99;break}return r.next = 98,MiguplayUtils.gameplay.getJumpUrl({skipType: 2,skipContent: B,appExt1: "",loginType: t.ssoType,loginParamName: t.ssoParams});case 98:B = r.sent;case 99:window.location.href = B,r.next = 112;break;case 102:if (!MiguplayUtils.ua.isWechat()) {r.next = 107;break}B = "weixin://dl/business/?appid=".concat(t.wxMiniAppId),window.location.href = B,r.next = 112;break;case 107:if (!t.ssoType) {r.next = 111;break}return r.next = 110,MiguplayUtils.gameplay.getJumpUrl({skipType: 2,skipContent: B,appExt1: "",loginType: t.ssoType,loginParamName: t.ssoParams});case 110:B = r.sent;case 111:MiguplayUtils.appUtils.isMiguApp() && -1 === B.indexOf("youplay://") ? window.location.href = "youplay://webview?url=".concat(B) : window.location.href = B;case 112:return r.abrupt("return");case 113:if (!t || 4 !== t.otherNetJumpFlag) {r.next = 142;break}if (!e.userId || !e.userToken) {r.next = 140;break}return j = {data: {floorId: e.floorInfo.floorId,imgTextFloorId: t.imgTextFloorId}},r.prev = 116,r.next = 119,I.A.syncSign(j);case 119:if ($ = r.sent) {r.next = 123;break}return MiguplayUtils.layer.toast("接口调用失败，请稍后重试", 1500),r.abrupt("return");case 123:if (H = $.data,G = H.returnCode,H.message,"000000" !== G) {r.next = 129;break}return window.location.href = x.A.isMiguApp() ? t.link : t.outerUrl,r.abrupt("return");case 129:if ("030608" !== G) {r.next = 132;break}return MiguplayUtils.layer.toast("赛事太火爆，请稍后再进", 1500),r.abrupt("return");case 132:r.next = 138;break;case 134:return r.prev = 134,r.t1 = r.catch(116),r.abrupt("return");case 138:r.next = 142;break;case 140:return x.A.toLogin(),r.abrupt("return");case 142:K = {};try {K.prePageName = document.title || "",K.rese44 = t.imgTextFloorId || "",K.rese45 = "2",K.rese46 = "0",K.rese50 = "1_13_1",K.rese51 = He()(q = "图文跳转_".concat(e.activityInfo.activityId, "_")).call(q, e.floorInfo.floorId)} catch (t) {}if (K = MiguplayUtils.url.encodePayFromParam(K),W = x.A.isMiguApp(),V = t && t.outerUrl && bi()(o = t.outerUrl).call(o, "prize=dgddJD") && !W,z = t && t.link && bi()(s = t.link).call(s, "prize=dgddJD") && W,"688029" !== MiguplayUtils.url.getQueryString("pageid") || !V && !z) {r.next = 168;break}if (!e.userId || !e.userToken) {r.next = 167;break}return Y = {data: {checkType: "1"}},r.next = 153,I.A.checkMZoneAndJD(Y);case 153:if (Q = r.sent,X = Q.data,J = X.returnCode,Z = X.resultData,tt = X.message,et = Z,"000000" !== J || !et) {r.next = 163;break}if (!et.checkResult || 2 != et.checkResult) {r.next = 161;break}return e.showDialog({type: 18,title: "参与失败",info: et.message}),(0,Ci.lr)({eventKey: "clouddistribute_77",floorName: e.floorInfo.floorName,floorId: e.floorInfo.floorId}),r.abrupt("return");case 161:r.next = 165;break;case 163:return MiguplayUtils.layer.toast(tt || "接口超时，请重试哦", 1500),r.abrupt("return");case 165:r.next = 168;break;case 167:x.A.toLogin();case 168:if (rt = MiguplayUtils.url.getQueryString("goApp"),!(!x.A.isMiguApp() && 1 == rt && 1 == e.floorInfo.pullFlag)) {r.next = 178;break}return r.next = 173,x.A.pullDownload("", e.floorInfo.downloadUrl, e.activityInfo.activityId);case 173:it = r.sent,x.A.openApp(He()(nt = "webview?url=".concat(Ge.A.H5hostURL, "/miguplay/delivery/activity/")).call(nt, window.location.search), it, "", e.activityInfo.activityId, K),r.next = 179;break;case 178:x.A.isMiguApp() && MiguplayUtils.ua.isAndroid() || 20 != rt || MiguplayUtils.ua.isMiguaikan() || 1 != e.floorInfo.pullFlag ? (e.$nextTick((function() {e.floorInfo.activityId = e.activityInfo.activityId,e.floorInfo.activityName = e.activityInfo.activityName})),T()((function() {var r, n, i, o;if (t.outerUrl && bi()(r = t.outerUrl).call(r, "onlyShowSubId") && !x.A.isMiguApp() || t.link && bi()(n = t.link).call(n, "onlyShowSubId") && x.A.isMiguApp()) {var s = x.A.getQueryParam(x.A.isMiguApp() ? t.link : t.outerUrl, "onlyShowSubId") || "";return s ? e.setOnlyShowSubIdList(s.split(",")) : e.setOnlyShowSubIdList([]),e.setShowPayEquityPop(!0),e.$parent.PayEquityPopupInfo = e.floorInfo,void window.localStorage.setItem("PayEquityPopupInfo", w()(e.floorInfo))}if (t.outerUrl)if (x.A.isMiguApp())if (bi()(i = t.link).call(i, "QQCODE:")) {var a = t.link.split(":");x.A.H5toAPP(a[a.length - 1])} elsex.A.openUrl(t.link, {ssoType: t.ssoType,ssoParams: t.ssoParams}, null, e.floorInfo, e.activityInfo.activityId, K);elsex.A.openUrl(t.outerUrl, {ssoType: t.ssoType,ssoParams: t.ssoParams}, null, e.floorInfo, e.activityInfo.activityId, K);else if (bi()(o = t.link).call(o, "QQCODE:")) {if (!x.A.isMiguApp())return;a = t.link.split(":");x.A.H5toAPP(a[a.length - 1])} elset.link && x.A.openUrl(t.link, {ssoType: t.ssoType,ssoParams: t.ssoParams}, null, e.floorInfo, e.activityInfo.activityId, K)}), 200)) : (Ue.A.recordEventAction({pageName: "云分发活动模板页面",eventType: "clouddistribute_69",rese8: "拉起 咪咕爱看",rese9: "图文楼层",index: "101",labelName: t.name,topicName: t.imgTextFloorId,indexno: e.floorInfo.floorType}),T()((function() {var t;x.A.openAiKanApp({floorId: e.floorInfo.floorId,url: He()(t = "".concat(Ge.A.H5hostURL, "/miguplay/delivery/activity/")).call(t, window.location.search)})}), 200));case 179:case "end":return r.stop()}}), r, null, [[26, 41], [116, 134]])})))()},jinfenExposure: function() {var t, e = this, r = document.documentElement.clientHeight || window.screen.height;this.floorInfo.imgTextFloor && gi()(t = this.floorInfo.imgTextFloor).call(t, (function(t, n) {var i = parseInt($("#imageTxt" + t.imgTextFloorId).offset().top - $(document).scrollTop()), o = parseInt($("#imageTxt" + t.imgTextFloorId).height());i + o / 3 * 2 < r && -1 * i < o / 3 * 2 && ("submited" !== sessionStorage.getItem("clouddistribute_1" + t.imgTextFloorId) && (sessionStorage.setItem("clouddistribute_1" + t.imgTextFloorId, "submited"),Ue.A.recordEventAction({eventType: "clouddistribute_1",rese8: "曝光 云分发活动模板页面-图文楼层",rese5: t.picture,rese9: "图文楼层",index: "101",labelName: t.name,topicName: t.imgTextFloorId,rese19: 2 == (null == t ? void 0 : t.otherNetJumpFlag) ? 1 : 0}),Ue.A.newrecordEventAction({eventContent: "1-1-1",activityId: e.activityInfo.activityId,type: 1,opValue: 0,action: "1-1-1图文楼层（曝光）",floorId: e.floorInfo.floorId,taskId: t.imgTextFloorId,rese2: e.confirmEventTrackWord("jumpUrl", t),rese4: t.picture,rese5: e.floorInfo.pullFlag})),T()((function() {sessionStorage.removeItem("clouddistribute_1" + t.imgTextFloorId)}), 1e4))}))},confirmEventTrackWord: function(t, e) {var r = "";try {if ("jumpUrl" === t)r = e && 3 === e.otherNetJumpFlag ? x.A.isCmccApp() ? e.palmHallMiniAppUrl : MiguplayUtils.ua.isWechat() ? "weixin://dl/business/?appid=".concat(e.wxMiniAppId) : e.link : x.A.isMiguApp() ? e.link : e.outerUrl || e.link} catch (t) {}return r},getHeight: function() {if (this.floorInfo.pictureResolution) {var t = this.floorInfo.pictureResolution, e = t.indexOf("*"), r = t.substring(0, e), n = 100 * (t.substring(e + 1, t.length) / r).toFixed(2);document.getElementById("imagetxtfloorBg" + this.floorInfo.floorId) && (document.getElementById("imagetxtfloorBg" + this.floorInfo.floorId).style.height = n + "%")}}})}, Ui = Mi, Fi = (0,Ve.A)(Ui, (function() {var t, e = this, r = e._self._c;return r("div", {staticClass: "imagetxtBox"}, [e.floorInfo.floorPicture ? r("img", {staticClass: "imagetxtfloorBg",attrs: {id: ["imagetxtfloorBg" + e.floorInfo.floorId],src: e.getwebp(e.floorInfo.floorPicture),alt: ""}}) : e._e(), e._v(" "), e.floorInfo.showVoucherFlag ? r("div", {staticClass: "right-vcoin"}, [e._v("元宝合计:\n    "), r("span", {staticClass: "num-vcoin"}, [r("p", {staticClass: "vcoin"}), e._v("\n      " + e._s(e.floorInfo.leftVocherSummary || 0) + "个\n    ")])]) : e._e(), e._v(" "), 1 === e.floorInfo.hotZoneFlag && (null === (t = e.filterFloorList) || void 0 === t ? void 0 : t.length) > 0 ? r("div", {staticClass: "hot-area-box",style: {paddingLeft: "".concat(e.rpx2px(e.spacingPx), "px"),paddingRight: "".concat(e.rpx2px(e.spacingPx), "px")}}, e._l(e.filterFloorList, (function(t, n) {return r("div", {key: n,staticClass: "sub-item",on: {click: function(r) {return e.imageTxtJump(t)}}})})), 0) : e._e(), e._v(" "), 3 == e.displayRule && 1 !== e.floorInfo.hotZoneFlag ? r("ol", {staticClass: "imagetxt-content-panel",class: {toFlow: e.floorInfo.floorPicture,type2: 2 == e.columnNum && 3 == e.displayRule,type3: 3 == e.columnNum && 3 == e.displayRule,type4: 4 == e.columnNum && 3 == e.displayRule,type5: e.columnNum >= 5 && 3 == e.displayRule}}, e._l(e.filterFloorList, (function(t, n) {return r("li", {key: n,attrs: {id: "imageTxt" + t.imgTextFloorId},on: {click: function(r) {return e.imageTxtJump(t)}}}, [r("img", {staticClass: "image-panel",attrs: {src: t.picture}})])})), 0) : e._e(), e._v(" "), 1 == e.displayRule && 1 == e.loopType && 1 !== e.floorInfo.hotZoneFlag ? r("div", {staticClass: "imagetxt-content-panel swiper-container",class: {toFlow: e.floorInfo.floorPicture},attrs: {id: "imagetxt-swiper-container".concat(e.floorInfo.floorId)}}, [r("div", {staticClass: "swiper-wrapper"}, e._l(e.filterFloorList, (function(t, n) {return r("li", {key: n,staticClass: "swiper-slide",staticStyle: {width: "100%"},attrs: {id: "imageTxt" + t.imgTextFloorId}}, [r("img", {staticClass: "image-panel",attrs: {src: e.getwebp(t.picture)}})])})), 0), e._v(" "), r("div", {directives: [{name: "show",rawName: "v-show",value: e.filterFloorList && e.filterFloorList.length > 1,expression: "filterFloorList && filterFloorList.length > 1"}],staticClass: "indicator-box"}, [r("ul", e._l(e.filterFloorList, (function(t, n) {return r("li", {key: n,class: {seled: n == e.current}}, [e._v("\n          " + e._s(n) + "\n        ")])})), 0)])]) : e._e(), e._v(" "), 1 == e.displayRule && 0 == e.loopType && 1 !== e.floorInfo.hotZoneFlag ? r("ol", {staticClass: "imagetxt-content-panel",class: {toFlow: e.floorInfo.floorPicture}}, e._l(e.filterFloorList, (function(t, n) {return r("li", {key: n,attrs: {id: "imageTxt" + t.imgTextFloorId},on: {click: function(r) {return e.imageTxtJump(t)}}}, [r("img", {staticClass: "image-panel",attrs: {src: e.getwebp(t.picture)}})])})), 0) : e._e(), e._v(" "), "" != e.floorInfo.description ? r("h1", [e._v(e._s(e.floorInfo.description))]) : e._e(), e._v(" "), r("dia-log", {ref: "dialog",attrs: {dialogInfo: e.dialogInfo,activityInfo: e.activityInfo},on: {goVideoFollow: e.goVideoFollow}})], 1)}), [], !1, null, "4a210749", null).exports, Ni = r(39474), Bi = r(26123), ji = r(87124);function $i(t, e) {var r = a()(t);if (u()) {var n = u()(t);e && (n = d()(n).call(n, (function(e) {return h()(t, e).enumerable}))),r.push.apply(r, n)}return r}function Hi(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? $i(Object(r), !0).forEach((function(e) {(0,v.A)(t, e, r[e])})) : g() ? Object.defineProperties(t, g()(r)) : $i(Object(r)).forEach((function(e) {Object.defineProperty(t, e, h()(r, e))}))}return t}function Gi(t, e) {var r = a()(t);if (u()) {var n = u()(t);e && (n = d()(n).call(n, (function(e) {return h()(t, e).enumerable}))),r.push.apply(r, n)}return r}var Ki = {mixins: [Ri.A],props: ["floorInfo", "activityInfo"],data: function() {return {picture: "",showName: "",monthPoints: null,weekPoints: null,totalPoints: null,usablePoints: null,todayPoints: null,isNeedRefresh: "fragmentFloor"}},computed: function(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? Gi(Object(r), !0).forEach((function(e) {(0,v.A)(t, e, r[e])})) : g() ? Object.defineProperties(t, g()(r)) : Gi(Object(r)).forEach((function(e) {Object.defineProperty(t, e, h()(r, e))}))}return t}({}, (0,Me.aH)("user", ["userId", "userToken"])),watch: {userToken: function(t, e) {var r = this;t != e && T()((function() {r.getPageInfo()}), 500)}},mounted: function() {var t = this;T()((function() {t.getPageInfo()}), 500),document.addEventListener("visibilitychange", (function() {document.hidden || T()((function() {t.getPageInfo()}), 500)}))},methods: {gotoLogin: function() {x.A.toLogin()},getPageInfo: function() {var t = this;return (0,m.A)(_().mark((function e() {var r, n, i, o, s, a, c, u, l;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return i = He()(r = He()(n = "delivery_fragmentfloorinfo_".concat(t.activityInfo.activityId, "_")).call(n, t.floorInfo.floorId, "_")).call(r, t.userId),"" !== (o = Ni.A.getApiCache(i)) && t.handlePageInfoData(o),s = {headers: {userId: t.userId,userToken: t.userToken},data: {activityId: t.activityInfo.activityId,floorId: t.floorInfo.floorId,sign: localStorage.getItem("deliverySign-" + t.activityInfo.activityId)}},e.next = 7,I.A.queryFragmentFloor(s);case 7:a = e.sent,c = a.data,u = c.returnCode,l = c.resultData,c.message,"000000" === u && l && (Ni.A.setApiCache(i, l),t.handlePageInfoData(l));case 10:case "end":return e.stop()}}), e)})))()},handlePageInfoData: function(t) {var e = t.picture, r = t.showName, n = t.monthPoints, i = t.weekPoints, o = t.totalPoints, s = t.usablePoints, a = t.todayPoints;this.picture = e,this.showName = r,this.monthPoints = n,this.weekPoints = i,this.totalPoints = o,this.usablePoints = s,this.todayPoints = a},refreshTimeFunc: function() {this.getPageInfo()},getLowpic: function(t) {return x.A.getLowpic(t)},jinfenExposure: function() {var t, e, r, n, i = document.documentElement.clientHeight || window.screen.height;if (this.floorInfo.floorPicture) {var o = parseInt($("#FragmentBg" + this.floorInfo.floorId).offset().top - $(document).scrollTop()), s = parseInt($("#FragmentBg" + this.floorInfo.floorId).height());o + s / 3 * 2 < i && -1 * o < s / 3 * 2 && (t = {eventKey: "1-1-29",floorId: this.floorInfo.floorId},e = t.eventKey,r = t.floorId,n = ji.Ru[e],(0,Bi.e9)(Hi(Hi({}, n), {}, {floorId: r})))}}}}, qi = Ki, Wi = (0,Ve.A)(qi, (function() {var t = this, e = t._self._c;return e("div", {staticClass: "FragmentFloor"}, [t.floorInfo.floorPicture ? e("img", {staticClass: "FragmentBg",attrs: {id: ["FragmentBg" + t.floorInfo.floorId],src: t.getwebp(t.floorInfo.floorPicture),alt: ""}}) : t._e(), t._v(" "), t.userId ? t._e() : e("div", {staticClass: "loginBox",style: {color: t.activityInfo.color || "#631d22"},on: {click: t.gotoLogin}}, [t._v("\n    登录后查看\n    "), e("div", {staticClass: "line",style: {backgroundColor: t.activityInfo.color || "#631d22"}})]), t._v(" "), t.userId ? e("div", {staticClass: "pieceBox",style: {color: t.activityInfo.color || "#631d22"}}, [t.monthPoints || 0 === t.monthPoints || t.weekPoints || 0 === t.weekPoints || t.totalPoints || 0 === t.totalPoints ? e("div", {staticClass: "piece_left"}, [t.monthPoints || 0 === t.monthPoints ? e("div", {staticClass: "piecePointsItem"}, [e("div", {staticClass: "piecePointsItemTitle"}, [t._v("本月" + t._s(t.showName))]), t._v(" "), e("div", {staticClass: "dot"}, [t._v(":")]), t._v(" "), e("div", {staticClass: "piecePointsItemNum"}, [t._v(t._s(t.monthPoints))])]) : t._e(), t._v(" "), t.weekPoints || 0 === t.weekPoints ? e("div", {staticClass: "piecePointsItem"}, [e("div", {staticClass: "piecePointsItemTitle"}, [t._v("本周" + t._s(t.showName))]), t._v(" "), e("div", {staticClass: "dot"}, [t._v(":")]), t._v(" "), e("div", {staticClass: "piecePointsItemNum"}, [t._v(t._s(t.weekPoints))])]) : t._e(), t._v(" "), t.totalPoints || 0 === t.totalPoints ? e("div", {staticClass: "piecePointsItem"}, [e("div", {staticClass: "piecePointsItemTitle"}, [t._v("累计" + t._s(t.showName))]), t._v(" "), e("div", {staticClass: "dot"}, [t._v(":")]), t._v(" "), e("div", {staticClass: "piecePointsItemNum"}, [t._v(t._s(t.totalPoints))])]) : t._e()]) : t._e(), t._v(" "), t.usablePoints || 0 === t.usablePoints || t.todayPoints || 0 === t.todayPoints ? e("div", {staticClass: "piece_right"}, [t.usablePoints || 0 === t.usablePoints ? e("div", {staticClass: "piecePointsItem"}, [e("div", {staticClass: "piecePointsItemTitle"}, [t._v("可用" + t._s(t.showName))]), t._v(" "), e("div", {staticClass: "dot"}, [t._v(":")]), t._v(" "), e("div", {staticClass: "piecePointsItemNum"}, [t._v(t._s(t.usablePoints))])]) : t._e(), t._v(" "), t.todayPoints || 0 === t.todayPoints ? e("div", {staticClass: "piecePointsItem"}, [e("div", {staticClass: "piecePointsItemTitle"}, [t._v("今日" + t._s(t.showName))]), t._v(" "), e("div", {staticClass: "dot"}, [t._v(":")]), t._v(" "), e("div", {staticClass: "piecePointsItemNum"}, [t._v(t._s(t.todayPoints))])]) : t._e()]) : t._e()]) : t._e()])}), [], !1, null, "12f06ba4", null).exports, Vi = {name: "loadding",components: {},data: function() {return {}},created: function() {},mounted: function() {},methods: {}}, zi = (0,Ve.A)(Vi, (function() {this._self._c;return this._m(0)}), [function() {var t = this, e = t._self._c;return e("div", {staticClass: "loadding"}, [e("div", {staticClass: "loadbox"}, [e("ul", {staticClass: "animatebox"}, [e("li"), t._v(" "), e("li"), t._v(" "), e("li")]), t._v(" "), e("span", {staticClass: "loding"}, [t._v("加载中...")])]), t._v(" "), e("div", {staticClass: "shadow"})])}], !1, null, "2a8d0ebf", null).exports, Yi = r(95629);function Qi(t, e) {var r = a()(t);if (u()) {var n = u()(t);e && (n = d()(n).call(n, (function(e) {return h()(t, e).enumerable}))),r.push.apply(r, n)}return r}function Xi(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? Qi(Object(r), !0).forEach((function(e) {(0,v.A)(t, e, r[e])})) : g() ? Object.defineProperties(t, g()(r)) : Qi(Object(r)).forEach((function(e) {Object.defineProperty(t, e, h()(r, e))}))}return t}function Ji(t) {var e = t.eventKey, r = t.failMsg, n = ji.Ru[e];(0,Bi.e9)(Xi(Xi({}, n), {}, {rese4: r}))}var Zi = r(5483), to = {data: function() {return {imageFile: "",timer: ""}},computed: {isAndroid: function(t) {function e() {return t.apply(this, arguments)}return e.toString = function() {return t.toString()},e}((function() {var t = window.navigator.userAgent.toLowerCase() || "";return isAndroid = t.indexOf("android") > -1 || t.indexOf("linux") > -1})),isAndroidApp: function() {return this.isAndroid && x.A.isMiguApp()},isMiguApp: function() {return x.A.isMiguApp()}},mounted: function() {},methods: {close: function() {this.imageFile = ""},imgClick: function() {},imgTouchstart: function() {var t = this;return this.timer = T()((function() {t.isAndroidApp && window.JSInterface.savePicForBase64(t.imageFile)}), 500),!1},imgTouchend: function() {clearTimeout(this.timer)},imgTouchmove: function() {clearTimeout(this.timer),this.timer = ""},getCodeImg: function(t) {return (0,m.A)(_().mark((function e() {var r, n;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return e.next = 2,new (i())((function(t, e) {"function" != typeof QRCode ? MiguplayUtils.loadFile.loadScript("//h5cdn.migufun.com/middleh5/qrcode.min.js", (0,m.A)(_().mark((function e() {return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:t();case 2:case "end":return e.stop()}}), e)})))) : t()}));case 2:return t = encodeURI(t),e.next = 6,new QRCode(document.getElementById("qrcodeNew"),{text: t,width: 272,height: 272,colorDark: "#000000",colorLight: "#ffffff",correctLevel: QRCode.CorrectLevel.M});case 6:return r = e.sent,e.prev = 7,n = r._oDrawing._elCanvas.toDataURL(),e.abrupt("return", n);case 13:return e.prev = 13,e.t0 = e.catch(7),e.abrupt("return", "");case 17:case "end":return e.stop()}}), e, null, [[7, 13]])})))()},drawSuper: function(t, e, r, n) {var o = this;return (0,m.A)(_().mark((function s() {var a, c, u, l, d, f, h, p, g, m;return _().wrap((function(s) {for (; ; )switch (s.prev = s.next) {case 0:return a = document.querySelector("#share-canvas"),c = a.getContext("2d"),o.ctx = c,u = 2,l = Li.rpx2px(375, u),d = Li.rpx2px(667, u),a.width = l,a.height = d,Li.roundRect({ctx: c,x: 0,y: 0,width: Li.rpx2px(375, u),height: Li.rpx2px(667, u),radius: Li.rpx2px(18, u),bgColor: "#fff",leftTop: !0,leftBottom: !0,rightBottom: !0,rightTop: !0}),(f = document.createElement("img")).src = t,s.next = 14,new (i())((function(t) {f.onload = function() {c.drawImage(f, 0, 0, Li.rpx2px(375, u), Li.rpx2px(558, u)),c.save(),t(1)},f.onerror = function(e) {t(2)}}));case 14:return c.beginPath(),c.arc(Li.rpx2px(55, u), Li.rpx2px(612, u), Li.rpx2px(38, u), 0, 2 * Math.PI),c.clip(),(h = document.createElement("img")).src = r,s.next = 21,new (i())((function(t) {h.onload = function() {c.drawImage(h, Li.rpx2px(17, u), Li.rpx2px(574, u), Li.rpx2px(76, u), Li.rpx2px(76, u)),c.restore(),t(1)},h.onerror = function(e) {t(2)}}));case 21:if (!e) {s.next = 24;break}return s.next = 24,new (i())((function(t) {var r = document.createElement("img");r.src = e,r.onload = function() {c.drawImage(r, Li.rpx2px(280, u), Li.rpx2px(572, u), Li.rpx2px(82, u), Li.rpx2px(82, u)),c.save(),c.beginPath(),c.lineWidth = 4,c.strokeStyle = "#26B821",c.strokeRect(Li.rpx2px(276, u), Li.rpx2px(568, u), Li.rpx2px(90, u), Li.rpx2px(90, u)),c.stroke(),t(1)},r.onerror = function(e) {t(2)}}));case 24:return Li.setText({ctx: c,text: n || "",maxLength: Li.rpx2px(150, u),x: Li.rpx2px(99, u),y: Li.rpx2px(585, u),size: Li.rpx2px(12, u),bold: !0,color: "#151515"}),Li.setText({ctx: c,text: "1、长按或截图保存图片到相册",x: Li.rpx2px(99, u),y: Li.rpx2px(608, u),size: Li.rpx2px(10, u),bold: !1,color: "#666363"}),Li.setText({ctx: c,text: "2、打开微信扫码可进入活动",x: Li.rpx2px(99, u),y: Li.rpx2px(626, u),size: Li.rpx2px(10, u),bold: !1,color: "#666363"}),p = a.toDataURL("image/png", 1),c.clearRect(0, 0, l, d),c.restore(),.7,a.width = .7 * l,a.height = .7 * d,s.next = 36,new (i())((function(t) {var e = document.createElement("img");e.src = p,e.onload = function() {c.drawImage(e, 0, 0, a.width, a.height),c.save(),t(1)},e.onerror = function(e) {t(2)}}));case 36:return g = a.toDataURL("image/png", 1),o.imageFile = g,x.A.isMiguApp() && (m = {title: "分享",subtitle: "",linkUrl: "",isLogin: 1,base64Img: p,isBase64ImgCompress: !1},MiguplayUtils.ua.isIos() ? (m = {base64Img: p},window.webkit.messageHandlers.sharecontent.postMessage(w()(m))) : window.JSInterface.sharecontent(w()(m))),s.abrupt("return", o.imageFile);case 41:case "end":return s.stop()}}), s)})))()}}}, eo = to, ro = (0,Ve.A)(eo, (function() {var t = this, e = t._self._c;return e("div", [e("canvas", {attrs: {id: "share-canvas"}}), t._v(" "), t.imageFile ? e("div", {staticClass: "share-show-img"}, [e("div", {staticClass: "bg",on: {click: function(e) {return t.close()}}}), t._v(" "), e("div", {staticClass: "share-img",on: {click: function(e) {return e.stopPropagation(),t.imgClick()},touchstart: t.imgTouchstart,touchend: t.imgTouchend,touchmove: t.imgTouchmove}}, [e("img", {staticClass: "img",attrs: {src: t.imageFile,alt: ""}})])]) : t._e(), t._v(" "), e("div", {attrs: {id: "qrcodeNew"}})])}), [], !1, null, "b0a1061c", null).exports, no = r(48412);function io(t, e) {var r = a()(t);if (u()) {var n = u()(t);e && (n = d()(n).call(n, (function(e) {return h()(t, e).enumerable}))),r.push.apply(r, n)}return r}function oo(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? io(Object(r), !0).forEach((function(e) {(0,v.A)(t, e, r[e])})) : g() ? Object.defineProperties(t, g()(r)) : io(Object(r)).forEach((function(e) {Object.defineProperty(t, e, h()(r, e))}))}return t}var so = {mixins: [ki.A],components: {minortimer: no.minortimer,FragmentFloor: Wi,ImageTxt: Fi,Loading: zi,shareImg: ro,GiftNSelOneFloor: function() {return Promise.all([r.e(4276), r.e(4121), r.e(164)]).then(r.bind(r, 60164))},AppRightsFloor: function() {return r.e(7056).then(r.bind(r, 27056))},GameRecommend: function() {return r.e(7256).then(r.bind(r, 17256))},GiftPackage: function() {return Promise.all([r.e(7515), r.e(577)]).then(r.bind(r, 75358))},LuckDraw: function() {return Promise.all([r.e(4276), r.e(7533), r.e(9098), r.e(1677)]).then(r.bind(r, 30438))},TimePackage: function() {return r.e(332).then(r.bind(r, 30332))},RuleAndReward: function() {return r.e(8784).then(r.bind(r, 18784))},BlindBox: function() {return Promise.all([r.e(4276), r.e(7533), r.e(9098), r.e(7194)]).then(r.bind(r, 68594))},BottomGame: function() {return r.e(4559).then(r.bind(r, 34559))},RedPacket: function() {return r.e(3841).then(r.bind(r, 3841))},DiyDrawFloor: function() {return Promise.all([r.e(4276), r.e(7533), r.e(9098), r.e(8195)]).then(r.bind(r, 72047))},InviteNew: function() {return r.e(5035).then(r.bind(r, 55035))},Multitask: function() {return r.e(3375).then(r.bind(r, 63375))},RankingList: function() {return r.e(7049).then(r.bind(r, 47049))},SmallIcon: function() {return r.e(7185).then(r.bind(r, 97185))},NewEmployeeWelfare: function() {return r.e(7213).then(r.bind(r, 17213))},PlayNianBeast: function() {return r.e(4432).then(r.bind(r, 94432))},LightLantern: function() {return Promise.all([r.e(7515), r.e(7533), r.e(9245)]).then(r.bind(r, 29245))},VideoList: function() {return Promise.all([r.e(9854), r.e(6685)]).then(r.bind(r, 32541))},GDShortTest: function() {return r.e(948).then(r.bind(r, 40948))},PayForYuanbaoPopup: function() {return r.e(2861).then(r.bind(r, 62861))},commonToast: function() {return r.e(5843).then(r.bind(r, 35843))},usualLoading: function() {return r.e(7543).then(r.bind(r, 47543))},wxQQAutoDialog: function() {return r.e(3028).then(r.bind(r, 13028))},PayEquityPopup: function() {return Promise.all([r.e(4276), r.e(4121), r.e(3585), r.e(1160)]).then(r.bind(r, 21160))},PayResult: function() {return r.e(8981).then(r.bind(r, 78981))},ZJPersonalRecord: function() {return r.e(6498).then(r.bind(r, 46498))},OpenGrid: function() {return r.e(3109).then(r.bind(r, 53109))},TencentBind: function() {return r.e(6331).then(r.bind(r, 36331))},WidthwaysDraw: function() {return Promise.all([r.e(7533), r.e(3973)]).then(r.bind(r, 3973))},SynthesisBigWatermelonGame: function() {return r.e(6622).then(r.bind(r, 6622))},diaLog: function() {return Promise.all([r.e(7515), r.e(5782), r.e(1884)]).then(r.bind(r, 25782))},safariface: function() {return r.e(5717).then(r.bind(r, 45717))},openAppButton: function() {return r.e(7834).then(r.bind(r, 27834))},Subscribe: function() {return r.e(2719).then(r.bind(r, 2719))},TabTab: function() {return r.e(3557).then(r.bind(r, 73557))}},data: function() {return {activityId: "",giftInfo: window.localStorage.getItem("giftInfo") ? JSON.parse(localStorage.getItem("giftInfo")) : null,popupFloorInfo: window.localStorage.getItem("popupFloorInfo") ? JSON.parse(localStorage.getItem("popupFloorInfo")) : null,PayEquityPopupInfo: window.localStorage.getItem("PayEquityPopupInfo") ? JSON.parse(localStorage.getItem("PayEquityPopupInfo")) : {},logoutUrl: "",loginSrc: Ge.A.loginURL + "/login?sourceid=206029&id=&apptype=1&forceAuthn=&isPassive=&authType=&passwordControl=&display=&relayState=1&referer=&logintype=&phoneNumber=&weibo=1&qq=1&alipay=&weixin=1&andPass=0&openPage=1&callbackURL=",exitLoginSrc: Ge.A.loginURL + "/logout?sourceid=000001&callbackURL=&relayState=&",backgroundImg: "",isShowLoading: !0,topBg: "",loginBg: r(12922),rewardBG: r(92565),ruleBG: r(25637),userPhone: "",isShowLogout: !1,isShowLogoutModal: !1,isShowRuleOrReward: !1,pageInfo: {},isJinfenSignIn: !0,dialogInfo: {},isShowActivityOverModal: !1,countDownShow: !1,noMenu: MiguplayUtils.url.getQueryString("nomenu"),showToTop: !1,countDown: {time: 0,h: 0,i: 0,s: 0},source: this.$route.query.source,isShowBottom: !1,showGdShortTest: !1,gDShortTestInfo: null,videoMove: [],videoFloorList: {},waitload: !1,allFloorlist: [],firstFloor: 5,keyTemp: Math.floor((new Date).getTime() + 100 * Math.random()),showOverRankListBtn: !1,isShowOtherFloor: !0,backgroundColor: "#f0f1f5",currentDisplayIndex: 4,shareInfo: null,dialogType: 0,showLoading: !1,showWxQQAutoDialog: !1,tengXuInfo: null,bagClickTengXuInfo: {},bindWXState: "bind",bindQQState: "bind",shouldLoopQuery: !1,showOpenAppButton: !1,shareBtnLoading: !1,subOrderId: "",smsSeq: "",pollingInterval: null,pollingCount: 0,showNkLoading: !1,isFromGiftToOther: !1,recordId: "",loadedGiftNSelOneFloor: 0,totalGiftNSelOneFloor: 0,showTabId: 0,pageInfofloorList: []}},watch: {userToken: function(t, e) {t != e && this.init()},isShowLogoutModal: function(t) {t ? x.A.stopBodyScroll(".logout-modal") : x.A.bodyScroll(".logout-modal")},showPayPop: function(t) {t ? x.A.stopBodyScroll(".logout-modal") : x.A.bodyScroll(".logout-modal")},showPayEquityPop: function(t) {t ? x.A.stopBodyScroll(".logout-modal") : x.A.bodyScroll(".logout-modal")},loading: function(t, e) {t != e && (this.waitload = t.loading)},userInfoObj: {deep: !0,immediate: !0,handler: function(t, e) {this.userPhone = t.phone}},refreshTime: function(t) {this.refreshTimeFunction(),this.showWxQQAutoDialog && this.shouldLoopQuery && this.loopQueryTencentGameBind()},$route: {deep: !0,handler: function(t, e) {"home" == t.name && "address" == e.name && "reward" == this.isShowRuleOrReward && this.$refs.ruleAndReward.getReward()}},floatButtonFlag: {immediate: !0,deep: !0,handler: function(t, e) {if (t)try {(0,Pi.Nu)({eventKey: "1-1-22-1"})} catch (t) {}}}},computed: oo(oo({}, (0,Me.aH)("user", ["userId", "userToken", "userInfoObj", "refreshTime", "loading", "illegalUser", "showPayPop", "showPayEquityPop"])), {}, {channel: function() {return MiguplayUtils.url.getQueryString("channel") || MiguplayUtils.url.getQueryString("appChannel") || ""},isShowShareBtn: function() {var t, e;return x.A.isMiguApp() && (null === (t = this.pageInfo) || void 0 === t || null === (t = t.activityInfo) || void 0 === t ? void 0 : t.activitySharePic) && 0 !== Number(this.$route.query.share) || (null === (e = this.pageInfo) || void 0 === e || null === (e = e.activityInfo) || void 0 === e ? void 0 : e.activitySharePic) && !x.A.isMiguApp()},ishide: function() {return MiguplayUtils.url.getQueryString("ishide") || MiguplayUtils.url.getQueryString("isHide") || ""},isPc: function() {return MiguplayUtils.ua.isPC()},isShowZJGuandan: function() {return this.userId && "guandanzj" == this.$route.query.prize && this.$route.query.gameid},floatButtonFlag: function() {var t;return /Gecko\) (?!CriOS)/.test(navigator.userAgent) && /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/QQBrowser/.test(navigator.userAgent) && !window.navigator.standalone && !MiguplayUtils.ua.isPC() && (null == this || null === (t = this.pageInfo) || void 0 === t || null === (t = t.activityInfo) || void 0 === t ? void 0 : t.displayIosShortcuts)}}),created: function() {this.source && "friends" === this.source && x.A.friendScene(),window.location.href.indexOf("%2F%3Fpageid%3D688029") > -1 && x.A.deleteParamAndCache(),window.visibilityChange = this.visibilityChange},mounted: function() {var t = this;this.init(),document.documentElement.style.setProperty("--basic", this.isPc ? 60 : 37.5);var e = document.getElementById("topImgForLcp");if (e && (e.style.display = "none",e.style.isDisplay = "none"),window.addEventListener("scroll", this.scrollToTop),document.addEventListener("visibilitychange", (function() {document.hidden || (window.localStorage.getItem("goPayShop") && (window.localStorage.removeItem("goPayShop"),t.refreshTimeFunction()),window.localStorage.getItem("gotopayofjiangxi") && t.refreshTimeFunction(),!t.showWxQQAutoDialog || !t.shouldLoopQuery || x.A.isMiguApp() && MiguplayUtils.ua.isAndroid() || (t.refreshTimeFunction(),t.loopQueryTencentGameBind()),window.localStorage.getItem("tengxunFresh") && (window.localStorage.removeItem("tengxunFresh"),t.refreshTimeFunction(),t.shouldLoopQuery && t.loopQueryTencentGameBind()))})),this.source && "friends" === this.source)x.A.friendScene();else {var r = MiguplayUtils.fn.removeUrlInfo("https://www.migufun.com/miguplay/delivery/activity/?pageid=221002", "225717441615");r ? window.location.href = r : x.A.storeUserInfo()}window.location.href.indexOf("%2F%3Fpageid%3D688029") > -1 && x.A.deleteParamAndCache();var n = navigator.userAgent, i = x.A.isMiguApp(), o = n.indexOf("woxin") > -1, s = "android" == MiguplayUtils.url.getQueryString("source"), a = MiguplayUtils.miguCmcc.isCmccApp();this.isShowLogout = !(i || o || s || a),this.$nextTick((function() {window.navigator.standalone && $(".wrapper").css({"padding-top": 0,"padding-bottom": 0})}));var c = this;T()((function() {$(window).scroll((function() {c.jinfenExposure()}))}), 500)},activated: function() {document.title = this.pageInfo && this.pageInfo.activityInfo ? this.pageInfo.activityInfo.pageName : ""},methods: oo(oo({}, (0,Me.PY)("user", ["setUserInfo", "setUserInfoObj", "setActivityInfo", "setLoading", "setLegalUser", "setLotteryNumber"])), {}, {clickReceiveBtn: function(t) {var e = this;return (0,m.A)(_().mark((function r() {var n, i, o;return _().wrap((function(r) {for (; ; )switch (r.prev = r.next) {case 0:if (!(t && null != t && t.tencentActId && null != t && t.id && null != t && t.tencentGameId)) {r.next = 25;break}if (n = x.A.isMiguApp(),i = !1,n && (i = MiguplayUtils.ua.isAndroid() ? function() {try {return "" !== window.JSInterface.getAppPackageName()} catch (t) {return !1}}() : MiguplayUtils.ua.IosHighAppVersion("10.2.66")),!n || i) {r.next = 11;break}return x.A.popMessageNew("当前版本较低，无法参加该活动，请升级客户端至最新版本参与", 2e3),r.abrupt("return");case 11:if (!MiguplayUtils.miguSdkUtils.isMIGUsdk() && !MiguplayUtils.miguCmcc.isCmccApp()) {r.next = 16;break}return x.A.popMessageNew("活动仅咪咕快游端内可参与", 1500),r.abrupt("return");case 16:return e.shouldLoopQuery = !0,e.isFromGiftToOther = !0,e.recordId = (null == t ? void 0 : t.id) || "",o = {tencentActId: t.tencentActId || "",tencentFlowId: t.tencentFlowId || "",tencentGameId: t.tencentGameId || "",tencentGameName: t.tencentGameName || "",floorId: ""},r.next = 22,e.bagClickTengXu(o);case 22:if ("unAuthorBound" !== r.sent) {r.next = 25;break}return r.abrupt("return");case 25:case "end":return r.stop()}}), r)})))()},handleGiftNSelOneFloorLoaded: function() {var t = this;this.loadedGiftNSelOneFloor++,this.loadedGiftNSelOneFloor === this.totalGiftNSelOneFloor && this.$nextTick((function() {a()(t.$refs).forEach((function(e) {if (ui()(e).call(e, "floor")) {var r = t.$refs[e][0];r && r.startSwiper && T()((function() {r.startSwiper()}), 500)}}))}))},bagClick: function(t, e) {var r = "floor" + t, n = this.$refs[r][0] && this.$refs[r][0].giftInfoList[e] ? this.$refs[r][0].giftInfoList[e] : null;n && n.userPoints >= n.deductPoints && 2 == n.status ? this.$refs[r][0].bagClick(e, r, this.$refs[r][0].giftInfoList[e]) : n && n.status},receiveGiftPrize: function() {var t = this;return (0,m.A)(_().mark((function e() {var r;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return r = {headers: {userId: t.userId,userToken: t.userToken},data: {recordId: t.recordId}},e.prev = 1,e.next = 4,I.A.receiveGiftPrize(r);case 4:if ("000000" != e.sent.data.returnCode) {e.next = 10;break}return e.abrupt("return", "receivePrize_success");case 10:return e.abrupt("return", "receivePrize_fail");case 11:e.next = 17;break;case 13:return e.prev = 13,e.t0 = e.catch(1),e.abrupt("return", "receivePrize_error");case 17:case "end":return e.stop()}}), e, null, [[1, 13]])})))()},loopQueryTencentGameBind: function() {var t = this;return (0,m.A)(_().mark((function e() {var r, n;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:t.showLoading = !0,T()((function() {t.showWxQQAutoDialog = !1}), 200),r = 0,n = di()((0,m.A)(_().mark((function e() {var i, o, s, a, c, u, l, d;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return e.prev = 0,e.next = 3,I.A.queryTencentGameBind({data: {actId: t.bagClickTengXuInfo.actId,gameId: t.bagClickTengXuInfo.gameIdList}});case 3:return i = e.sent,e.next = 6,I.A.queryTencentAuthorization({data: {actId: t.bagClickTengXuInfo.actId,gameId: t.bagClickTengXuInfo.gameIdList}});case 6:if (o = e.sent,s = o.data.resultData,a = "000000" === i.data.returnCode && 1 === i.data.resultData.gameBind,c = "000000" === o.data.returnCode,u = null == s ? void 0 : s.activityAuth,l = null == s ? void 0 : s.userAuth,!a || !c) {e.next = 29;break}if (!(u && l || !u)) {e.next = 26;break}if (!t.isFromGiftToOther) {e.next = 23;break}return t.isFromGiftToOther = !1,e.next = 18,t.receiveGiftPrize();case 18:"receivePrize_success" === (d = e.sent) ? (x.A.popMessageNew("领取成功"),t.$refs.ruleAndReward.getReward()) : "receivePrize_fail" !== d && "receivePrize_error" !== d || x.A.popMessageNew("领取失败，请稍后再试"),t.recordId = "",e.next = 24;break;case 23:x.A.popMessageNew("绑定授权成功");case 24:e.next = 27;break;case 26:u && !l && (t.isFromGiftToOther ? (t.isFromGiftToOther = !1,x.A.popMessageNew("领取失败，请完成授权流程")) : x.A.popMessageNew("绑定成功，请点击礼包完成授权流程"));case 27:t.showLoading = !1,clearInterval(n);case 29:e.next = 34;break;case 31:e.prev = 31,e.t0 = e.catch(0);case 34:r >= 3 && (t.showLoading = !1,clearInterval(n)),r++;case 36:case "end":return e.stop()}}), e, null, [[0, 31]])}))), 1500),t.shouldLoopQuery = !1;case 5:case "end":return e.stop()}}), e)})))()},bagClickTengXu: function(t) {var e = this;return (0,m.A)(_().mark((function r() {var n, i, o, s, a, c, u;return _().wrap((function(r) {for (; ; )switch (r.prev = r.next) {case 0:return n = {actId: t.tencentActId,tencentFlowId: t.tencentFlowId,gameIdList: t.tencentGameId,tencentGameName: t.tencentGameName,livePlatId: "migufun"},e.bagClickTengXuInfo = n,r.next = 5,I.A.queryTencentGameBind({data: {actId: n.actId,gameId: n.gameIdList}});case 5:return i = r.sent,r.next = 8,I.A.queryTencentAuthorization({data: {actId: n.actId,gameId: n.gameIdList}});case 8:if (o = r.sent,"000000" != i.data.returnCode || "000000" != o.data.returnCode) {r.next = 29;break}if (s = i.data.resultData,a = o.data.resultData,c = s.gameBindInfo || a.authParams || {},1 == s.gameBind && (!a.activityAuth || a.userAuth)) {r.next = 19;break}return e.tengXuInfo = {gameIdList: c.gameIdList,code: c.code,t: c.t,sig: c.sig,actId: c.actId,gameAuthScene: c.gameAuthScene,tencentGameName: n.tencentGameName,floodId: t.floodId || ""},e.showWxQQAutoDialog = !0,r.abrupt("return", "unAuthorBound");case 19:if (!e.isFromGiftToOther) {r.next = 26;break}return e.isFromGiftToOther = !1,r.next = 23,e.receiveGiftPrize();case 23:"receivePrize_success" === (u = r.sent) ? (x.A.popMessageNew("领取成功"),e.$refs.ruleAndReward.getReward()) : "receivePrize_fail" !== u && "receivePrize_error" !== u || x.A.popMessageNew("领取失败，请稍后再试"),e.recordId = "";case 26:return r.abrupt("return", "hasAuthorBound");case 27:r.next = 31;break;case 29:return "000000" !== i.data.returnCode && i.data.message ? x.A.popMessageNew(i.data.message) : "000000" !== o.data.returnCode && o.data.message && x.A.popMessageNew(o.data.message),r.abrupt("return", "unAuthorBound");case 31:case "end":return r.stop()}}), r)})))()},getLowpic: function(t) {return x.A.getLowpic(t)},showPage: function() {this.isShowActivityOverModal = !1,this.isShowOtherFloor = !1},shouldDisplay: function(t) {return arguments.length > 1 && void 0 !== arguments[1] && arguments[1] && t < 2 ? t <= this.currentDisplayIndex - 2 : t <= this.currentDisplayIndex},incrementallyDisplayItems: function() {var t = this, e = di()((function() {t.currentDisplayIndex < t.pageInfo.floorList.length - 1 ? t.currentDisplayIndex += 2 : (t.currentDisplayIndex += 100,clearInterval(e))}), 100)},showShareIcon: function(t) {x.A.loadJavaScriptFile("/miguplay/delivery/activity/static/js/util/bridge.min.js", "js-bridge-miguaikan", (function(e) {e.isSuccess && window.JSBridge.native("menu", [{name: "分享",action: "native://share?data=".concat(encodeURIComponent(w()(t)))}])}))},init: function() {this.getPageInfo(),1 == MiguplayUtils.url.getQueryString("countDown") && this.getH5SysParamInfo(),this.userPhone = this.userInfoObj.phone},getUserYuanBao: function() {var t = this;return (0,m.A)(_().mark((function e() {var r, n;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:if (!t.userId || !t.userToken) {e.next = 14;break}return r = {headers: {userId: t.userId,userToken: t.userToken},data: {activityFlag: t.pageInfo.activityInfo.activityFlag}},e.prev = 2,e.next = 5,I.A.newGetLotteryNumber(r);case 5:"000000" == (n = e.sent).data.returnCode && t.setLotteryNumber(n.data.resultData),e.next = 12;break;case 9:e.prev = 9,e.t0 = e.catch(2);case 12:e.next = 15;break;case 14:t.setLotteryNumber({voucherNum: 0,lotteryNum: 0});case 15:case "end":return e.stop()}}), e, null, [[2, 9]])})))()},getH5SysParamInfo: function() {var t = this;I.A.getH5SysParamInfo({code: "yunianPlayTime"}).then((function(e) {if ("000000" === e.data.returnCode && e.data.resultData) {var r = e.data.resultData[0].value, n = e.data.serverTime / 1e3;Math.ceil(r - n);20,t.countDown.time = 20,t.setCountDown()}}))},setCountDown: function() {var t, e, r, n = this;this.timeinterval = di()((function() {var i = n.countDown.time;t = Math.floor(i / 3600),e = Math.floor((i - 3600 * t) / 60),r = i - 3600 * t - 60 * e,t = t < 10 ? "0" + t : t,e = e < 10 ? "0" + e : e,r = r < 10 ? "0" + r : r,n.countDown = {h: t,i: e,s: r,time: i},i <= 0 && I.A.getGameDetail({gameId: MiguplayUtils.url.getQueryString("gameId"),clientType: "2"}).then((function(t) {0 == t.data.resultData.cloudGame.playStatus && window.location.reload(),1 == t.data.resultData.cloudGame.playStatus && (window.JSInterface.gameJump(),window.clearInterval(n.timeinterval))})),i = i > 0 ? i - 1 : i,n.countDown.time = i,n.countDownShow = !0}), 1e3)},tologin: function(t) {MiguplayUtils.ua.isPC() ? (this.$store.commit("iframeDialog/setLoginUrl"),MiguplayUtils.addClientEvent.recordEventAction({eventType: "h5_top_2",pageName: "全局顶部",rese8: "点击 顶部-头像"})) : "click" == t ? T()((function() {x.A.toLogin()}), 200) : x.A.toLogin()},getPageInfo: function() {var t, e = this, r = MiguplayUtils.url.getQueryString("sign") ? MiguplayUtils.url.getQueryString("sign") : "";r = decodeURIComponent(r).split(" ").join("+");var n = this.userId && this.userToken ? this.userId : 0, i = this.userId && this.userToken ? this.userToken : 0, o = MiguplayUtils.url.getQueryString("pageid"), s = He()(t = "delivery_pageInfo_".concat(o, "_")).call(t, n), a = Ni.A.getApiCache(s);"" !== a && (this.pageInfo = a,this.handlePageInfoData());var c = {headers: {userId: n,userToken: i},data: {pageId: o,sign: r}}, u = localStorage.getItem("pageIdInitImg") || "{}", l = localStorage.getItem("topPageInitImg") || "{}";(u = JSON.parse(u))[o + "-backgroundImg"] || (u = l),this.backgroundImg = u[o + "-backgroundImg"],this.topBg = u[o + "-topBg"],this.backgroundColor = u[o + "-backgroundImgColor"] || "#f0f1f5",this.setLoading({loading: !1}),I.A.getPageInfo(c).then((function(t) {"000000" == t.data.returnCode && (e.pageInfo = t.data.resultData,e.pageInfofloorList = t.data.resultData.floorList,Ni.A.setApiCache(s, e.pageInfo),e.handlePageInfoData())})).finally((function() {var t = document.getElementById("h5Logo");t && (t.style.display = "none"),e.isShowLoading = !1}))},handlePageInfoData: function() {var t = this;window.jiangxiPageinfo = this.pageInfo;var e = MiguplayUtils.url.getQueryString("pageid"), r = this.pageInfo.activityInfo.shortcutsName || "咪咕快游";x.A.addHeadLink({pageTitle: r}),this.activityId = this.pageInfo.activityInfo.activityId,this.pageInfo.activityInfo.sign && "" != this.pageInfo.activityInfo.sign && localStorage.setItem("deliverySign-" + this.pageInfo.activityInfo.activityId, this.pageInfo.activityInfo.sign),this.pageInfo.illegalUser && this.setLegalUser(this.pageInfo.illegalUser),this.$nextTick((function() {var r, n, i;t.incrementallyDisplayItems();for (var o = 0; o < t.pageInfo.floorList.length; o++) {var s;17 == t.pageInfo.floorList[o].floorType && -1 === t.videoMove.indexOf(t.pageInfo.floorList[o].floorId) && t.videoMove.push(t.pageInfo.floorList[o].floorId),t.totalGiftNSelOneFloor = d()(s = t.pageInfo.floorList).call(s, (function(e) {return 24 == e.floorType && t.isDisplay(e.display)})).length}hi()(r = $(document)).call(r, "#loading").remove(),t.setActivityInfo(t.pageInfo.activityInfo),document.title = t.pageInfo.activityInfo.pageName,t.backgroundImg = MiguplayUtils.img.getTinyPic(t.pageInfo.activityInfo.pageBgUrl),t.topBg = MiguplayUtils.img.getTinyPic(t.pageInfo.activityInfo.pageThemeUrl),window.setPageIdInitImg && setPageIdInitImg(e, t.backgroundImg, t.topBg),t.getShareInfo(t.pageInfo.activityInfo.shareId),(0,yi.preloadImg)(t.backgroundImg),(0,yi.preloadImg)(t.pageInfo.activityInfo.receivePopUrl),Ue.A.recordLoginInfo({opType: 1}),(localStorage.getItem("h5Logined") || localStorage.getItem("appLogined") || "android" == MiguplayUtils.url.getQueryString("source") && localStorage.getItem("userId")) && Ue.A.recordLoginInfo({opType: 2}),t.handlerVideoFloorList(),t.getUserYuanBao();var a = MiguplayUtils.url.getQueryString("unLockId") || "";x.A.isMiguApp() && t.unLocking(a);var c = MiguplayUtils.url.getQueryString("preLoad");Ue.A.recordEventAction({eventType: "clouddistribute_0",rese7: "true" == c ? 1 : 0,rese8: "进入 云分发活动模板页面",labelName: "",topicName: ""}),Ue.A.newrecordEventAction({eventContent: "1-1",activityId: t.pageInfo.activityInfo.activityId,type: 1,opValue: 0,action: "1-1活动主页面（曝光）",rese7: "true" == c ? 1 : 0}),T()((function() {t.jinfenExposure(),t.setLoading({loading: !1})}), 500),T()((function() {t.isShowBottom = !0}), 3e3),3 != t.pageInfo.activityInfo.status && 4 != t.pageInfo.activityInfo.status || (t.isShowActivityOverModal = !0),sessionStorage.removeItem("testUserNotice"),sessionStorage.removeItem("staffNotice"),2 === t.pageInfo.activityInfo.status && 1 === t.pageInfo.testUserNotice ? (t.showDialog({type: 1,title: "温馨提示",info: "您是测试号码，根据规则仅可体验活动，无法获得奖品哦~",btnText: "我知道了"}),(0,Yi.f)({eventKey: "1-1-19-2",activityId: t.pageInfo.activityInfo.activityId,rese2: "",rese3: 1,activityType: "8"}),sessionStorage.setItem("testUserNotice", "1")) : 2 === t.pageInfo.activityInfo.status && 1 === t.pageInfo.staffNotice && (t.showDialog({type: 1,title: "温馨提示",info: "您是咪咕星人，根据规则仅可体验活动，无法获得奖品哦~",btnText: "我知道了"}),(0,Yi.f)({eventKey: "1-1-19-2",activityId: t.pageInfo.activityInfo.activityId,rese2: "",rese3: 1}),sessionStorage.setItem("staffNotice", "1")),null !== (n = t.pageInfo.activityInfo) && void 0 !== n && n.urgentNoticeFlag && null !== (i = t.pageInfo.activityInfo) && void 0 !== i && i.showUrgentNoticeFlag && (t.isShowRuleOrReward = "rule",(0,Pi.NA)({eventKey: "1-1-40-1"})),T()((function() {t.firstFloor = t.pageInfo.floorList.length}), 800)})),this.autoPullApp()},firstFloorDataReady: function() {},handlerVideoFloorList: function() {var t, e = this;this.pageInfo.floorList && this.pageInfo.floorList.length > 0 && (this.videoFloorList = d()(t = this.pageInfo.floorList).call(t, (function(t) {return 17 == t.floorType && e.isDisplay(t.display)})))},getShareInfo: function(t) {var e = this, r = {id: String(t)};I.A.queryShareInfo(r).then((function(t) {if ("000000" === t.data.returnCode && t.data.resultData) {e.shareInfo = t.data.resultData;new MG.Share({url: window.location.href,title: t.data.resultData.title,content: t.data.resultData.subtitle,image: t.data.resultData.pictureUrl,friend: t.data.resultData.subtitle});if (MiguplayUtils.ua.isMiguaikan()) {var r = {title: t.data.resultData.title ? t.data.resultData.title : document.title,link: window.location.href,pic: t.data.resultData.pictureUrl ? t.data.resultData.pictureUrl : "",desc: t.data.resultData.subtitle ? t.data.resultData.subtitle : "咪咕快游",type: "11111"};e.showShareIcon(r)}}}))},tologout: function() {var t = this;return (0,m.A)(_().mark((function e() {return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:window.location.href,window.localStorage.removeItem("userId"),window.localStorage.removeItem("userToken"),window.localStorage.removeItem("cryptoUserId"),window.localStorage.removeItem("cryptoUserToken"),window.localStorage.removeItem("cryptoSign"),t.setUserInfo({userId: 0,userToken: 0}),T()((function() {t.isShowLogoutModal = !1,MiguplayUtils.ua.isInMiniprogram() ? (MiguplayUtils.miniProgram.uniPostMessage({userId: "",userToken: "",type: "checkUserLogin"}),MiguplayUtils.miniProgram.uniNavigateTo("/pages/login/login?params=" + encodeURIComponent(w()({backUrl: "/pages/game/game"})))) : t.tologin()}), 1e3);case 8:case "end":return e.stop()}}), e)})))()},getMyReward: function() {this.userId ? this.isShowRuleOrReward = "reward" : this.tologin()},shareBtn: function() {var t = this;return (0,m.A)(_().mark((function e() {var r, n, i, o, s, a, c;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:if (t.userId) {e.next = 3;break}return t.tologin(),e.abrupt("return");case 3:if (!t.shareBtnLoading) {e.next = 6;break}return x.A.popMessageNew("点太快了"),e.abrupt("return");case 6:return t.shareBtnLoading = !0,r = T()((function() {t.showLoading = !0,T()((function() {t.showLoading = !1,t.shareBtnLoading = !1}), 5e3)}), 500),e.prev = 9,t.reportShare(),i = t.userInfoObj.headUrl,o = t.pageInfo.activityInfo.activitySharePic,s = null === (n = t.shareInfo) || void 0 === n ? void 0 : n.linkUrl,e.next = 16,t.$refs.shareImg.getCodeImg(s);case 16:return a = e.sent,e.next = 20,t.$refs.shareImg.drawSuper(Li.proxyImg(o), a, Li.proxyImg(i), t.userInfoObj.nickname);case 20:c = e.sent,T()((function() {t.shareBtnLoading = !1}), 200),c || x.A.popMessageNew("分享失败！"),(0,Pi.rY)({eventKey: "1-1-28-1",shareId: t.pageInfo.activityInfo.shareId,url: s}),e.next = 31;break;case 26:e.prev = 26,e.t0 = e.catch(9),t.shareBtnLoading = !1,x.A.popMessageNew("分享失败！");case 31:clearTimeout(r),t.showLoading = !1;case 33:case "end":return e.stop()}}), e, null, [[9, 26]])})))()},getRule: function() {var t = this;return (0,m.A)(_().mark((function e() {return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:t.isShowRuleOrReward = "rule",Ue.A.recordEventAction({eventType: 2,rese5: 202,rese6: "活动规则按钮"});case 2:case "end":return e.stop()}}), e)})))()},changeRuleReward: function(t) {this.isShowRuleOrReward = t || !1},getToast: function() {1 == this.pageInfo.activityInfo.status && x.A.popMessageNew("活动不在有效期内，敬请期待哦")},reportShare: function() {var t, e = this;if (this.userId) {var r = {headers: {userId: this.userId,userToken: this.userToken},data: {activityId: null === (t = this.pageInfo.activityInfo) || void 0 === t ? void 0 : t.activityId}};I.A.reportShare(r).then((function(t) {"000000" == t.data.returnCode && e.refreshTimeFunction()}))}},jinfenExposure: function() {var t = this;this.isJinfenSignIn && (this.isJinfenSignIn = !1,T()((function() {var e;t.pageInfo.floorList && gi()(e = t.pageInfo.floorList).call(e, (function(e, r) {if (7 != e.floorType && t.isDisplay(e.display)) {var n = "floor" + e.floorId;t.$refs[n] && t.$refs[n][0] && t.$refs[n][0].jinfenExposure()}}));t.isJinfenSignIn = !0}), 800))},refreshTimeFunction: function(t) {var e, r = this;this.pageInfo.floorList && gi()(e = this.pageInfo.floorList).call(e, (function(e, n) {if (7 != e.floorType && r.isDisplay(e.display)) {var i = "floor" + e.floorId;r.$refs[i][0].isNeedRefresh && r.$refs[i][0].isNeedRefresh != t && r.$refs[i][0].refreshTimeFunc()}}))},isDisplay: function(t) {switch (t) {case 0:default:return !0;case 1:return !!inMiguApp;case 2:return !inMiguApp}},scrollToTop: function() {(window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop) > 3 * window.screen.height ? this.showToTop = !0 : this.showToTop = !1},toTop: function() {window.scrollTo({top: 0,behavior: "smooth"})},testCode: function(t, e) {this.$refs["floor" + t][0].doubleConfirm(e)},newTestCode: function(t) {this.$refs.ruleAndReward.prizeRetry(t)},getNkPreCreateOrder: function(t, e) {var r = this;return (0,m.A)(_().mark((function n() {var i, o, s, a, c;return _().wrap((function(n) {for (; ; )switch (n.prev = n.next) {case 0:return r.showNkLoading = !0,n.next = 4,I.A.nkPreCreateOrder({data: {prizeId: t,activityFlag: e}});case 4:if ("000000" != (o = n.sent).data.returnCode || null === (i = o.data) || void 0 === i || null === (i = i.resultData) || void 0 === i || !i.subOrderId) {n.next = 17;break}return a = null === (s = o.data.resultData) || void 0 === s ? void 0 : s.subOrderId,n.next = 10,r.handlerQueryNkPreCreateResult(a);case 10:if (!n.sent) {n.next = 14;break}return n.abrupt("return", null === (c = o.data.resultData) || void 0 === c ? void 0 : c.subOrderId);case 14:return n.abrupt("return", "");case 17:return r.showNkLoading = !1,x.A.popMessageNew("预下单失败,请稍候再试"),Ji({eventKey: "1-1-32",failMsg: "预下单失败,请稍候再试"}),n.abrupt("return", "");case 21:case "end":return n.stop()}}), n)})))()},handlerQueryNkPreCreateResult: function(t) {var e = this;return (0,m.A)(_().mark((function r() {return _().wrap((function(r) {for (; ; )switch (r.prev = r.next) {case 0:return r.abrupt("return", new (i())((function(r, n) {clearInterval(e.pollingInterval),e.pollingCount = 0,e.pollingInterval = di()((0,m.A)(_().mark((function n() {var i, o;return _().wrap((function(n) {for (; ; )switch (n.prev = n.next) {case 0:return e.pollingCount++,n.next = 3,e.toQueryNkPreCreateResult(t);case 3:i = n.sent,o = (null == i ? void 0 : i.orderStatus) || 0,(e.pollingCount >= 5 || o > 1) && (clearInterval(e.pollingInterval),2 == o ? (e.showNkLoading = !1,r(!0)) : (e.showNkLoading = !1,i && 1 != o && 0 != o || (x.A.popMessageNew("接口超时，请重新领取"),Ji({eventKey: "1-1-32",failMsg: "接口超时，请重新领取"})),3 == o && (e.showDialog({type: 1,title: "温馨提示",errorCode: (null == i ? void 0 : i.failMsg) || "",btnText: "我知道了"}),Ji({eventKey: "1-1-32",failMsg: (null == i ? void 0 : i.failMsg) || ""})),r(!1)));case 6:case "end":return n.stop()}}), n)}))), 2e3)})));case 1:case "end":return r.stop()}}), r)})))()},toQueryNkPreCreateResult: function(t) {return (0,m.A)(_().mark((function e() {var r, n;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return e.next = 2,I.A.queryNkPreCreateResult({data: {subOrderId: t}});case 2:if ("000000" != (n = e.sent).data.returnCode || null === (r = n.data) || void 0 === r || !r.resultData) {e.next = 7;break}return e.abrupt("return", n.data.resultData);case 7:return e.abrupt("return", "");case 8:case "end":return e.stop()}}), e)})))()},handleSubmitOrderError: function(t) {x.A.popMessageNew("验证失败，请再次尝试验证哦"),Ji({eventKey: "1-1-32",failMsg: "验证失败，请再次尝试验证哦"})},autoPullApp: function() {var t, e = He()(t = "webview?url=".concat(Ge.A.H5hostURL, "/miguplay/delivery/activity/")).call(t, window.location.search), r = this.pageInfo.activityInfo.downloadUrl, n = x.A.isMiguApp();1 == this.pageInfo.activityInfo.pagePullFlag && (n || (this.showOpenAppButton = !0,1 == this.pageInfo.activityInfo.outerPullFlag && ((0,Pi.No)({eventKey: "1-1-36-1"}),x.A.autoOpenApp({autoOpen: !0,applink: e,downloadUrl: r}))))},visibilityChange: function(t) {"0" === t && (Ue.A.recordLoginInfo({opType: 1,rese7: 0}),Ue.A.recordEventAction({eventType: "clouddistribute_0",rese7: 0,rese8: "进入 云分发活动模板页面",labelName: "",topicName: ""}),Ue.A.newrecordEventAction({eventContent: "1-1",activityId: this.pageInfo.activityInfo.activityId,type: 1,opValue: 0,action: "1-1活动主页面（曝光）",rese7: 0}))},showTabAboutFloors: function(t, e, r) {var n, i, o;this.showTabId = r;var s = vi()(n = this.pageInfofloorList).call(n, (function(e) {return e.floorId === t})), a = Qe()(i = this.pageInfofloorList).call(i);je()(a).apply(a, He()(o = [s + 1, 0]).call(o, (0,ai.A)(e))),this.pageInfo.floorList = a},isNowTabFloor: function(t) {return !t.aboutTabId || t.aboutTabId == this.showTabId},unLocking: function(t) {var e = this;return (0,m.A)(_().mark((function r() {var n, i, o;return _().wrap((function(r) {for (; ; )switch (r.prev = r.next) {case 0:return n = {headers: {userId: e.userId,userToken: e.userToken},data: {activityFlag: e.pageInfo.activityInfo.activityFlag,prizeId: t}},r.prev = 4,r.next = 7,I.A.giftPrizeUnLock(n);case 7:"000000" == (i = r.sent).data.returnCode && (o = i.data.resultData.prizeName) && (e.showDialog({type: 35,title: o,dialogBgImg: e.pageInfo.activityInfo.receivePopUrl,giftState: !1}),(0,Zi.dw)({eventKey: "1-1-42-1",prizeId: t})),r.next = 14;break;case 11:r.prev = 11,r.t0 = r.catch(4);case 14:case "end":return r.stop()}}), r, null, [[4, 11]])})))()}}),beforeRouteLeave: function(t, e, r) {window.removeEventListener("scroll", this.scrollToTop),r()},beforeRouteEnter: function(t, e, r) {if (window.location.href.indexOf("xml") > -1) {var n = window.localStorage.getItem("cloudBackUrl");if (n)return window.localStorage.removeItem("cloudBackUrl"),void window.location.replace(n)}r()}}, ao = so, co = (0,Ve.A)(ao, (function() {var t, e, n = this, i = n._self._c;return i("div", {staticClass: "wrapper",style: {"background-color": n.backgroundColor},attrs: {id: "wrapper"}}, [i("div", {staticClass: "img-bg",style: "background:url(".concat(n.backgroundImg, ") top/100% no-repeat;")}), n._v(" "), i("div", {staticClass: "wrapper-content"}, [i("div", {staticClass: "top-panel"}, [i("SmallIcon"), n._v(" "), n.countDownShow ? i("div", {staticClass: "countDown"}, [i("div", {staticClass: "h"}, [n._v(n._s(n.countDown.h))]), n._v(" "), i("div", {staticClass: "i"}, [n._v(n._s(n.countDown.i))]), n._v(" "), i("div", {staticClass: "s"}, [n._v(n._s(n.countDown.s))])]) : n._e(), n._v(" "), i("img", {key: n.topBg,staticClass: "top-img",class: {pc: n.isPc},attrs: {src: n.topBg}}), n._v(" "), n.userId && "0" != n.userId && n.userToken && n.isShowShareBtn ? i("div", {staticClass: "share-btn-img",on: {click: function(t) {return n.shareBtn()}}}, [i("img", {attrs: {src: r(30954)}})]) : n._e(), n._v(" "), n.userId && "0" != n.userId && n.userToken ? i("div", {staticClass: "top top-user"}, [i("p", {staticClass: "user-info",class: n.isShowLogout ? "to" : "",style: {color: n.pageInfo.activityInfo && n.pageInfo.activityInfo.phoneColour || "#ffffff"},on: {click: function(t) {t.stopPropagation(),t.preventDefault(),n.isShowLogoutModal = !!n.isShowLogout}}}, [i("span", [n._v("您好，")]), n._v(" "), i("span", {staticClass: "phone"}, [n._v(n._s(n.userPhone))])])]) : i("div", {staticClass: "top"}, [i("p", {staticClass: "to-login",on: {click: function(t) {return t.stopPropagation(),n.tologin("click")}}})]), n._v(" "), i("div", {directives: [{name: "show",rawName: "v-show",value: !n.noMenu,expression: "!noMenu"}],staticClass: "right"}, [i("p", {staticClass: "my-reward",on: {click: function(t) {return t.stopPropagation(),n.getMyReward()}}}), n._v(" "), i("p", {staticClass: "rule",on: {click: function(t) {return t.stopPropagation(),n.getRule()}}})])], 1), n._v(" "), n.isShowZJGuandan ? i("ZJPersonalRecord") : n._e(), n._v(" "), n._l(n.pageInfo.floorList, (function(t, e) {return i("div", {key: "floor" + e,staticClass: "center-panel"}, [n.isShowOtherFloor ? [19 == t.floorType && n.isDisplay(t.display) ? i("OpenGrid", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 21 == t.floorType && n.isDisplay(t.display) && n.isNowTabFloor(t) ? i("SynthesisBigWatermelonGame", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 22 == t.floorType && n.isDisplay(t.display) ? i("WidthwaysDraw", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 3 == t.floorType && n.isDisplay(t.display) && n.isNowTabFloor(t) ? i("GiftPackage", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 24 == t.floorType && n.isDisplay(t.display) ? i("GiftNSelOneFloor", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo},on: {refreshTime: n.refreshTimeFunction,"component-loaded": n.handleGiftNSelOneFloorLoaded}}) : n._e(), n._v(" "), 1 == t.floorType && n.isDisplay(t.display) && n.isNowTabFloor(t) ? i("ImageTxt", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e, !0) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 18 == t.floorType && n.isDisplay(t.display) ? i("AppRightsFloor", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e, !0) ? "visible" : "hidden"},attrs: {floorInfoBase: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 4 == t.floorType && n.isDisplay(t.display) ? i("LuckDraw", {key: n.keyTemp + 1,ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo},on: {refreshTime: n.refreshTimeFunction}}) : n._e(), n._v(" "), 2 == t.floorType && n.isDisplay(t.display) && n.isNowTabFloor(t) ? i("TimePackage", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo,nextIndex: e},on: {refreshTime: n.refreshTimeFunction}}) : n._e(), n._v(" "), 5 == t.floorType && n.isDisplay(t.display) ? i("GameRecommend", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 6 == t.floorType && n.isDisplay(t.display) ? i("BlindBox", {key: n.keyTemp + 2,ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo},on: {refreshTime: n.refreshTimeFunction}}) : n._e(), n._v(" "), 7 != t.floorType || n.ishide || !n.isDisplay(t.display) || n.isPc ? n._e() : i("BottomGame", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}), n._v(" "), 8 == t.floorType && n.isDisplay(t.display) ? i("RedPacket", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 9 == t.floorType && n.isDisplay(t.display) && n.isNowTabFloor(t) ? i("DiyDrawFloor", {key: n.keyTemp + 3,ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo},on: {refreshTime: n.refreshTimeFunction}}) : n._e(), n._v(" "), 10 == t.floorType && n.isDisplay(t.display) ? i("InviteNew", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 11 == t.floorType && n.isDisplay(t.display) ? i("Multitask", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 13 == t.floorType && n.isDisplay(t.display) ? i("NewEmployeeWelfare", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 14 == t.floorType && n.isDisplay(t.display) ? i("LightLantern", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo},on: {refreshTime: n.refreshTimeFunction}}) : n._e(), n._v(" "), 15 == t.floorType && n.isDisplay(t.display) ? i("PlayNianBeast", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo},on: {refreshTime: n.refreshTimeFunction}}) : n._e(), n._v(" "), 17 == t.floorType && n.isDisplay(t.display) && n.isNowTabFloor(t) ? i("VideoList", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo,firstVideoObj: n.videoFloorList[0]}}) : n._e(), n._v(" "), 20 == t.floorType && n.isDisplay(t.display) ? i("TencentBind", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo},on: {refreshTime: n.refreshTimeFunction}}) : n._e(), n._v(" "), 23 == t.floorType && n.isDisplay(t.display) ? i("FragmentFloor", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e, !0) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo},on: {refreshTime: n.refreshTimeFunction}}) : n._e(), n._v(" "), 25 == t.floorType && n.isDisplay(t.display) && n.isNowTabFloor(t) ? i("Subscribe", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e, !0) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), 26 == t.floorType && n.isDisplay(t.display) ? i("TabTab", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e, !0) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e()] : n._e(), n._v(" "), 12 == t.floorType && n.isDisplay(t.display) ? i("RankingList", {ref: "floor" + t.floorId,refInFor: !0,style: {visibility: n.shouldDisplay(e) ? "visible" : "hidden"},attrs: {floorInfo: t,activityInfo: n.pageInfo.activityInfo}}) : n._e()], 2)})), n._v(" "), n.isShowBottom && !n.isPc ? i("div", {staticClass: "bottom-panel",style: {color: (null === (t = n.pageInfo.activityInfo) || void 0 === t ? void 0 : t.bottomColour) || "#8E96A8"}}, [n._v("\n      这是我的底线～\n    ")]) : n._e(), n._v(" "), i("RuleAndReward", {ref: "ruleAndReward",attrs: {isShowRuleOrReward: n.isShowRuleOrReward,activityInfo: n.pageInfo.activityInfo,pageInfo: n.pageInfo},on: {changeRuleReward: n.changeRuleReward,clickReceiveBtn: n.clickReceiveBtn}}), n._v(" "), i("div", {directives: [{name: "show",rawName: "v-show",value: n.isShowLogoutModal,expression: "isShowLogoutModal"}],staticClass: "logout-modal"}, [i("div", {staticClass: "shadow",on: {click: function(t) {n.isShowLogoutModal = !1}}}), n._v(" "), i("div", {staticClass: "modal-container"}, [i("h5", [n._v("你确认要退出 当前账号么？")]), n._v(" "), i("div", {staticClass: "btns"}, [i("span", {on: {click: function(t) {return t.stopPropagation(),t.preventDefault(),n.tologout()}}}, [n._v("退出")]), n._v(" "), i("span", {staticClass: "cancle",on: {click: function(t) {t.stopPropagation(),t.preventDefault(),n.isShowLogoutModal = !1}}}, [n._v("取消")])])])]), n._v(" "), n.isShowActivityOverModal ? i("div", {staticClass: "activity-over"}, [1 != n.pageInfo.activityInfo.status ? i("div", {staticClass: "shadow"}) : n._e(), n._v(" "), i("div", {staticClass: "activity-over-container"}, [1 != n.pageInfo.activityInfo.status ? i("h5", [n._v("\n          " + n._s(3 == n.pageInfo.activityInfo.status ? "活动已结束" : 1 == n.pageInfo.activityInfo.status ? "活动未开始" : "活动已停用") + "\n        ")]) : n._e(), n._v(" "), i("div", {staticClass: "btns"}, [1 != n.pageInfo.activityInfo.status ? i("span", {style: {"background-color": n.pageInfo.activityInfo.color || "#01D692"},on: {click: function(t) {return n.getMyReward()}}}, [n._v("我的奖品")]) : n._e(), n._v(" "), n.showOverRankListBtn ? i("span", {staticClass: "seeRank",style: {"background-color": n.pageInfo.activityInfo.color || "#01D692"},on: {click: function(t) {return n.showPage()}}}, [n._v("查看排行榜")]) : n._e()])])]) : n._e(), n._v(" "), i("iframe", {staticStyle: {display: "none"},attrs: {src: n.logoutUrl}}), n._v(" "), n.isPc && n.showToTop ? i("div", {staticClass: "upTotop",on: {click: function(t) {return t.stopPropagation(),n.toTop()}}}, [i("img", {staticClass: "quick_top_icon",attrs: {src: r(6319)}})]) : n._e()], 2), n._v(" "), n.showGdShortTest ? i("GDShortTest", {ref: "gDShortTest",attrs: {infos: n.gDShortTestInfo}}) : n._e(), n._v(" "), i("PayForYuanbaoPopup", {directives: [{name: "show",rawName: "v-show",value: n.showPayPop,expression: "showPayPop"}],attrs: {popupFloorInfo: n.popupFloorInfo,activityInfo: n.pageInfo.activityInfo,activityId: n.activityId,giftInfo: n.giftInfo}}), n._v(" "), n.showPayEquityPop ? i("PayEquityPopup", {ref: "PayEquityPopup",attrs: {PayEquityPopupInfo: n.PayEquityPopupInfo,activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), i("PayResult", {attrs: {PayEquityPopupInfo: n.PayEquityPopupInfo,activityInfo: n.pageInfo.activityInfo},on: {refreshTime: n.refreshTimeFunction}}), n._v(" "), n.dialogType && 0 != n.dialogType ? i("commonToast", {attrs: {type: n.dialogType},on: {bagClick: n.bagClick}}) : n._e(), n._v(" "), n.showLoading ? i("usualLoading") : n._e(), n._v(" "), n.showWxQQAutoDialog ? i("wxQQAutoDialog", {attrs: {tengXuGameInfo: n.tengXuInfo,bindWXState: n.bindWXState,bindQQState: n.bindQQState},on: {close: function(t) {n.showWxQQAutoDialog = !1}}}) : n._e(), n._v(" "), i("dia-log", {ref: "dialog",attrs: {dialogInfo: n.dialogInfo,activityInfo: n.pageInfo.activityInfo}}), n._v(" "), n.floatButtonFlag ? i("safariface") : n._e(), n._v(" "), n.userId && "0" != n.userId && n.userToken && n.isShowShareBtn ? i("shareImg", {ref: "shareImg"}) : n._e(), n._v(" "), i("minortimer"), n._v(" "), i("div", {staticClass: "bottom-panel",style: {color: (null === (e = n.pageInfo) || void 0 === e || null === (e = e.activityInfo) || void 0 === e ? void 0 : e.bottomColour) || "#8E96A8"}}, [n._v("\n      这是我的底线～")]), n._v(" "), n.showOpenAppButton ? i("openAppButton", {attrs: {activityInfo: n.pageInfo.activityInfo}}) : n._e(), n._v(" "), n.showNkLoading ? i("van-loading", {attrs: {type: "spinner",color: "#00D792"}}) : n._e()], 1)}), [], !1, null, "599195ee", null).exports;o.Ay.use(oi);var uo = new oi({mode: "history",base: "/miguplay/delivery/activity",routes: [{path: "/",name: "home",component: co,meta: {keepAlive: !0}}, {path: "/address/:addtype",name: "address",component: function(t) {return r.e(4671).then(function() {var e = [r(44671)];t.apply(null, e)}.bind(this)).catch(r.oe)},meta: {keepAlive: !0}}, {path: "/invitegames",name: "invitegames",component: function(t) {return r.e(6090).then(function() {var e = [r(6090)];t.apply(null, e)}.bind(this)).catch(r.oe)}}, {path: "/pointlist",name: "pointlist",component: function(t) {return r.e(7922).then(function() {var e = [r(87922)];t.apply(null, e)}.bind(this)).catch(r.oe)}}, {path: "/rankMoreList",name: "rankMoreList",component: function(t) {return r.e(8071).then(function() {var e = [r(38071)];t.apply(null, e)}.bind(this)).catch(r.oe)}}, {path: "/rankHistoryList",name: "rankHistoryList",component: function(t) {return r.e(5337).then(function() {var e = [r(25337)];t.apply(null, e)}.bind(this)).catch(r.oe)}}, {path: "/zjGuandanRank",name: "zjGuandanRank",component: function(t) {return r.e(8534).then(function() {var e = [r(58534)];t.apply(null, e)}.bind(this)).catch(r.oe)}}, {path: "/happinessRank/:id",name: "happinessRank",component: function(t) {return r.e(1987).then(function() {var e = [r(81987)];t.apply(null, e)}.bind(this)).catch(r.oe)}}],scrollBehavior: function(t, e, r) {return r || (e.meta.keepAlive && (e.meta.savedPosition = document.body.scrollTop),{x: 0,y: t.meta.savedPosition || 0})}});uo.beforeEach((function(t, e, r) {if (t.query && !t.query.pageid && window.localStorage.getItem("gotopayofjiangxi") && window.localStorage.getItem("gofromjiangxipage")) {var n = window.localStorage.getItem("gofromjiangxipage");return window.localStorage.removeItem("gofromjiangxipage"),void window.location.replace(n)}if (window.localStorage.getItem("gotopayofjiangxi")) {if (window.localStorage.getItem("isNeedClosejianxi") && MiguplayUtils.appUtils.isMiguApp()) {window.localStorage.removeItem("isNeedClosejianxi");try {window.JSInterface.forceClosePage()} catch (t) {}}var i = "";if ((i = "huafei" == window.localStorage.getItem("payproducttype") ? MiguplayUtils.url.removePayQuery(window.location.href, ["payBackurl", "payFromObject"], ["sign", "pay"]) : MiguplayUtils.url.removePayQuery(window.location.href, ["payBackurl", "payFromObject"], ["sign"])) != window.location.href)return void window.location.replace(i)}r()}));var lo = uo, fo = r(72505), ho = r.n(fo), po = r(95681), go = r.n(po);o.Ay.use(go()),o.Ay.use(Me.Ay);var mo = new o.Ay({router: lo,store: cr.A,render: function(t) {return t(hr)}}).$mount("#app"), vo = new o.Ay;o.Ay.prototype.bus = vo,ho().interceptors.request.use((function(t) {return t.requestStartTime = (new Date).getTime(),t})),ho().interceptors.response.use((function(t) {var e = t.config.requestStartTime, r = (new Date).getTime();Math.round(r - e),t.request.responseURL && t.request.responseURL.split(Ge.A.baseURL)[1];return t}), (function(t) {return i().reject(t)}));var yo = mo},44806: function(t, e, r) {"use strict";var n = r(34963), i = r(44828), o = r.n(i), s = r(56255), a = r.n(s), c = r(57083), u = r(48590), l = r(95629), d = {data: function() {return {dialogInfo: {}}},mounted: function() {},methods: {showDialog: function(t) {var e = t.isShow, r = t.type, n = t.title, i = t.info, o = t.isSecondGiftFlag, s = t.prizeType, a = t.errorCode, c = t.dialogBgImg, u = t.giftState, l = t.btnText, d = t.cancelText, f = t.gameId, h = t.floorInfo, p = t.activityInfo, g = t.rewardImg, m = t.prizeReceivedUrl, v = t.addressDeadLineDate, y = t.rewardId, _ = t.errorJumpType, b = t.errorJumpUrl, w = t.memberDialogInfo, E = t.urlFloor, T = t.prizeName, S = t.cloudBeanNum, A = t.index, I = t.button, x = t.iconBg, L = t.downloadUrl, k = t.dlcEffectiveTime, R = t.dlcExpireTime, C = t.prizeInfo, P = t.taskId, D = t.prizeList, O = t.btnType, M = t.multiRank, U = t.nkProvince, F = t.subscribeFlag, N = t.isToAiKan, B = t.isAgain, j = t.floorNeedDetail, $ = t.openGridDialogDetail, H = t.compliantOrderingFlag, G = t.closeDialogBackFun, K = t.sureDialogBackFun, q = t.sureBtnImg, W = t.showCloseIcon, V = t.subscribeBtnType, z = t.gotoInfo, Y = t.appUnlockPrizeFlag, Q = t.waitUnlockPrizeId;this.dialogInfo = {isShow: "false" != e,type: r,title: n,info: i,isSecondGiftFlag: o,prizeType: s,errorCode: a,dialogBgImg: c,giftState: u,btnText: l,cancelText: d,gameId: f,taskId: P,floorInfo: h,activityInfo: p,prizeReceivedUrl: m,addressDeadLineDate: v,rewardId: y,rewardImg: g,errorJumpType: _,errorJumpUrl: b,memberDialogInfo: w,urlFloor: E,prizeName: T,cloudBeanNum: S,index: A,button: I,iconBg: x,downloadUrl: L,dlcEffectiveTime: k,dlcExpireTime: R,prizeInfo: C,prizeList: D,btnType: O,multiRank: M,nkProvince: U,subscribeFlag: F,floorNeedDetail: j,openGridDialogDetail: $,isAgain: B,isToAiKan: N,compliantOrderingFlag: H || 0,closeDialogBackFun: G,sureDialogBackFun: K,sureBtnImg: q,showCloseIcon: W,subscribeBtnType: V,gotoInfo: z,appUnlockPrizeFlag: Y,waitUnlockPrizeId: Q}},checkUserCanGet: function() {var t = this;return (0,n.A)(o().mark((function e() {var r, n, i, s, d, f, h, p, g, m, v;return o().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:if (t.userId && t.userToken) {e.next = 3;break}return u.A.toLogin(),e.abrupt("return", !1);case 3:return e.prev = 3,r = {data: {activityId: t.activityInfo.activityId,floorId: t.floorInfo.floorId,sign: t.activityInfo.sign,signature: t.signature}},e.next = 7,c.A.checkFloorParticipant(r);case 7:if (n = e.sent,i = n.data,s = i.resultData,"000000" !== i.returnCode) {e.next = 26;break}if (!(s && s.unSatisfiedType >= 0)) {e.next = 23;break}if (d = s.unSatisfiedDesc,f = s.unSatisfiedJumpType || 0,h = s.unSatisfiedJumpPic || "",p = s.ssoType || 0,g = s.ssoParamName || "",m = s.unSatisfiedJumpUrl || "",0 === (v = s.unSatisfiedType) && d)t.showDialog({type: 23,info: d,cancelText: "",btnText: "我知道了",showCloseIcon: !0,closeDialogBackFun: function() {t.$refs.dialog.closeDialog()}});else if (1 === v && 1 === f) {t.showDialog({type: 23,info: d,cancelText: MiguplayUtils.appUtils.isMiguApp() ? "我知道了" : "切换账号",sureBtnImg: h,btnText: "立即前往",showCloseIcon: !0,closeDialogBackFun: function() {MiguplayUtils.appUtils.isMiguApp() ? t.$refs.dialog.closeDialog() : t.layoutDialogFun()},sureDialogBackFun: function() {a()((function() {m && u.A.openUrl(m, {ssoType: p,ssoParams: g}, null, t.floorInfo, t.activityInfo.activityId)}), 200),t.$refs.dialog.closeDialog()}});try {(0,l.f)({eventKey: "1-1-19-2",activityId: t.activityInfo.activityId,rese2: "",rese3: 5,rese4: m})} catch (t) {}} else1 === v && 0 === f && t.showDialog({type: 23,info: d,cancelText: "",showCloseIcon: !0,btnText: MiguplayUtils.appUtils.isMiguApp() ? "我知道了" : "切换账号",closeDialogBackFun: function() {t.$refs.dialog.closeDialog()},sureDialogBackFun: function() {MiguplayUtils.appUtils.isMiguApp() ? t.$refs.dialog.closeDialog() : t.layoutDialogFun()}});return e.abrupt("return", !1);case 23:return e.abrupt("return", !0);case 24:e.next = 27;break;case 26:return e.abrupt("return", !1);case 27:e.next = 33;break;case 29:return e.prev = 29,e.t0 = e.catch(3),e.abrupt("return", !1);case 33:case "end":return e.stop()}}), e, null, [[3, 29]])})))()},layoutDialogFun: function() {this.$dialog.alert({className: "vant-dialog-content-23",message: "你确定要退出当前账号么？",confirmButtonText: "取消",cancelButtonText: "退出",showCancelButton: !0,beforeClose: function(t, e) {"confirm" === t ? e() : u.A.tologout((function() {e()}))}})}}};e.A = d},63455: function(t, e) {"use strict";var r = {data: function() {return {}},methods: {getwebp: function(t) {return MiguplayUtils.img.getTinyPic(t)}}};e.A = r},87673: function(t, e, r) {"use strict";r.d(e, {A: function() {return C}});var n, i, o = r(95353), s = r(62893), a = {namespaced: !0,state: {gameList: []},actions: {},mutations: {}}, c = r(61240), u = r.n(c), l = r(29544), d = r.n(l), f = r(57083), h = r(48590);MiguplayUtils.appUtils.isMiguApp() && (n = "friends" != MiguplayUtils.url.getQueryString("source") ? MiguplayUtils.url.getQueryString("userId") : 0,i = "friends" != MiguplayUtils.url.getQueryString("source") ? MiguplayUtils.url.getQueryString("userToken") : 0);var p = {setUserInfo: function(t, e) {var r = e.userId, n = e.userToken;t.userId = parseInt(r),t.userToken = n},setUserInfoObj: function(t, e) {t.userInfoObj = d()({}, t.userInfoObj, e)},setIsMember: function(t, e) {var r = "0" === e ? 1 : 0;t.isMember = r},setUsertagType: function(t, e) {t.userTagType = e},setActivityInfo: function(t, e) {t.activityInfo = e},setLuckyCloverNum: function(t, e) {t.luckyCloverNum = e},setRefreshTime: function(t, e) {t.refreshTime = e},setLoading: function(t, e) {t.loading = e},setLegalUser: function(t, e) {t.illegalUser = e},setPayPopInfoList: function(t, e) {t.payPopInfoList = e},setShowPayPop: function(t, e) {t.showPayPop = e},setOnlyShowSubIdList: function(t, e) {t.onlyShowSubIdList = e},addBindGiftList: function(t, e) {t.bindGiftList.push(e)},setShowPayEquityPop: function(t, e) {t.showPayEquityPop = e},setLotteryNumber: function(t, e) {e && (t.voucherNum = e.voucherNum,t.luckyCloverNum = e.lotteryNum,t.integerNum = e.integerNum)},setVoucherNum: function(t, e) {t.voucherNum = e.voucherNum},setProvinceInfo: function(t, e) {t.provinceFlag = e.provinceFlag}}, g = {namespaced: !0,state: {userId: localStorage.getItem("userId") || n || 0,userToken: localStorage.getItem("userToken") || i || 0,userInfoObj: {},activityInfo: {},luckyCloverNum: 0,voucherNum: 0,integerNum: 0,isMember: 0,userTagType: 0,refreshTime: 0,loading: !0,illegalUser: 0,payPopInfoList: [],showPayPop: !1,showPayEquityPop: !1,onlyShowSubIdList: [],bindGiftList: [],provinceFlag: ""},actions: {triggerGoldPayModal: function(t, e) {var r = t.commit, n = e.userPoints, i = e.deductPoints, o = e.notFinishDesc;return new (u())((function(t, e) {var s = {data: {exchangeNum: Number(i) - Number(n)}};f.A.queryNearestRechargeList(s).then((function(e) {var n = e.data, i = n.returnCode, s = n.resultData, a = n.message;if ("000000" === i && s) {if (s.commonPackageList && s.commonPackageList.length > 0) {var c = h.A.handlePayList(s.commonPackageList, o);r("setPayPopInfoList", c),r("setShowPayPop", !0),t({status: "success",commonPackageList: c,message: a})}} elset({status: "fail",commonPackageList: null,message: a})})).catch((function(e) {t({status: "fail",commonPackageList: null,message: "网络异常"})}))}))}},mutations: p}, m = r(34963), v = r(9882), y = r(44828), _ = r.n(y), b = r(8628), w = r.n(b), E = r(11393), T = r.n(E), S = r(96319), A = r.n(S), I = {sysInfoTrue: function(t, e) {var r, n;if (w()(r = t.getsysInfoSuccess).call(r, e))return t.getsysInfoSuccess;t.getsysInfoSuccess = T()(n = []).call(n, (0,v.A)(t.getsysInfoSuccess), [e])}}, x = {state: {getsysInfoSuccess: [],isTestChannel: ""},actions: {getSysParams: function(t) {return (0,m.A)(_().mark((function e() {var r, n, i, o, s, a, c, u, l, d, h, p;return _().wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return r = t.commit,t.state,e.prev = 1,n = {code: "isHide,h5PageShareInfo,isCareChannel,testChannel"},e.next = 5,f.A.queryH5sysInfo(n);case 5:i = e.sent,o = i.returnCode,s = i.resultData,"000000" == o && (a = window.navigator.userAgent.toLowerCase() || "",c = a.indexOf("android") > -1 || a.indexOf("linux") > -1,u = A()(s).call(s, (function(t) {return "isHide" == t.code}))[0],l = !!("00" == u.value || "01" == u.value && !c || "10" == u.value && c),r("setIsShow", l),d = A()(s).call(s, (function(t) {return "h5PageShareInfo" == t.code}))[0],r("getInfo", d ? d.value : {}),h = A()(s).call(s, (function(t) {return "isCareChannel" == t.code}))[0],r("isCare", 1 == h.value),p = A()(s).call(s, (function(t) {return "testChannel" == t.code}))[0],r("isTest", p ? p.value : "")),e.next = 14;break;case 10:e.prev = 10,e.t0 = e.catch(1),r("sysInfoTrue", "sys");case 14:case "end":return e.stop()}}), e, null, [[1, 10]])})))()}},mutations: I}, L = r(64346), k = {setCertifyUrl: function(t, e) {t.certifyUrl = e},setLoginUrl: function(t, e) {var r, n;(window.localStorage.removeItem("toHistory"),!MiguplayUtils.ua.isPC() || "40257749238" != MiguplayUtils.url.getQueryString("appChannel") && null != MiguplayUtils.url.getQueryString("appChannel") && "" != MiguplayUtils.url.getQueryString("appChannel")) ? t.loginUrl = T()(r = "".concat(L.A.loginUrl, "login?sourceid=206026&apptype=2&forceAuthn=true&isPassive=false&authType=DS&display=wap&weibo=&qq=&alipay=&weixin=&andPass=0&callbackURL=")).call(r, window.encodeURIComponent(L.A.loginCallBakUrl + "?originurl=" + window.btoa(window.location.href))) : t.loginUrl = T()(n = "".concat(L.A.loginUrl, "login?hideps=1&sourceid=206026&apptype=2&forceAuthn=true&isPassive=false&authType=DS&display=wap&weibo=&qq=&alipay=&weixin=&andPass=0&callbackURL=")).call(n, window.encodeURIComponent(L.A.loginCallBakUrl + "?originurl=" + window.btoa(window.location.href)))},clearLoginUrl: function(t, e) {window.localStorage.removeItem("toHistory"),t.loginUrl = ""}}, R = {namespaced: !0,state: {certifyUrl: "",loginUrl: ""},actions: {},mutations: k};s.Ay.use(o.Ay);var C = new o.Ay.Store({modules: {os: a,user: g,sysParam: x,iframeDialog: R}})},93547: function(t, e, r) {"use strict";var n = r(50697), i = r.n(n), o = r(26100), s = r.n(o), a = r(96319), c = r.n(a), u = r(78928), l = r.n(u), d = r(36751), f = r.n(d), h = r(3300), p = r(34963), g = r(44828), m = r.n(g), v = r(85569), y = r.n(v), _ = r(57083), b = r(87673);function w(t, e) {var r = i()(t);if (s()) {var n = s()(t);e && (n = c()(n).call(n, (function(e) {return l()(t, e).enumerable}))),r.push.apply(r, n)}return r}function E(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? w(Object(r), !0).forEach((function(e) {(0,h.A)(t, e, r[e])})) : f() ? Object.defineProperties(t, f()(r)) : w(Object(r)).forEach((function(e) {Object.defineProperty(t, e, l()(r, e))}))}return t}var T = MiguplayUtils.url.getQueryString("appChannel") || MiguplayUtils.url.getQueryString("appchannel") || "zy-gw-mghy", S = MiguplayUtils.url.getQueryString("channel_id") ? MiguplayUtils.url.getQueryString("channel_id") : "", A = MiguplayUtils.url.getQueryString("statisticChannel") ? MiguplayUtils.url.getQueryString("statisticChannel") : "", I = window.navigator.userAgent.toLowerCase() || "", x = I.indexOf("android") > -1 || I.indexOf("linux") > -1, L = !!I.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), k = I.indexOf("miguplay") > -1;function R() {document.getElementsByTagName("body")[0].addEventListener("touchstart", (function() {1 != sessionStorage.getItem("ontouchstart") && (sessionStorage.setItem("ontouchstart", 1),P({eventType: "h5_screenclick",rese8: "点击屏幕",rese5: window.location.href}))}))}function C() {return (C = (0,p.A)(m().mark((function t(e) {var r, n, i, o, s, a;return m().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:return r = e.opType,n = e.loginType,i = MiguplayUtils.url.getQueryString("preLoad"),o = "","true" == i && (o = 1),void 0 !== e.rese7 && (o = e.rese7),t.t0 = T,t.t1 = x ? 1 : L ? 2 : 3,t.t2 = U().os ? U().os : "",t.t3 = window.localStorage.getItem("userId") ? 1 : "0",t.t4 = b.A.state.user.userInfoObj.identityId || "",t.t5 = b.A.state.user.userInfoObj.passId || "",t.t6 = window.localStorage.getItem("deviceId") || "",t.t7 = U().brand ? U().brand : "",t.t8 = U().model ? U().model : "iphone",t.t9 = (new Date).format("yyyyMMddHHmmssSSS"),t.t10 = window.localStorage.getItem("cryptoSign") || "",t.t11 = window.localStorage.getItem("cryptoUserId") || window.localStorage.getItem("userId") || "",t.t12 = window.localStorage.getItem("cryptoUserToken") || window.localStorage.getItem("userToken") || "",t.t13 = n || "",t.t14 = k ? 1 : 2,t.t15 = "0" == b.A.state.user.userInfoObj.isMember ? 1 : 2,t.t16 = A || S,t.t17 = b.A.state.user.userTagType || 0,t.next = 25,MiguplayUtils.user.queryMemberRights();case 25:t.t18 = t.sent,t.t19 = localStorage.getItem("coreFlagLevel") || "-1",s = {appChannel: t.t0,appType: "0",appVersion: "",platform: t.t1,systemVersion: t.t2,networkType: "",carrier: "",userType: t.t3,msisdn: "",identityId: t.t4,passId: t.t5,imei: "",imsi: "",idfa: "",cookieMd5: "",deviceId: t.t6,clientIp: "",brand: t.t7,model: t.t8,screen: "",city: "",address: "",time: t.t9,headerSign: t.t10,userId: t.t11,userToken: t.t12,loginType: t.t13,headerrese1: t.t14,headerrese2: t.t15,headerrese3: t.t16,headerrese4: t.t17,headerrese13: t.t18,headerrese20: t.t19},a = {headers: E({opTime: (new Date).format("yyyyMMddHHmmssSSS")}, s),data: {opType: r,rese1: "HDMB_" + b.A.state.user.activityInfo.activityId,rese2: window.location.href,rese3: b.A.state.user.activityInfo.activityName || "",rese4: MiguplayUtils.url.getQueryString("pageid"),rese5: b.A.state.user.activityInfo.pageName || "",rese6: localStorage.getItem("userId") ? b.A.state.user.illegalUser ? b.A.state.user.illegalUser : 0 : "",rese7: o}},_.A.postJinFenLogin(a).then((function(t) {2 == r && (localStorage.removeItem("h5Logined"),localStorage.removeItem("appLogined"))})).catch((function(t) {})),R();case 31:case "end":return t.stop()}}), t)})))).apply(this, arguments)}function P(t) {try {var e = E({opTime: (new Date).format("yyyyMMddHHmmss.SSS")}, t), r = window.localStorage.getItem("recordDatas") ? JSON.parse(window.localStorage.getItem("recordDatas")) : [];r.push(e),window.localStorage.setItem("recordDatas", y()(r)),D(t)} catch (t) {}}function D() {return O.apply(this, arguments)}function O() {return (O = (0,p.A)(m().mark((function t() {var e, r, n, i, o;return m().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:if (t.prev = 0,!((e = window.localStorage.getItem("recordDatas") ? JSON.parse(window.localStorage.getItem("recordDatas")) : []) && e.length > 0)) {t.next = 31;break}return t.t0 = T,t.t1 = x ? 1 : L ? 2 : 3,t.t2 = U().os ? U().os : "",t.t3 = window.localStorage.getItem("userId") ? 1 : "0",t.t4 = b.A.state.user.userInfoObj.identityId || "",t.t5 = b.A.state.user.userInfoObj.passId || "",t.t6 = window.localStorage.getItem("deviceId") || "",t.t7 = U().brand ? U().brand : "",t.t8 = U().model ? U().model : "",t.t9 = (new Date).format("yyyyMMddHHmmssSSS"),t.t10 = window.localStorage.getItem("cryptoSign") || "",t.t11 = window.localStorage.getItem("cryptoUserId") || window.localStorage.getItem("userId") || "",t.t12 = window.localStorage.getItem("cryptoUserToken") || window.localStorage.getItem("userToken") || "",t.t13 = k ? 1 : 2,t.t14 = "0" == b.A.state.user.userInfoObj.isMember ? 1 : 2,t.t15 = A || S,t.t16 = b.A.state.user.userTagType || 0,t.next = 22,MiguplayUtils.user.queryMemberRights();case 22:for (t.t17 = t.sent,t.t18 = localStorage.getItem("coreFlagLevel") || "-1",r = {appChannel: t.t0,appType: "0",appVersion: "",platform: t.t1,systemVersion: t.t2,networkType: "",carrier: "",userType: t.t3,msisdn: "",identityId: t.t4,passId: t.t5,imei: "",imsi: "",idfa: "",cookieMd5: "",deviceId: t.t6,clientIp: "",brand: t.t7,model: t.t8,screen: "",city: "",address: "",time: t.t9,headerSign: t.t10,userId: t.t11,userToken: t.t12,headerrese1: t.t13,headerrese2: t.t14,headerrese3: t.t15,headerrese4: t.t16,headerrese13: t.t17,headerrese20: t.t18},n = {headers: E({}, r),data: {location: []}},i = 0; i < e.length; i++)o = {opTime: e[i].opTime,eventType: e[i].eventType,eventDesc: e[i].rese8,extra: {pageName: e[i].pageName ? e[i].pageName : b.A.state.user.activityInfo.pageName,page: "",index: e[i].index ? e[i].index : "",indexno: e[i].indexno ? e[i].indexno : "",topicIndex: "",topicName: e[i].topicName ? e[i].topicName : "",labelName: e[i].labelName ? e[i].labelName : "",gameId: e[i].gameId ? e[i].gameId : "",reason: "",definition: "",network: "",keyword: e[i].keyword ? e[i].keyword : "",rese1: "HDMB_" + b.A.state.user.activityInfo.activityId,rese2: window.location.href,rese3: b.A.state.user.activityInfo.activityName || "",rese4: e[i].rese4 ? e[i].rese4 : MiguplayUtils.url.getQueryString("pageid"),rese5: e[i].rese5 ? e[i].rese5 : "",rese6: e[i].rese6 ? e[i].rese6 : "",rese7: void 0 !== e[i].rese7 ? e[i].rese7 : "",rese8: e[i].rese8 ? e[i].rese8 : "",rese9: e[i].rese9 ? e[i].rese9 : "",rese10: e[i].rese10 ? e[i].rese10 : "",rese11: e[i].rese11 ? e[i].rese11 : "",rese12: e[i].rese12 ? e[i].rese12 : "",rese13: e[i].rese13 ? e[i].rese13 : "",rese14: e[i].rese14 ? e[i].rese14 : "",rese16: e[i].rese16 ? e[i].rese16 : "",rese19: e[i].rese19 ? e[i].rese19 : "",rese17: e[i].rese17 ? e[i].rese17 : "",rese28: e[i].rese28 ? e[i].rese28 : ""}},n.data.location.push(o);window.localStorage.removeItem("recordDatas"),_.A.postJinFenEvent(n).then((function(t) {})).catch((function(t) {}));case 31:t.next = 35;break;case 33:t.prev = 33,t.t19 = t.catch(0);case 35:case "end":return t.stop()}}), t, null, [[0, 33]])})))).apply(this, arguments)}function M() {try {var t = window.localStorage.getItem("recordNewDatas") ? JSON.parse(window.localStorage.getItem("recordNewDatas")) : [];if (t && t.length > 0) {for (var e = {headers: E({}, {appVersion: "",deviceId: window.localStorage.getItem("deviceId") || "",appChannel: T,ip: sessionStorage.getItem("clientIp") || "",userId: localStorage.getItem("cryptoUserId") || localStorage.getItem("userId") || "",userToken: localStorage.getItem("cryptoUserToken") || localStorage.getItem("userToken") || "",headerSign: localStorage.getItem("cryptoSign") || "",msisdn: "",headerrese20: localStorage.getItem("coreFlagLevel") || "-1"}),data: {location: []}}, r = 0; r < t.length; r++) {var n, i = {id: localStorage.getItem("activitySessionId") || "",createTime: (new Date).format("yyyyMMdd HH:mm:ss"),activityType: 11,url: window.location.href,pageId: MiguplayUtils.url.getQueryString("pageid") || "",userStatus: localStorage.getItem("userId") ? "0" == b.A.state.user.userInfoObj.isMember ? 3 : 2 : 1,statisticChannel: A || S,activityId: t[r].activityId || (null === (n = b.A.state.user.activityInfo) || void 0 === n ? void 0 : n.activityId),oldContent: localStorage.getItem("oldContent"),eventContent: t[r].eventContent,type: t[r].type,action: t[r].action,floorId: t[r].floorId,taskId: t[r].taskId,conditionId: t[r].conditionId,opValue: t[r].opValue,res1: t[r].rese1,res2: t[r].rese2,res3: t[r].rese3,res4: t[r].rese4,res5: t[r].rese5,res7: t[r].rese7,res10: b.A.state.user.isMember || "0",res11: MiguplayUtils.appUtils.isMiguApp() ? window.localStorage.getItem("appversion") || 1 : 0};"1-1" == i.eventContent && (i.res3 = MiguplayUtils.appUtils.isMiguApp() ? "1" : "0"),e.data.location.push(i)}var o = JSON.parse(localStorage.getItem("recordNewDatas")).length, s = JSON.parse(localStorage.getItem("recordNewDatas"))[o - 1].eventContent || "";localStorage.setItem("oldContent", s),window.localStorage.removeItem("recordNewDatas"),_.A.newJinFenEvent(e).then((function(t) {})).catch((function(t) {}))}} catch (t) {}}function U() {return MiguplayUtils.ua.getMobileType()}function F(t) {for (var e, r, n, i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", o = 0, s = t.length, a = ""; o < s; ) {if (e = 255 & t.charCodeAt(o++),o == s) {a += i.charAt(e >> 2),a += i.charAt((3 & e) << 4),a += "==";break}if (r = t.charCodeAt(o++),o == s) {a += i.charAt(e >> 2),a += i.charAt((3 & e) << 4 | (240 & r) >> 4),a += i.charAt((15 & r) << 2),a += "=";break}n = t.charCodeAt(o++),a += i.charAt(e >> 2),a += i.charAt((3 & e) << 4 | (240 & r) >> 4),a += i.charAt((15 & r) << 2 | (192 & n) >> 6),a += i.charAt(63 & n)}return a}function N(t) {return Math.floor((Math.random() + Math.floor(9 * Math.random() + 1)) * Math.pow(10, t - 1))}U(),Date.prototype.format = function(t) {var e = {"M+": this.getMonth() + 1,"d+": this.getDate(),"H+": this.getHours(),"m+": this.getMinutes(),"s+": this.getSeconds(),"q+": Math.floor((this.getMonth() + 3) / 3),"S+": this.getMilliseconds()};for (var r in /(y+)/.test(t) && (t = t.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length))),e)new RegExp("(" + r + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? e[r] : ("00" + e[r]).substr(("" + e[r]).length)));return t},e.A = {recordEventInfo: D,recordLoginInfo: function(t) {return C.apply(this, arguments)},recordPlayInfo: function(t, e) {var r = {appChannel: T,appType: 4,appVersion: "",platform: x ? 1 : 2,systemVersion: U().os ? U().os : "",networkType: "",carrier: "",userType: window.localStorage.getItem("userId") ? 1 : 0,msisdn: "",identityId: window.localStorage.getItem("identityId") ? window.localStorage.getItem("identityId") : "",passId: window.localStorage.getItem("passId") ? window.localStorage.getItem("passId") : "",imei: "",imsi: "",idfa: "",cookieMd5: "",deviceId: window.localStorage.getItem("deviceId") ? window.localStorage.getItem("deviceId") : "",clientIp: "",brand: U().brand ? U().brand : "",model: U().model ? U().model : "",screen: "",city: "",address: "",time: (new Date).format("yyyyMMddHHmmssSSS"),headerSign: window.localStorage.getItem("cryptoSign") || "",userId: window.localStorage.getItem("cryptoUserId") || window.localStorage.getItem("userId") || "",userToken: window.localStorage.getItem("cryptoUserToken") || window.localStorage.getItem("userToken") || "",opType: t.opType,headerrese20: localStorage.getItem("coreFlagLevel") || "-1"}, n = {uid: window.localStorage.getItem("userId") ? window.localStorage.getItem("userId") : 0,imei: "",network: "",channelId: channel,gameId: t.gameId,version: "0.0.0",phone: "",systemVersion: "",carrier: "",userType: window.localStorage.getItem("userId") ? 1 : 0,identityId: window.localStorage.getItem("identityId") ? window.localStorage.getItem("identityId") : "",passId: window.localStorage.getItem("passId") ? window.localStorage.getItem("passId") : "",imsi: "",idfa: "",cookieMd5: "",deviceId: window.localStorage.getItem("deviceId") ? window.localStorage.getItem("deviceId") : "",clientIp: "",brand: U().brand ? U().brand : "",model: U().model ? U().model : "",screen: "",city: "",address: "",userIdType: window.localStorage.getItem("userId") ? 1 : 0,gameType: t.gameType,appType: 4,opType: t.opType,playTime: t.playTime,sessionId: ""}, i = {timestamp: (new Date).getTime()};"4" == t.opType && (i.playInterval = t.playTime);var o = {headers: E({opTime: (new Date).format("yyyyMMddHHmmss.SSS")}, r),data: {cid: (new Date).getTime().toString() + N(9) + (1 == t.gameType ? "c" : "e"),bid: 1 == t.gameType ? "DP333BP3587" : "DM433BP3527",pkgName: t.pkgName,pkgVersion: "0.0.0",idc: "0",clientType: x ? 7 : 6,type: "4" == t.opType ? "StreamingStopped" : "StreamingStarted",event: i,protoData: F(y()(n))}};_.A.postJinFenPlay(o).then((function(t) {})).catch((function(t) {}))},getMobileType: U,setDeviceId: function() {window.localStorage.getItem("deviceId") || window.localStorage.setItem("deviceId", "deviceId-" + (new Date).getTime().toString() + "-" + N(9))},recordEventAction: P,base64_encode: F,base64_decode: function(t) {var e, r, n, i, o, s, a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", c = "", u = 0;for (t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); u < t.length; )e = a.indexOf(t.charAt(u++)) << 2 | (i = a.indexOf(t.charAt(u++))) >> 4,r = (15 & i) << 4 | (o = a.indexOf(t.charAt(u++))) >> 2,n = (3 & o) << 6 | (s = a.indexOf(t.charAt(u++))),c += String.fromCharCode(e),64 != o && (c += String.fromCharCode(r)),64 != s && (c += String.fromCharCode(n));return function(t) {var e = "", r = 0, n = 0, i = 0, o = 0;for (; r < t.length; )(n = t.charCodeAt(r)) < 128 ? (e += String.fromCharCode(n),r++) : n > 191 && n < 224 ? (i = t.charCodeAt(r + 1),e += String.fromCharCode((31 & n) << 6 | 63 & i),r += 2) : (i = t.charCodeAt(r + 1),o = t.charCodeAt(r + 2),e += String.fromCharCode((15 & n) << 12 | (63 & i) << 6 | 63 & o),r += 3);return e}(c)},getAppDeviceId: function() {if (k)if (x)try {window.JSInterface.getDeviceID()} catch (t) {}elsetry {window.webkit.messageHandlers.getDeviceID.postMessage("")} catch (t) {}},newrecordEventAction: function(t) {try {var e = E({createTime: (new Date).format("yyyyMMdd HH:mm:ss")}, t), r = window.localStorage.getItem("recordNewDatas") ? JSON.parse(window.localStorage.getItem("recordNewDatas")) : [];r.push(e),window.localStorage.setItem("recordNewDatas", y()(r)),M()} catch (t) {}},newrecordEventInfo: M,setactivitySessionId: function() {window.localStorage.getItem("activitySessionId") || window.localStorage.setItem("activitySessionId", "sessionId-" + (new Date).getTime().toString() + "-" + N(9))},touchscreen: R}},39474: function(t, e, r) {"use strict";var n = r(85569), i = r.n(n);e.A = {setApiCache: function(t, e) {e = i()(e),localStorage.setItem(t, e)},getApiCache: function(t) {try {var e = localStorage.getItem(t, e);return e ? JSON.parse(e) : ""} catch (t) {return ""}}}},94740: function(t) {t.exports = {preloadImg: function(t) {var e = new Image;e.complete || (e.onload = function() {}),e.src = t},getTinyPic: function(t) {return MiguplayUtils.img.getTinyPic(t)}}},48590: function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {"use strict";var _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(26100), _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0__), _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(96319), _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1__), _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(78928), _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2__), _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(36751), _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3__), _babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(34963), _babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3300), _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(44828), _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default = __webpack_require__.n(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4__), _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(11393), _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7__), _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(56255), _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8__), _babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(29544), _babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_9___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_9__), _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(18979), _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10__), _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(61240), _babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_11___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_11__), _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(50697), _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5__), _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(48079), _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12__), _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(8628), _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13__), _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(27124), _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_14___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_14__), _babel_runtime_corejs3_core_js_stable_url__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(96984), _babel_runtime_corejs3_core_js_stable_url__WEBPACK_IMPORTED_MODULE_15___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_url__WEBPACK_IMPORTED_MODULE_15__), _babel_runtime_corejs3_core_js_stable_url_search_params__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(66512), _babel_runtime_corejs3_core_js_stable_url_search_params__WEBPACK_IMPORTED_MODULE_16___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_url_search_params__WEBPACK_IMPORTED_MODULE_16__), _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(85569), _babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_17___default = __webpack_require__.n(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_17__), url_parse__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(61160), url_parse__WEBPACK_IMPORTED_MODULE_18___default = __webpack_require__.n(url_parse__WEBPACK_IMPORTED_MODULE_18__), _api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(57083), jquery__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(82726), jquery__WEBPACK_IMPORTED_MODULE_20___default = __webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_20__), _api_config__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(64346), clipboard__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(57576), clipboard__WEBPACK_IMPORTED_MODULE_22___default = __webpack_require__.n(clipboard__WEBPACK_IMPORTED_MODULE_22__), _main_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(9303), _store__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(87673);function ownKeys(t, e) {var r = _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default()(t);if (_babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()) {var n = _babel_runtime_corejs3_core_js_stable_object_get_own_property_symbols__WEBPACK_IMPORTED_MODULE_0___default()(t);e && (n = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_1___default()(n).call(n, (function(e) {return _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(t, e).enumerable}))),r.push.apply(r, n)}return r}function _objectSpread(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? ownKeys(Object(r), !0).forEach((function(e) {(0,_babel_runtime_corejs3_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__.A)(t, e, r[e])})) : _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default() ? Object.defineProperties(t, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_3___default()(r)) : ownKeys(Object(r)).forEach((function(e) {Object.defineProperty(t, e, _babel_runtime_corejs3_core_js_stable_object_get_own_property_descriptor__WEBPACK_IMPORTED_MODULE_2___default()(r, e))}))}return t}var ua = window.navigator.userAgent.toLowerCase() || "", isAndroid = ua.indexOf("android") > -1 || ua.indexOf("linux") > -1;function timeStr(t) {return t > 60 ? parseInt(t / 60) + "小时" + parseInt(t % 60) + "分钟" : t > 0 ? parseInt(t) + "分钟" : ""}function getQueryParam(t, e) {if (!t)return null;0 !== t.indexOf("?") && (t = "?".concat(t));for (var r = t.substring(1).split("&"), n = 0; n < r.length; n++) {var i = r[n].split("=");if (decodeURIComponent(i[0]) === e)return decodeURIComponent(i[1] || "")}return null}function getDateTime(t, e) {var r = new Date(t);return "m" == e ? (r.getMonth() + 1 > 9 ? r.getMonth() + 1 : "0" + (r.getMonth() + 1)) + "-" + (r.getDate() > 9 ? r.getDate() : "0" + r.getDate()) + " " + (r.getHours() > 9 ? r.getHours() : "0" + r.getHours()) + ":" + (r.getMinutes() > 9 ? r.getMinutes() : "0" + r.getMinutes()) + ":" + (r.getSeconds() > 9 ? r.getSeconds() : "0" + r.getSeconds()) : "y" == e ? r.getFullYear() + "-" + (r.getMonth() + 1 > 9 ? r.getMonth() + 1 : "0" + (r.getMonth() + 1)) + "-" + (r.getDate() > 9 ? r.getDate() : "0" + r.getDate()) + " " + (r.getHours() > 9 ? r.getHours() : "0" + r.getHours()) + ":" + (r.getMinutes() > 9 ? r.getMinutes() : "0" + r.getMinutes()) + ":" + (r.getSeconds() > 9 ? r.getSeconds() : "0" + r.getSeconds()) : "d" == e ? r.getFullYear() + "-" + (r.getMonth() + 1 > 9 ? r.getMonth() + 1 : "0" + (r.getMonth() + 1)) + "-" + (r.getDate() > 9 ? r.getDate() : "0" + r.getDate()) : void 0}function getUrlParamQuery(t, e) {if (!t)return null;var r = t.indexOf("?");if (-1 === r)return null;0 !== (t = t.substring(r)).indexOf("?") && (t = "?".concat(t));for (var n = t.substring(1).split("&"), i = 0; i < n.length; i++) {var o = n[i].split("=");if (decodeURIComponent(o[0]) === e)return decodeURIComponent(o[1] || "")}return null}function dateFormat(t, e) {e || (e = new Date);var r = {"M+": e.getMonth() + 1,"d+": e.getDate(),"h+": e.getHours(),"m+": e.getMinutes(),"s+": e.getSeconds(),"q+": Math.floor((e.getMonth() + 3) / 3),S: e.getMilliseconds()};for (var n in /(y+)/.test(t) && (t = t.replace(RegExp.$1, (e.getFullYear() + "").substr(4 - RegExp.$1.length))),r)new RegExp("(" + n + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? r[n] : ("00" + r[n]).substr(("" + r[n]).length)));return t}function time2format(t) {var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "en", r = 0;if (t > 3600) {r = Math.floor(t / 3600);var n = Math.floor((t - 3600 * r) / 60), i = Math.floor((t - 3600 * r) % 60)} elsen = Math.floor(t / 60),i = Math.floor(t % 60);i < 10 && (i = "0" + i),n < 10 && (n = "0" + n),r < 10 && (r = "0" + r);return "en" == e ? r + ":" + n + ":" + i : r + "时" + n + "分"}function showWxModal() {var t = '<div class="wx-modal"></div>';isIos() && (t = '<div class="wx-modal ios"></div>'),jquery__WEBPACK_IMPORTED_MODULE_20___default()("#app > div").append(t),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".wx-modal").click((function() {jquery__WEBPACK_IMPORTED_MODULE_20___default()(this).hide()}))}function isIos() {return !!(window.navigator.userAgent.toLowerCase() || "").match(/iPhone|iPad|iPod/i)}function openinnerApp(t) {window.location.href = "youplay://" + t}function popMessage(t, e) {var r, n = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(r = '<div class="pop-message"><p>'.concat(t, "<p/><p>")).call(r, e || "", "<p/></div>");jquery__WEBPACK_IMPORTED_MODULE_20___default()("#app > div").append(n),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8___default()((function() {jquery__WEBPACK_IMPORTED_MODULE_20___default()(".pop-message").remove()}), 2e3)}function throttle(t) {var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1e3, r = 0;return function() {var n = +new Date;if (n - r >= e) {r = n;for (var i = arguments.length, o = new Array(i), s = 0; s < i; s++)o[s] = arguments[s];t.apply(this, o)}}}function debounce(t) {var e, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1e3;return function() {var n = this, i = arguments;e && clearTimeout(e),e || _setTimeout((function() {t.apply(n, i),e = null}), r)}}function throttle2(t) {var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1e3, r = Date.now();return function() {var n = arguments;Date.now() - r >= e && (t.apply(this, n),r = Date.now())}}function stopBodyScroll(t) {jquery__WEBPACK_IMPORTED_MODULE_20___default()("body").css({overflow: "hidden"}),t && jquery__WEBPACK_IMPORTED_MODULE_20___default()(t).on("touchmove", (function(t) {t.preventDefault()}))}function bodyScroll(t) {jquery__WEBPACK_IMPORTED_MODULE_20___default()("body").css({overflow: "auto"}),t && jquery__WEBPACK_IMPORTED_MODULE_20___default()(t).off("touchmove", (function(t) {t.preventDefault()}))}function isMiguApp() {return -1 !== window.navigator.userAgent.indexOf("miguplay")}function isQQ() {return "MobileQQ" === MiguplayUtils.ua.getBrowserType() || "newMobileQQ" === MiguplayUtils.ua.getBrowserType()}function toLogin() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.href;MiguplayUtils.user.gotoLogin(t)}function isLatestVersion(t) {var e = t.androidV, r = t.iosV, n = t.companyV, i = localStorage.getItem("appversion") || "", o = window.navigator.userAgent || "";if (o.indexOf("Android") > -1 || o.indexOf("Linux") > -1) {var s = i.split("."), a = 100 * s[0] + 1 * s[1];return {versionType: "android",isLatest: e && a >= e}}var c = i.split(".");if (1 == c[0].length) {var u = 1e4 * c[0] + 100 * c[1] + 1 * c[2];return {versionType: "appstore",isLatest: r && u >= r}}var l = 1e4 * c[0] + 100 * c[1] + 1 * c[2];return {versionType: "iosCompany",isLatest: n && l >= n}}function fullScreen() {var t = window.navigator.userAgent.toLowerCase() || "", e = t.indexOf("android") > -1 || t.indexOf("linux") > -1;if (document.body.style.paddingTop = 0,document.body.style.paddingBottom = 0,e)try {window.JSInterface.transparentnavigationbar()} catch (t) {}elsetry {window.webkit.messageHandlers.transparentnavigationbar.postMessage("")} catch (t) {}}function getAppDeviceId() {if (isAndroid)try {window.JSInterface.getDeviceID()} catch (t) {}elsetry {window.webkit.messageHandlers.getDeviceID.postMessage("")} catch (t) {}}function gethash() {var url = window.location.search;if ("" == url)return !1;url = url.replace("?", ""),url = url.replace(/\./g, "_"),url = url.split("&");for (var _u = {}, i = 0; i < url.length; i++) {var item = url[i].split("=");eval("_u." + item[0] + "=item[1]")}return _u}function getTime(t) {var e = new Date(t), r = {year: "",month: "",day: "",hour: "",minute: ""};return r.year = e.getFullYear(),r.month = e.getMonth() + 1 >= 10 ? e.getMonth() + 1 : "0" + (e.getMonth() + 1),r.day = e.getDate() >= 10 ? e.getDate() : "0" + e.getDate(),r.hour = e.getHours(),r.minute = e.getMinutes() > 10 ? e.getMinutes() : "0" + e.getMinutes(),r}function share(t) {var e = window.navigator.userAgent.toLowerCase() || "";return e.indexOf("android") > -1 || e.indexOf("linux") > -1 ? void window.JSInterface.share(t) : void window.webkit.messageHandlers.share.postMessage("".concat(t))}function getspic(t) {return new RegExp(/http/).test(t) || (t = "https://freeserver.migufun.com/resource/beta" + t),t.replace(/(\.jpeg)|(\.jpg)|(\.png)/, "_sdpic$1$2$3")}function getLowpic(t) {new RegExp(/http/).test(t);var e = t.replace(/(\.jpeg)|(\.jpg)|(\.png)/, "_lowpic$1$2$3");return t ? e : ""}function getUrlQuery() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.href;return url_parse__WEBPACK_IMPORTED_MODULE_18___default()(t, !0).query}function moveQuery() {var t = _objectSpread({}, getUrlQuery()), e = "";for (var r in t)"userId" == r || "userToken" == r || "source" == r && "friends" == t[r] || (e = e ? e + "&" + r + "=" + t[r] : e + r + "=" + t[r]);var n, i = location.pathname;return e ? _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(n = "".concat(i, "?")).call(n, e) : "".concat(i)}function storeUserInfo() {if (MiguplayUtils.url.getQueryString("userId"))if (MiguplayUtils.user.loginFromUidUtoken()) {var t = isMiguApp(), e = MiguplayUtils.url.getQueryString("userId") || "", r = MiguplayUtils.url.getQueryString("userToken") || "";if (localStorage.setItem("userId", e),localStorage.setItem("userToken", r),localStorage.setItem("h5Logined", !0),e && !t) {window.location.href = moveQuery();try {MiguplayUtils.crypto.cryptoAndStoreUser({userId: e,userToken: r})} catch (t) {}}} elsewindow.location.href = moveQuery();if (localStorage.getItem("userId") && localStorage.getItem("userToken") && !inMiguApp)try {MiguplayUtils.crypto.cryptoAndStoreUser({userId: localStorage.getItem("userId"),userToken: localStorage.getItem("userToken")})} catch (t) {}}function friendScene() {var t = MiguplayUtils.url.getQueryString("source"), e = MiguplayUtils.url.getQueryString("userId"), r = MiguplayUtils.url.getQueryString("u"), n = MiguplayUtils.url.getQueryString("inviterId");if ("friends" === t) {var i = moveQuery();null != r || null != n ? window.location.replace(i) : window.location.replace(i + "&inviterId=" + e)}}function playOrOpenApp(t, e, r, n, i, o, s) {return _playOrOpenApp.apply(this, arguments)}function _playOrOpenApp() {return _playOrOpenApp = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e, r, n, i, o, s, a) {var c, u, l, d, f, h, p, g, m, v, y, _, b, w, E, T, S, A, I, x, L, k, R, C, P, D, O, M, U, F, N, B, j, $;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:return n = MiguplayUtils.url.getQueryString("appChannel") || MiguplayUtils.url.getQueryString("channel") || "zy-gw-mghy",o = o || "",s = s || "",u = navigator.userAgent,l = u.indexOf("woxin") > -1,d = "android" == MiguplayUtils.url.getQueryString("source"),f = u.indexOf("Android") > -1 || u.indexOf("Linux") > -1,h = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),p = MiguplayUtils.url.getQueryString("appchannel"),g = "10011000000" == p || !n || "zy-gw-mghy" == n,m = MiguplayUtils.url.getQueryString("packageChannel") || MiguplayUtils.url.getQueryString("channel_id") || "",v = MiguplayUtils.url.getQueryString("isHide"),MiguplayUtils.url.getQueryString("putFrom"),y = MiguplayUtils.ua.isPC() ? "pc" : "",_ = "",b = null,1 === a && (w = MiguplayUtils.url.getAllQuery(),b = {channel: w.channel || "",packageChannel: w.packageChannel || "",appChannel: w.appChannel || "",statisticChannel: w.statisticChannel || ""}),i && b && (i = urlContact(i, b)),E = {data: {gameId: r}},t.next = 21,_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.queryGameTypeByGameId(E);case 21:if (T = t.sent,S = T.data,A = S.returnCode,I = S.resultData,x = window.localStorage.getItem("userId") || "","000000" != A || !I || !I.gameType || 20 != I.gameType[0] || "openapp" == e) {t.next = 48;break}if (x) {t.next = 28;break}return MiguplayUtils.user.gotoLogin(),t.abrupt("return");case 28:return t.next = 31,_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.start(E);case 31:if (L = t.sent,k = L.data.returnCode,R = L.data.resultData,!("000000" == k && R.gameTypeList && R.gameTypeList[0] && R.gameTypeList[0].url)) {t.next = 47;break}if (C = urlContact(C = R.gameTypeList[0].url, {from: o}),"1" == s && (C = urlContact(C, {isTimerTask: "1"})),!inMiguApp) {t.next = 43;break}return O = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(P = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(D = "youplay://gameplay?gameid=".concat(r)).call(D, o ? "&from=".concat(o) : "")).call(P, s ? "&isTimerTask=1" : ""),b && (O = urlContact(O, b)),window.location.href = O,t.abrupt("return");case 43:return t.next = 45,recordGamerskyGame(R);case 45:b && (C = urlContact(C, b)),location.href = C;case 47:return t.abrupt("return");case 48:_ = urlContact(0 == r ? "".concat(_api_config__WEBPACK_IMPORTED_MODULE_21__.A.H5hostURL, "/middleh5?") : _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(c = "".concat(_api_config__WEBPACK_IMPORTED_MODULE_21__.A.H5hostURL, "/middleh5/gamedetail/")).call(c, r), {isHide: v,packageChannel: m,mode: y ? "pc" : "",appChannel: g ? "" : n,isMGDM: 1 == MiguplayUtils.url.getQueryString("isMGDM") ? 1 : "",from: o}),b && (_ = urlContact(_, b)),inMiguApp ? 0 == r ? window.location.href = "youplay://ranking".concat(o ? "?from=".concat(o) : "") : "startGame" == e ? (F = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(M = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(U = "youplay://gameplay?gameid=".concat(r)).call(U, o ? "&from=".concat(o) : "")).call(M, s ? "&isTimerTask=1" : ""),b && (F = urlContact(F, b)),window.location.href = F) : (B = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(N = "youplay://gamedetail?gameid=".concat(r)).call(N, o ? "&from=".concat(o) : ""),b && (B = urlContact(B, b)),window.location.href = B) : l || !d || "play" != e && "startGame" != e ? !l || "play" != e && "startGame" != e ? !y || "play" != e && "startGame" != e ? "play" == e || "startGame" == e || y ? openGameOrGamedetail(e, r, _, o, s, b) : "openapp" == e && (0 == r ? openApp("ranking".concat(m ? "?channel_id=" + m : ""), i, "", o) : ($ = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(j = "gamedetail?gameid=".concat(r)).call(j, m ? "&channel_id=" + m : ""),b && ($ = urlContact($, b)),openApp($, i, "fromOther", o))) : openGameOrGamedetail(e, r, _, o, s, b) : h ? openGameOrGamedetail(e, r, _, o, s, b) : f && (d ? 0 == r ? window.location.href = _ : "1" == s ? window.MiguGameSDK.startGame(r, 1) : window.MiguGameSDK.startGame(r) : "" == window.woxin.getAccessToken() ? window.woxin.jumpToActivity("SSOLoginActivity") : parseInt(window.woxin.getVersionCode()) >= 197 ? _babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8___default()((function() {0 == r ? window.woxin.openMiGuGamePlay("") : window.woxin.openMiGuGamePlay(r),window.woxin.wxPopView()}), 500) : openGameOrGamedetail(e, r, _, o, s, b)) : openGameOrGamedetail(e, r, _, o, s, b);case 52:case "end":return t.stop()}}), t)}))),_playOrOpenApp.apply(this, arguments)}function h5GameJump(t, e, r, n, i) {return _h5GameJump.apply(this, arguments)}function _h5GameJump() {return (_h5GameJump = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e, r, n, i, o) {var s, a, c, u, l, d, f, h, p, g, m, v, y, _, b;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:return s = navigator.userAgent,"android" == MiguplayUtils.url.getQueryString("source"),s.indexOf("Android") > -1 || s.indexOf("Linux") > -1,!!s.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),MiguplayUtils.url.getQueryString("appchannel"),a = window.localStorage.getItem("userId"),c = null,1 === o && (u = MiguplayUtils.url.getAllQuery(),c = {channel: u.channel || "",packageChannel: u.packageChannel || "",appChannel: u.appChannel || "",statisticChannel: u.statisticChannel || ""}),l = {data: {gameId: r}},t.next = 11,_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.queryMemberRightsAndTime(l);case 11:return d = t.sent,f = d.data.returnCode,h = d.data.resultData,t.next = 16,_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.start(l);case 16:if (p = t.sent,g = p.data.returnCode,m = p.data.resultData,a) {t.next = 24;break}return MiguplayUtils.user.gotoLogin(),t.abrupt("return");case 24:h && h.antiaddictionInfo && (5 == h.antiaddictionInfo.status || 1 == h.antiaddictionInfo.status) ? _store__WEBPACK_IMPORTED_MODULE_24__.A.state.user.provinceFlag ? e.showDialog({type: 16,errorCode: "certify"}) : e.showDialog({type: 15,title: "根据《关于进一步严格管理切实防止未成年人沉迷网络游戏的通知》，你需要实名认证后才能玩游戏",errorCode: "certify"}) : "000000" == f && h ? 6 == h.antiaddictionInfo.status ? e.showDialog({type: 15,title: "根据《关于进一步严格管理切实防止未成年人沉迷网络游戏的通知》，未成年用户仅可在每周五、六、日及法定节假日晚8点至9点玩游戏，当前时间禁止游戏",errorCode: "anti-addiction"}) : -1 == h.antiaddictionInfo.status || 0 == h.antiaddictionInfo.status ? "000000" == g ? m.gameTypeList[0] && m.gameTypeList[0].url ? isMiguApp() ? new RegExp("http|https").test(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(v = m.gameTypeList[0].url).call(v, 0, 5)) ? (b = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(y = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(_ = "youplay://gameplay?gameid=".concat(r)).call(_, n ? "&from=".concat(n) : "")).call(y, i ? "&isTimerTask=1" : ""),c && (b = urlContact(b, c)),window.location.href = b) : window.location.href = m.gameTypeList[0].url : MiguplayUtils.miguSdkUtils.isMIGUsdk() ? MiguplayUtils.miguSdkUtils.newWebview(1, m.gameTypeList[0].url) : window.location.href = m.gameTypeList[0].url : MiguplayUtils.layer.toast("该游戏跳转地址失效", 1500) : MiguplayUtils.layer.toast(p.data.message, 1500) : e.showDialog({type: 15,title: d.data.message,errorCode: "errorDialog"}) : "020137" == f ? e.showDialog({type: 15,title: "根据《关于进一步严格管理切实防止未成年人沉迷网络游戏的通知》，未成年用户仅可在每周五、六、日及法定节假日晚8点至9点玩游戏，当前时间禁止游戏",errorCode: "anti-addiction"}) : e.showDialog({type: 15,title: d.data.message,errorCode: "errorDialog"});case 25:case "end":return t.stop()}}), t)})))).apply(this, arguments)}function openGameOrGamedetail(t, e, r, n, i, o) {n = n || "",i = i || "";var s = MiguplayUtils.url.getQueryString("channel") || MiguplayUtils.url.getQueryString("appChannel"), a = "10011000000" == MiguplayUtils.url.getQueryString("appchannel") || !s || "zy-gw-mghy" == s, c = MiguplayUtils.url.getQueryString("packageChannel") || MiguplayUtils.url.getQueryString("channel_id") || "", u = MiguplayUtils.url.getQueryString("isHide"), l = MiguplayUtils.ua.isPC() ? "pc" : "";if ("startGame" == t && 0 != e) {var d = {data: {gameId: e}};_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.isTencentGame(d).then((function(t) {if (t.data.resultData.isTencentGame)window.location.href = r;else {var d = {appChannel: a ? "" : s,isHide: u,packageChannel: c,mode: l ? "pc" : "",isMGDM: 1 == MiguplayUtils.url.getQueryString("isMGDM") ? 1 : "",from: n};if ("1" == i)return d.isTimerTask = i,void MiguplayUtils.gameplay.gotoGameplay(e, "", d);o && (d = _babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_9___default()(d, o)),MiguplayUtils.gameplay.gotoGameplay(e, "", d)}}))} else!isAndroid && navigator.userAgent.indexOf("leadeon") > -1 && (r.indexOf("?") > -1 ? r += "&source=iosSdk&cmccNewPage=1" : r += "?source=iosSdk&cmccNewPage=1"),window.location.href = r}function recordGamerskyGame(t) {return _recordGamerskyGame.apply(this, arguments)}function _recordGamerskyGame() {return (_recordGamerskyGame = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e) {var r, n, i, o, s, a;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:return r = window.localStorage.getItem("userId") || "",n = MiguplayUtils.url.getQueryString("source") || "",i = "ym" + (new Date).valueOf() + parseInt(1e5 * Math.random()),o = {uid: localStorage.getItem("userId") ? localStorage.getItem("userId") : "",phone: localStorage.getItem("phone") ? localStorage.getItem("phone") : "",network: "99",channelId: localStorage.getItem("channel") ? localStorage.getItem("channel") : localStorage.getItem("appChannel"),gameId: e.gameId,version: "1.0.0.0",userIdType: r ? 1 : 0,gameType: 20,appType: "android" == n ? "8" : "9",gameSessionId: null},s = {data: {cid: i,bid: "YM333BT3527",extraId: "1530695321564100155760e",pkgName: e.packageName,pkgVersion: "0.0.0",pkgId: e.gameId,idc: "0",clientType: "3",type: "StreamingStarted",protoData: MiguplayUtils.format.base64_encode(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_17___default()(o)),event: {timestamp: (new Date).valueOf(),playInterval: 900}}},a = {data: {cid: i,bid: "YM333BT3527",extraId: "1530695321564100155760e",pkgName: e.packageName,pkgVersion: "0.0.0",pkgId: e.gameId,idc: "0",clientType: "3",type: "StreamingStopped",protoData: MiguplayUtils.format.base64_encode(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_17___default()(o)),event: {timestamp: (new Date).valueOf(),playInterval: 900}}},t.next = 8,_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.reportUserBehavior(s);case 8:return t.next = 10,_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.reportUserBehavior(a);case 10:case "end":return t.stop()}}), t)})))).apply(this, arguments)}function popMessageNew(t) {var e = '<div class="pop-message">' + (t || "敬请期待") + "</div>";jquery__WEBPACK_IMPORTED_MODULE_20___default()("#app > div").append(e),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8___default()((function() {jquery__WEBPACK_IMPORTED_MODULE_20___default()(".pop-message").remove()}), 3e3)}function showDownApp(t) {var e = '<div class="btn" data-clipboard-text='.concat(t, ">复制下载链接</div>"), r = '<div class="dialog-downApp" >\n                         <div class="msesageDiv">\n                             <div class="closeBtn">×</div>\n                             <h2>打开/下载咪咕快游APP</h2>\n                             <span>复制链接至浏览器，下载并打开咪咕快游APP</span>\n                             <div class="downText">下载链接:</div>\n                             <p>'.concat(t, "</p>\n                             ") + e + "\n                         </div>\n                       </div>";jquery__WEBPACK_IMPORTED_MODULE_20___default()("#app > div").append(r),stopBodyScroll(),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").on("click", (function(t) {t.stopPropagation(),bodyScroll(),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").remove()})),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".msesageDiv").on("click", (function(t) {t.stopPropagation()})),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".closeBtn").on("click", (function() {bodyScroll(),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").remove()}));var n = document.querySelector(".btn"), i = new (clipboard__WEBPACK_IMPORTED_MODULE_22___default())(n);i.on("success", (function(t) {popMessageNew("已复制下载链接，请至默认浏览器下载或直接打开咪咕快游APP"),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").remove(),bodyScroll()})),i.on("error", (function(t) {}))}function toastDownLoad(t) {_main_js__WEBPACK_IMPORTED_MODULE_23__.A.$copyText(t).then((function(t) {popMessageNew("已复制下载链接，请至默认浏览器下载或打开咪咕快游APP")}), (function(t) {popMessageNew("复制失败")}))}function autoOpenApp(t) {var e = t.applink, r = t.downloadUrl, n = (MiguplayUtils.url.getQueryString,window.navigator.userAgent.toLowerCase() || ""), i = !!n.match(/iPhone|iPad|iPod/i), o = (n.indexOf("android") > -1 || n.indexOf("linux"),"micromessenger" == n.match(/MicroMessenger/i) || "qq/" == n.match(/QQ\//i) || "weibo" == n.match(/WeiBo/i)), s = isMiguApp(), a = !1;if (document.addEventListener("visibilitychange", (function() {a = !0})),!s)if (i) {0 == t.autoOpen && (window.location.href = "https://beta.migufun.com/migugameuniversallink/" + e)} elseo ? showWxModal() : (window.location.href = "youplay://".concat(e),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8___default()((function() {a || 0 == t.autoOpen && (window.location.href = r)}), 2e3))}function openAppHook(t) {return _openAppHook.apply(this, arguments)}function _openAppHook() {return (_openAppHook = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e) {var r, n, i, o, s, a;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:return r = e.appLink,n = e.downloadUrl,i = e.source,o = e.from,s = void 0 === o ? "" : o,a = e.payFromObject,t.next = 3,openApp(r, n, i, s, a, e);case 3:case "end":return t.stop()}}), t)})))).apply(this, arguments)}function openApp(t, e, r) {return _openApp.apply(this, arguments)}function _openApp() {return _openApp = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e, r, n) {var i, o, s, a, c, u, l, d, f, h, p, g, m, v, y = arguments;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:if (c = y.length > 3 && void 0 !== y[3] ? y[3] : "",u = y.length > 4 ? y[4] : void 0,l = y.length > 5 && void 0 !== y[5] ? y[5] : {},d = "android" == MiguplayUtils.url.getQueryString("source"),f = MiguplayUtils.url.getQueryString("putFrom"),h = window.navigator.userAgent.toLowerCase() || "",p = !!h.match(/iPhone|iPad|iPod/i),h.indexOf("android") > -1 || h.indexOf("linux") > -1,g = "micromessenger" == h.match(/MicroMessenger/i) || "qq/" == h.match(/QQ\//i) || "weibo" == h.match(/WeiBo/i),e && -1 == e.indexOf("from") && c && (e = urlContact(e, {from: c})),e && -1 == e.indexOf("payFromObject") && u && isToPayPage(e) && (e = urlContact(e, {payFromObject: u})),m = "",m = d || MiguplayUtils.miguCmcc.isCmccApp() ? "1_" : "0_",m += null != l && null !== (i = l.activityInfo) && void 0 !== i && i.activityId ? l.activityInfo.activityId + "_" : "null_",m += null != l && null !== (o = l.activityInfo) && void 0 !== o && o.pageId ? l.activityInfo.pageId + "_" : "null_",m += null != l && null !== (s = l.floorInfo) && void 0 !== s && s.floorId ? (null == l || null === (a = l.floorInfo) || void 0 === a ? void 0 : a.floorId) + "_" : "null_",m += null != l && l.taskId ? (null == l ? void 0 : l.taskId) + "_" : "null_",m += null != l && l.prize_rule_gameId ? (null == l ? void 0 : l.prize_rule_gameId) + "" : "null",-1 == (e = e || "").indexOf("?") ? e += "?appPullSceneParams=" + m : e += "&appPullSceneParams=" + m,!p) {t.next = 27;break}window.location.href = "https://beta.migufun.com/migugameuniversallink/" + (e || ""),t.next = 40;break;case 27:if (!g) {t.next = 31;break}showWxModal(),t.next = 40;break;case 31:if (window.location.href = "youplay://".concat(e),isMiguApp()) {t.next = 40;break}return -1 == r.indexOf("?") ? r += "?appPullSceneParams=" + m : r += "&appPullSceneParams=" + m,t.next = 38,pullDownload(e, r, c);case 38:v = t.sent,_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8___default()((function() {var t;1 != window.document.hidden && (f && "nodownload" == f ? "fromOther" == n ? toastDownLoad(r) : showDownApp(v) : f && "noapk" == f ? (v = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(t = "".concat(_api_config__WEBPACK_IMPORTED_MODULE_21__.A.H5hostURL, "/h5/cloudgame/appdownload/appDownload.html?pullUpApp=1")).call(t, c ? "&from=".concat(c) : ""),"android" == MiguplayUtils.url.getQueryString("source") ? window.MiguGameSDK.openUrl(2, v) : window.location.href = v) : "android" == MiguplayUtils.url.getQueryString("source") ? window.MiguGameSDK.openUrl(2, v) : window.location.href = v)}), 2e3);case 40:case "end":return t.stop()}}), t)}))),_openApp.apply(this, arguments)}function openOtherApp(t) {return _openOtherApp.apply(this, arguments)}function _openOtherApp() {return _openOtherApp = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e) {var r, n, i, o, s, a;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:r = e.appDownloadUrl,n = e.appType,i = window.navigator.userAgent.toLowerCase() || "",o = "micromessenger" == i.match(/MicroMessenger/i) || "qq/" == i.match(/QQ\//i) || "weibo" == i.match(/WeiBo/i),s = "",a = "",t.t0 = n,t.next = 1 === t.t0 ? 8 : 2 === t.t0 ? 11 : 3 === t.t0 ? 14 : 17;break;case 8:return a = "咪咕视频",s = _api_config__WEBPACK_IMPORTED_MODULE_21__.A.schemaLinkShipin,t.abrupt("break", 19);case 11:return a = "咪咕音乐",s = _api_config__WEBPACK_IMPORTED_MODULE_21__.A.schemaLinkYinyue,t.abrupt("break", 19);case 14:return a = "咪咕阅读",s = _api_config__WEBPACK_IMPORTED_MODULE_21__.A.schemaLinkYuedu,t.abrupt("break", 19);case 17:return t.abrupt("break", 19);case 19:o ? showWxModal() : (window.location.href = s,_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8___default()((0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t() {return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:r ? openDownloadDialog(a, r) : openDialog(a);case 1:case "end":return t.stop()}}), t)}))), 2e3));case 20:case "end":return t.stop()}}), t)}))),_openOtherApp.apply(this, arguments)}function openAiKanApp(t) {return _openAiKanApp.apply(this, arguments)}function _openAiKanApp() {return _openAiKanApp = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e) {var r, n, i, o, s, a, c, u;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:r = e.floorId,n = e.url,i = MiguplayUtils.url.getQueryString("pageid"),o = window.navigator.userAgent.toLowerCase() || "",s = "micromessenger" == o.match(/MicroMessenger/i) || "qq/" == o.match(/QQ\//i) || "weibo" == o.match(/WeiBo/i),a = "",s ? showWxModal() : (u = {detailType: "76",url: n + "&sso=ho&ssoType=cmcc",targetSourceId: "012016",ivopCode: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(c = "DW_KY_".concat(i, "&")).call(c, r)},a = "miguaikan://opencommon?data=" + encodeURIComponent(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_17___default()(u)),window.location.href = a,_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8___default()((0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t() {return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:window.location.href = "https://aikanvod.miguvideo.com/video/p/miguaikanDownLoad.jsp";case 1:case "end":return t.stop()}}), t)}))), 2e3));case 6:case "end":return t.stop()}}), t)}))),_openAiKanApp.apply(this, arguments)}function openDownloadDialog(t, e) {var r, n, i = '<div class="btn" data-clipboard-text='.concat(e, ">复制下载链接</div>"), o = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(r = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(n = '<div class="dialog-downApp" >\n                         <div class="msesageDiv">\n                             <div class="closeBtn">×</div>\n                             <h2>打开/下载'.concat(t, "</h2>\n                             <span>复制链接至浏览器，下载并打开")).call(n, t, '</span>\n                             <div class="downText">下载链接:</div>\n                             <p>')).call(r, e, "</p>\n                             ") + i + "\n                         </div>\n                       </div>";jquery__WEBPACK_IMPORTED_MODULE_20___default()("#app > div").append(o),stopBodyScroll(),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").on("click", (function(t) {t.stopPropagation(),bodyScroll(),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").remove()})),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".msesageDiv").on("click", (function(t) {t.stopPropagation()})),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".closeBtn").on("click", (function() {bodyScroll(),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").remove()}));var s = document.querySelector(".btn"), a = new (clipboard__WEBPACK_IMPORTED_MODULE_22___default())(s);a.on("success", (function(e) {popMessageNew("已复制下载链接，请至默认浏览器下载或直接打开".concat(t)),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").remove(),bodyScroll()})),a.on("error", (function(t) {}))}function openDialog(t) {var e = '<div class="dialog-downApp" >\n                         <div class="msesageDiv">\n                             <div class="closeBtn">×</div>\n                             <h2>温馨提示</h2>\n                             <span>打开或下载'.concat(t, 'app，前往完成任务哦</span>\n                             <div class="btn">我知道了</div>\n                         </div>\n                       </div>');jquery__WEBPACK_IMPORTED_MODULE_20___default()("#app > div").append(e),stopBodyScroll(),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").on("click", (function(t) {t.stopPropagation(),bodyScroll(),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").remove()})),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".msesageDiv").on("click", (function(t) {t.stopPropagation()})),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".closeBtn").on("click", (function() {bodyScroll(),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").remove()})),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".btn").on("click", (function() {bodyScroll(),jquery__WEBPACK_IMPORTED_MODULE_20___default()(".dialog-downApp").remove()}))}function pullDownload(t, e) {return _pullDownload.apply(this, arguments)}function _pullDownload() {return _pullDownload = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e, r) {var n, i, o, s = arguments;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:if (n = s.length > 2 && void 0 !== s[2] ? s[2] : "",i = MiguplayUtils.url.getQueryString("packageChannel") || MiguplayUtils.url.getQueryString("channel_id") || "",!MiguplayUtils.ua.isAndroid()) {t.next = 15;break}if (!r) {t.next = 8;break}return r = urlContact(r, {from: n}),t.abrupt("return", r);case 8:return t.next = 10,MiguplayUtils.appUtils.getDownloadUrlBySymbol(i);case 10:return o = t.sent,t.abrupt("return", o);case 13:t.next = 16;break;case 15:return t.abrupt("return", "");case 16:case "end":return t.stop()}}), t)}))),_pullDownload.apply(this, arguments)}function getFloorVideoInfor(t, e) {var r, n = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(r = '"'.concat(e.activityName, "(")).call(r, e.activityId, ')",'), i = t.replace(")", n + e.floorId + ")");if (MiguplayUtils.appUtils.isMiguApp()) {var o = MiguplayUtils.appUtils.getAppVersion();localStorage.setItem("appVersion", o);var s = new RegExp('"',"g"), a = o.replace(s, ""), c = a.length, u = 1 * a.substring(c - 4);localStorage.setItem("appVersionNum", u),window.location.href = u && u > 3520 ? i : t}}function openUrl(t, e, r, n, i, o) {return _openUrl.apply(this, arguments)}function _openUrl() {return (_openUrl = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e, r, n, i, o, s) {var a, c, u, l, d, f, h, p, g, m, v, y, _, b, w, E, T, S;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:if (o = o || "",a = isMiguApp(),!(e.indexOf("youplay://") > -1)) {t.next = 8;break}c = e.split("youplay://")[1],a ? (e = urlContact(e, {from: o}),s && isToPayPage(e) && (e = urlContact(e, {payFromObject: s})),window.location.href = e) : (u = c.split("gamedetail?gameid=")[1],l = MiguplayUtils.url.getQueryString("channel") || MiguplayUtils.url.getQueryString("appChannel"),d = MiguplayUtils.url.getQueryString("appchannel"),f = "10011000000" == d || !l || "zy-gw-mghy" == l,h = MiguplayUtils.url.getQueryString("isHide"),p = MiguplayUtils.url.getQueryString("packageChannel"),"",c.indexOf("gamedetail?gameid=") > -1 ? jumpUrl(f ? urlContact(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(g = "".concat(_api_config__WEBPACK_IMPORTED_MODULE_21__.A.H5hostURL, "/middleh5/gamedetail/")).call(g, u), {isHide: h,packageChannel: p,isMGDM: 1 == MiguplayUtils.url.getQueryString("isMGDM") ? 1 : "",from: o}) : urlContact(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(m = "".concat(_api_config__WEBPACK_IMPORTED_MODULE_21__.A.H5hostURL, "/middleh5/gamedetail/")).call(m, u), {appChannel: l,isHide: h,packageChannel: p,isMGDM: 1 == MiguplayUtils.url.getQueryString("isMGDM") ? 1 : "",from: o}), n) : c.indexOf("memberOrder") > -1 ? openVip(c, o, s) : jumpUrl(urlContact("".concat(_api_config__WEBPACK_IMPORTED_MODULE_21__.A.H5hostURL, "/middleh5/"), f ? {isHide: h,packageChannel: p,from: o} : {appChannel: l,isHide: h,packageChannel: p,from: o}), n)),t.next = 43;break;case 8:if (!(e.indexOf("/miguplay/html/payforApp/paysdk") > -1)) {t.next = 12;break}openVip(e, o, s),t.next = 43;break;case 12:if (!(e.indexOf("javascript:") > -1)) {t.next = 16;break}e.indexOf("window.JSInterface.jumpVideoAd") > -1 ? getFloorVideoInfor(e, i) : window.location.href = e,t.next = 43;break;case 16:if (!isNeedLoginLink(e)) {t.next = 21;break}getLoginToken().then((function(t) {var r = e;t && (r = e + "".concat((e.indexOf("?") > -1 ? "&token=" : "?token=") + t)),jumpUrl(r, n)})),t.next = 43;break;case 21:if (v = MiguplayUtils.url.getQueryString("channel_id"),y = MiguplayUtils.url.getQueryString("packageChannel"),_ = MiguplayUtils.url.getQueryString("channel") || MiguplayUtils.url.getQueryString("appChannel"),MiguplayUtils.url.getQueryString("appChannel"),b = MiguplayUtils.url.getQueryString("isHide"),w = MiguplayUtils.url.getQueryString("putFrom"),E = "10011000000" == MiguplayUtils.url.getQueryString("appchannel") || !_ || "zy-gw-mghy" == _,T = e,S = {appChannel: _,channel: _,channel_id: v,packageChannel: y,from: o = o || ""},s && isToPayPage(T) && (S.payFromObject = s),e.indexOf("miguplay/html/gameRankingList/") > -1 && (S = _objectSpread(_objectSpread({}, S), {}, E ? {isHide: b,putFrom: w} : {linkFrom: "10086",putFrom: w})),T = urlContact(e, S),e.indexOf("/miguplay/middleGame/gameplay/feature/650594745") > -1 && sessionStorage.setItem("from", "worldCup"),!r) {t.next = 42;break}return t.next = 38,MiguplayUtils.gameplay.getJumpUrl({skipType: 2,skipContent: T,appExt1: "",loginType: r.ssoType,loginParamName: r.ssoParams});case 38:jumpUrl(t.sent, n),t.next = 43;break;case 42:jumpUrl(T, n);case 43:case "end":return t.stop()}}), t)})))).apply(this, arguments)}function jumpUrl(t, e) {isMiguApp() ? new RegExp("http|https").test(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(t).call(t, 0, 5)) ? window.location.href = "youplay://webview?url=" + t : window.location.href = t : "android" == MiguplayUtils.url.getQueryString("source") ? t.indexOf("mgaction=sdk") > -1 ? (t = t.replace("mgaction=sdk", ""),window.MiguGameSDK.openUrl(1, t)) : window.MiguGameSDK.openUrl(e || 2, t) : !isAndroid && navigator.userAgent.indexOf("leadeon") > -1 ? (t.indexOf("?") > -1 ? t += "&source=iosSdk&cmccNewPage=1" : t += "?source=iosSdk&cmccNewPage=1",window.location.href = t) : window.location.href = t}function cloudPlayAndDownload(t, e) {return _cloudPlayAndDownload.apply(this, arguments)}function _cloudPlayAndDownload() {return (_cloudPlayAndDownload = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e, r) {var n, i, o, s, a, c, u, l, d, f, h, p;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:return t.next = 2,_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.getH5SysParamInfo({code: "nodownload"});case 2:return i = t.sent,o = i.data,s = o.returnCode,a = o.resultData,this.nodownload = "000000" !== s || "0" !== (null == a || null === (n = a[0]) || void 0 === n ? void 0 : n.value),t.prev = 5,t.next = 8,_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.queryChannelInfo({});case 8:return l = t.sent,d = (null === (c = l.data.resultData) || void 0 === c || null === (c = c.channelInfo) || void 0 === c ? void 0 : c.downloadPromotionChannelId) || "",f = {data: {userId: localStorage.getItem("cryptoUserId"),gameId: e,downLoadChannel: d,ua: MiguplayUtils.ua.ua()}},t.next = 13,_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.queryDownLoadUrlFromApp(f);case 13:if ("000000" == (h = t.sent).data.returnCode) {t.next = 17;break}return MiguplayUtils.layer.toast(h.data.message, 2e3),t.abrupt("return", !1);case 17:if (!(p = null == h || null === (u = h.data) || void 0 === u || null === (u = u.resultData) || void 0 === u ? void 0 : u.url) || "" == p) {t.next = 29;break}if (!MiguplayUtils.ua.isPC()) {t.next = 23;break}r.showDialog({type: 20,info: p}),t.next = 29;break;case 23:if (!this.nodownload) {t.next = 28;break}return r.showDialog({type: 20,info: p}),t.abrupt("return");case 28:MiguplayUtils.miguSdkUtils.isMIGUsdk() ? MiguplayUtils.miguSdkUtils.newWebview(2, p) : window.location.href = p;case 29:t.next = 35;break;case 31:t.prev = 31,t.t0 = t.catch(5),MiguplayUtils.layer.toast("游戏包体下载失败", 1500);case 35:case "end":return t.stop()}}), t, this, [[5, 31]])})))).apply(this, arguments)}function H5toAPP(t) {MiguplayUtils.appUtils.messageHandlers({functionName: "openQQGroup",iosMethodType: "jsbridge",data: t,iosData: {qqGroupNum: t}})}function openVip(t, e, r) {var n = isMiguApp(), i = t.match(/\?selectSubId=(\d+)/) ? t.match(/\?selectSubId=(\d+)/)[1] : "", o = t.match(/\?packageId=(\d+)/) ? t.match(/\?packageId=(\d+)/)[1] : "";if (n) {var s, a = "";if (i)a = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(s = "youplay://memberOrder?packageId=".concat(i)).call(s, e ? "&from=".concat(e) : "");else if (o) {var c;a = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(c = "youplay://memberOrder?packageId=".concat(o)).call(c, e ? "&from=".concat(e) : "")} elsea = "youplay://memberOrder".concat(e ? "?from=".concat(e) : "");r && (a = MiguplayUtils.url.urlContact(a, {payFromObject: r})),window.location.href = a} else {var u, l, d, f = MiguplayUtils.url.getQueryString("channel") || MiguplayUtils.url.getQueryString("appChannel"), h = "10011000000" == MiguplayUtils.url.getQueryString("appchannel") || !f || "zy-gw-mghy" == f, p = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(u = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(l = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(d = "".concat(_api_config__WEBPACK_IMPORTED_MODULE_21__.A.H5hostURL, "/miguplay/html/payforMidH5/subscription?appChannel=")).call(d, h ? "zy-gw-mghy" : f)).call(l, i ? "&selectSubId=".concat(i) : "")).call(u, e ? "&from=".concat(e) : "");r && (p = MiguplayUtils.url.urlContact(p, {payFromObject: r})),jumpUrl(p)}}function isNeedLoginLink(t) {return t.indexOf("y.migu.cn/app/v4/zt/2021/mzone-center/index.html") > -1 || t.indexOf("112.48.155.25:18080/mgmall_test") > -1 || t.indexOf("mgmall.migudm.cn") > -1 || t.indexOf("plus.migu.cn") > -1}function getLoginToken() {var t = isMiguApp(), e = localStorage.getItem("userId"), r = localStorage.getItem("userToken");return new (_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_11___default())((function(n) {if (e && r)if (t)MiguplayUtils.appUtils.requestUserInfo().then((function(t) {n(t.basicToken)})).catch((function(t) {}));else {var i = {header: {userId: e,userToken: r}};_api_commonApi_js__WEBPACK_IMPORTED_MODULE_19__.A.getDiamondToken(i).then((function(t) {"000000" == t.data.returnCode ? n(t.data.resultData) : n("")})).catch((function(t) {n("")}))}elsen("")}))}function urlContact(t, e) {if (!t)return "";var r = t.lastIndexOf("?"), n = -1 !== r ? [_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(t).call(t, 0, r), _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(t).call(t, r + 1)] : [t, ""], i = n[0], o = {};if (n[1])for (var s = n[1].split("&"), a = 0; a < s.length; a++) {var c = s[a].split("=");2 === c.length && (o[c[0]] = c[1])}if (e && _babel_runtime_corejs3_core_js_stable_object_keys__WEBPACK_IMPORTED_MODULE_5___default()(e).length > 0) {var u = {};for (var l in e)e[l] && null != e[l] && null != e[l] && (u[l] = e[l]);o = _babel_runtime_corejs3_core_js_stable_object_assign__WEBPACK_IMPORTED_MODULE_9___default()(o, u)}var d = "";for (var f in o) {if (o[f] && null != o[f] && null != o[f])d = d + "&" + f + "=" + o[f]}return (d = d ? d.substring(1) : "") ? i + "?" + d : t}function blockIllegalUser(t) {var e = '<div class="block-message">' + (1 == t ? "抱歉~物联网号码无法参加活动~" : "抱歉~您的设备本月已登录过5个手机号，无法再使用当前号码参加活动了~") + "</div>";jquery__WEBPACK_IMPORTED_MODULE_20___default()("#app > div").append(e),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8___default()((function() {jquery__WEBPACK_IMPORTED_MODULE_20___default()(".block-message").remove()}), 3e3)}function time3format(t) {var e = 0;if (t > 3600) {e = Math.floor(t / 3600);var r = Math.floor((t - 3600 * e) / 60), n = Math.floor((t - 3600 * e) % 60)} elser = Math.floor(t / 60),n = Math.floor(t % 60);return (e > 0 ? e + "小时" : "") + (r > 0 ? r + "分" : "") + (n > 0 ? n + "秒" : "")}function handlePayList(t, e) {return _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(t).call(t, (function(t) {var r = t.payType.split(","), n = [];_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_12___default()(r).call(r, (function(t) {n.push({type: t,name: payName(t)})})),t.notFinishDesc = e,t.payTypeList = n})),t}function payName(t) {switch (t) {case "1":return "微信支付";case "2":return "支付宝支付";case "3":return "话费支付";case "4":return "移动积分支付";default:return "xxx"}}function loadJavaScriptFile(t, e, r) {var n = document.head, i = document.createElement("script");n ? (i.id = e,i.src = t,n.appendChild(i),i.onload = function() {r && r({isSuccess: !0,message: ""})},i.onerror = function() {r && r({isSuccess: !1,message: "文件路径错误！"})}) : r && r({isSuccess: !1,message: "head 错误！"})}function isToPayPage(t) {var e = !1;return t && ["html/payforMidH5", "html/payforApp", "youplay://memberOrder"].forEach((function(r) {t.indexOf(r) > -1 && (e = !0)})),e}function formatDate(t, e) {var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];if (t) {var n, i, o, s, a, c, u = new Date, l = new Date(t);_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_13___default()(n = t.toString()).call(n, "-") && (l = new Date(t.toString().replace(/-/g, "/")));var d = u.getFullYear(), f = l.getFullYear(), h = {YYYY: String(f),MM: _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(i = "0" + (l.getMonth() + 1)).call(i, -2),DD: _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(o = "0" + l.getDate()).call(o, -2),HH: _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(s = "0" + l.getHours()).call(s, -2),mm: _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(a = "0" + l.getMinutes()).call(a, -2),ss: _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(c = "0" + l.getSeconds()).call(c, -2)};return (r || f !== d ? e : e.replace(/YYYY[^YM]*?(?=MM|$)/g, "")).replace(/YYYY|MM|DD|HH|mm|ss/gi, (function(t) {return h[t]}))}return ""}function formatNumber(t, e) {if (null === t)return t;var r = "string" == typeof t ? parseFloat(t) : t;return e && r >= e ? dealZero((r / 1e4).toFixed(1)) + "w" : r >= 1e7 ? dealZero(Math.floor(r / 1e4)) + "w" : r >= 1e6 ? dealZero((r / 1e4).toFixed(1)) + "w" : r >= 1e5 ? dealZero((r / 1e4).toFixed(2)) + "w" : dealZero(t)}function dealZero(t) {var e = t ? t.toString() : "";return _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_14___default()(e).call(e, ".0") ? _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(e).call(e, 0, -2) : _babel_runtime_corejs3_core_js_stable_instance_ends_with__WEBPACK_IMPORTED_MODULE_14___default()(e).call(e, ".00") ? _babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(e).call(e, 0, -3) : e}function deleteParamAndCache() {var t = MiguplayUtils.url.getQueryString("code");if (t) {localStorage.setItem("JDcode", t);try {var e = new (_babel_runtime_corejs3_core_js_stable_url__WEBPACK_IMPORTED_MODULE_15___default())(window.location.href), r = new (_babel_runtime_corejs3_core_js_stable_url_search_params__WEBPACK_IMPORTED_MODULE_16___default())(e.search);r.delete("code");var n = decodeURIComponent(decodeURIComponent(r.toString())), i = JSON.parse(_babel_runtime_corejs3_core_js_stable_instance_slice__WEBPACK_IMPORTED_MODULE_10___default()(n).call(n, 6));i && i.url && (window.location.href = i.url)} catch (t) {}}}function getDownloadPageUrl() {var t = "".concat(_api_config__WEBPACK_IMPORTED_MODULE_21__.A.H5hostURL, "/h5/cloudgame/appdownload/appDownload.html?");if (MiguplayUtils.url.getQueryString("appChannel")) {var e = MiguplayUtils.url.getQueryString("appChannel");t += "&appChannel=".concat(e)}if (MiguplayUtils.url.getQueryString("packageChannel")) {var r = MiguplayUtils.url.getQueryString("packageChannel");t += "&packageChannel=".concat(r)}return t}function processJumpUrl(t) {var e = /^youplay:\/\//;return e.test(t) ? t.replace(e, "") : t}function tologout(t) {return _tologout.apply(this, arguments)}function _tologout() {return (_tologout = (0,_babel_runtime_corejs3_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_25__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark((function t(e) {return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap((function(t) {for (; ; )switch (t.prev = t.next) {case 0:window.location.href,window.localStorage.removeItem("userId"),window.localStorage.removeItem("userToken"),window.localStorage.removeItem("cryptoUserId"),window.localStorage.removeItem("cryptoUserToken"),window.localStorage.removeItem("cryptoSign"),_store__WEBPACK_IMPORTED_MODULE_24__.A.commit("user/setUserInfo", {userId: 0,userToken: 0}),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_8___default()((function() {e && e(),MiguplayUtils.ua.isInMiniprogram() ? (MiguplayUtils.miniProgram.uniPostMessage({userId: "",userToken: "",type: "checkUserLogin"}),MiguplayUtils.miniProgram.uniNavigateTo("/pages/login/login?params=" + encodeURIComponent(_babel_runtime_corejs3_core_js_stable_json_stringify__WEBPACK_IMPORTED_MODULE_17___default()({backUrl: "/pages/game/game"})))) : toLogin()}), 1e3);case 8:case "end":return t.stop()}}), t)})))).apply(this, arguments)}function addHeadLink(t) {var e, r = encodeURIComponent(location.href), n = document.createElement("link");n.rel = "manifest",n.href = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_7___default()(e = "/middleh5/miguApi/manifestActivity?pageTitle=".concat(t.pageTitle, "&pageUrl=")).call(e, r);document.getElementsByTagName("head")[0]}function isCmccApp() {return MiguplayUtils.miguCmcc.isCmccApp() || isAndroidSDK()}function isAndroidSDK() {return "android" == (sessionStorage.getItem("gameplay-source") || MiguplayUtils.url.getQueryString("source") || "")}__webpack_exports__.A = {getUrlParamQuery: getUrlParamQuery,processJumpUrl: processJumpUrl,getDownloadPageUrl: getDownloadPageUrl,loadJavaScriptFile: loadJavaScriptFile,getQueryParam: getQueryParam,dateFormat: dateFormat,getDateTime: getDateTime,time2format: time2format,timeStr: timeStr,openAppHook: openAppHook,openApp: openApp,openinnerApp: openinnerApp,popMessage: popMessage,throttle: throttle,throttle2: throttle2,stopBodyScroll: stopBodyScroll,bodyScroll: bodyScroll,toLogin: toLogin,isMiguApp: isMiguApp,isLatestVersion: isLatestVersion,fullScreen: fullScreen,getspic: getspic,getAppDeviceId: getAppDeviceId,isIos: isIos,gethash: gethash,getTime: getTime,share: share,storeUserInfo: storeUserInfo,playOrOpenApp: playOrOpenApp,popMessageNew: popMessageNew,openUrl: openUrl,openVip: openVip,friendScene: friendScene,H5toAPP: H5toAPP,getLowpic: getLowpic,pullDownload: pullDownload,toastDownLoad: toastDownLoad,openOtherApp: openOtherApp,getFloorVideoInfor: getFloorVideoInfor,blockIllegalUser: blockIllegalUser,time3format: time3format,handlePayList: handlePayList,isToPayPage: isToPayPage,formatDate: formatDate,formatNumber: formatNumber,openAiKanApp: openAiKanApp,h5GameJump: h5GameJump,jumpUrl: jumpUrl,deleteParamAndCache: deleteParamAndCache,cloudPlayAndDownload: cloudPlayAndDownload,addHeadLink: addHeadLink,isQQ: isQQ,isCmccApp: isCmccApp,isAndroidSDK: isAndroidSDK,autoOpenApp: autoOpenApp,tologout: tologout,urlContact: urlContact}},57576: function(t) {var e;e = function() {return function() {var t = {686: function(t, e, r) {"use strict";r.d(e, {default: function() {return E}});var n = r(279), i = r.n(n), o = r(370), s = r.n(o), a = r(817), c = r.n(a);function u(t) {try {return document.execCommand(t)} catch (t) {return !1}}var l = function(t) {var e = c()(t);return u("cut"),e}, d = function(t, e) {var r = function(t) {var e = "rtl" === document.documentElement.getAttribute("dir"), r = document.createElement("textarea");r.style.fontSize = "12pt",r.style.border = "0",r.style.padding = "0",r.style.margin = "0",r.style.position = "absolute",r.style[e ? "right" : "left"] = "-9999px";var n = window.pageYOffset || document.documentElement.scrollTop;return r.style.top = "".concat(n, "px"),r.setAttribute("readonly", ""),r.value = t,r}(t);e.container.appendChild(r);var n = c()(r);return u("copy"),r.remove(),n}, f = function(t) {var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {container: document.body}, r = "";return "string" == typeof t ? r = d(t, e) : t instanceof HTMLInputElement && !["text", "search", "url", "tel", "password"].includes(null == t ? void 0 : t.type) ? r = d(t.value, e) : (r = c()(t),u("copy")),r};function h(t) {return h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {return typeof t}: function(t) {return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t},h(t)}var p = function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e = t.action, r = void 0 === e ? "copy" : e, n = t.container, i = t.target, o = t.text;if ("copy" !== r && "cut" !== r)throw new Error('Invalid "action" value, use either "copy" or "cut"');if (void 0 !== i) {if (!i || "object" !== h(i) || 1 !== i.nodeType)throw new Error('Invalid "target" value, use a valid Element');if ("copy" === r && i.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if ("cut" === r && (i.hasAttribute("readonly") || i.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return o ? f(o, {container: n}) : i ? "cut" === r ? l(i) : f(i, {container: n}) : void 0};function g(t) {return g = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {return typeof t}: function(t) {return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t},g(t)}function m(t, e) {for (var r = 0; r < e.length; r++) {var n = e[r];n.enumerable = n.enumerable || !1,n.configurable = !0,"value"in n && (n.writable = !0),Object.defineProperty(t, n.key, n)}}function v(t, e) {return v = Object.setPrototypeOf || function(t, e) {return t.__proto__ = e,t},v(t, e)}function y(t) {var e = function() {if ("undefined" == typeof Reflect || !Reflect.construct)return !1;if (Reflect.construct.sham)return !1;if ("function" == typeof Proxy)return !0;try {return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}))),!0} catch (t) {return !1}}();return function() {var r, n = _(t);if (e) {var i = _(this).constructor;r = Reflect.construct(n, arguments, i)} elser = n.apply(this, arguments);return function(t, e) {return !e || "object" !== g(e) && "function" != typeof e ? function(t) {if (void 0 === t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t) : e}(this, r)}}function _(t) {return _ = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {return t.__proto__ || Object.getPrototypeOf(t)},_(t)}function b(t, e) {var r = "data-clipboard-".concat(t);if (e.hasAttribute(r))return e.getAttribute(r)}var w = function(t) {!function(t, e) {if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function");t.prototype = Object.create(e && e.prototype, {constructor: {value: t,writable: !0,configurable: !0}}),e && v(t, e)}(o, t);var e, r, n, i = y(o);function o(t, e) {var r;return function(t, e) {if (!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this, o),(r = i.call(this)).resolveOptions(e),r.listenClick(t),r}return e = o,r = [{key: "resolveOptions",value: function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};this.action = "function" == typeof t.action ? t.action : this.defaultAction,this.target = "function" == typeof t.target ? t.target : this.defaultTarget,this.text = "function" == typeof t.text ? t.text : this.defaultText,this.container = "object" === g(t.container) ? t.container : document.body}}, {key: "listenClick",value: function(t) {var e = this;this.listener = s()(t, "click", (function(t) {return e.onClick(t)}))}}, {key: "onClick",value: function(t) {var e = t.delegateTarget || t.currentTarget, r = this.action(e) || "copy", n = p({action: r,container: this.container,target: this.target(e),text: this.text(e)});this.emit(n ? "success" : "error", {action: r,text: n,trigger: e,clearSelection: function() {e && e.focus(),window.getSelection().removeAllRanges()}})}}, {key: "defaultAction",value: function(t) {return b("action", t)}}, {key: "defaultTarget",value: function(t) {var e = b("target", t);if (e)return document.querySelector(e)}}, {key: "defaultText",value: function(t) {return b("text", t)}}, {key: "destroy",value: function() {this.listener.destroy()}}],n = [{key: "copy",value: function(t) {var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {container: document.body};return f(t, e)}}, {key: "cut",value: function(t) {return l(t)}}, {key: "isSupported",value: function() {var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ["copy", "cut"], e = "string" == typeof t ? [t] : t, r = !!document.queryCommandSupported;return e.forEach((function(t) {r = r && !!document.queryCommandSupported(t)})),r}}],r && m(e.prototype, r),n && m(e, n),o}(i()), E = w},828: function(t) {if ("undefined" != typeof Element && !Element.prototype.matches) {var e = Element.prototype;e.matches = e.matchesSelector || e.mozMatchesSelector || e.msMatchesSelector || e.oMatchesSelector || e.webkitMatchesSelector}t.exports = function(t, e) {for (; t && 9 !== t.nodeType; ) {if ("function" == typeof t.matches && t.matches(e))return t;t = t.parentNode}}},438: function(t, e, r) {var n = r(828);function i(t, e, r, n, i) {var s = o.apply(this, arguments);return t.addEventListener(r, s, i),{destroy: function() {t.removeEventListener(r, s, i)}}}function o(t, e, r, i) {return function(r) {r.delegateTarget = n(r.target, e),r.delegateTarget && i.call(t, r)}}t.exports = function(t, e, r, n, o) {return "function" == typeof t.addEventListener ? i.apply(null, arguments) : "function" == typeof r ? i.bind(null, document).apply(null, arguments) : ("string" == typeof t && (t = document.querySelectorAll(t)),Array.prototype.map.call(t, (function(t) {return i(t, e, r, n, o)})))}},879: function(t, e) {e.node = function(t) {return void 0 !== t && t instanceof HTMLElement && 1 === t.nodeType},e.nodeList = function(t) {var r = Object.prototype.toString.call(t);return void 0 !== t && ("[object NodeList]" === r || "[object HTMLCollection]" === r) && "length"in t && (0 === t.length || e.node(t[0]))},e.string = function(t) {return "string" == typeof t || t instanceof String},e.fn = function(t) {return "[object Function]" === Object.prototype.toString.call(t)}},370: function(t, e, r) {var n = r(879), i = r(438);t.exports = function(t, e, r) {if (!t && !e && !r)throw new Error("Missing required arguments");if (!n.string(e))throw new TypeError("Second argument must be a String");if (!n.fn(r))throw new TypeError("Third argument must be a Function");if (n.node(t))return function(t, e, r) {return t.addEventListener(e, r),{destroy: function() {t.removeEventListener(e, r)}}}(t, e, r);if (n.nodeList(t))return function(t, e, r) {return Array.prototype.forEach.call(t, (function(t) {t.addEventListener(e, r)})),{destroy: function() {Array.prototype.forEach.call(t, (function(t) {t.removeEventListener(e, r)}))}}}(t, e, r);if (n.string(t))return function(t, e, r) {return i(document.body, t, e, r)}(t, e, r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817: function(t) {t.exports = function(t) {var e;if ("SELECT" === t.nodeName)t.focus(),e = t.value;else if ("INPUT" === t.nodeName || "TEXTAREA" === t.nodeName) {var r = t.hasAttribute("readonly");r || t.setAttribute("readonly", ""),t.select(),t.setSelectionRange(0, t.value.length),r || t.removeAttribute("readonly"),e = t.value} else {t.hasAttribute("contenteditable") && t.focus();var n = window.getSelection(), i = document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e = n.toString()}return e}},279: function(t) {function e() {}e.prototype = {on: function(t, e, r) {var n = this.e || (this.e = {});return (n[t] || (n[t] = [])).push({fn: e,ctx: r}),this},once: function(t, e, r) {var n = this;function i() {n.off(t, i),e.apply(r, arguments)}return i._ = e,this.on(t, i, r)},emit: function(t) {for (var e = [].slice.call(arguments, 1), r = ((this.e || (this.e = {}))[t] || []).slice(), n = 0, i = r.length; n < i; n++)r[n].fn.apply(r[n].ctx, e);return this},off: function(t, e) {var r = this.e || (this.e = {}), n = r[t], i = [];if (n && e)for (var o = 0, s = n.length; o < s; o++)n[o].fn !== e && n[o].fn._ !== e && i.push(n[o]);return i.length ? r[t] = i : delete r[t],this}},t.exports = e,t.exports.TinyEmitter = e}}, e = {};function r(n) {if (e[n])return e[n].exports;var i = e[n] = {exports: {}};return t[n](i, i.exports, r),i.exports}return r.n = function(t) {var e = t && t.__esModule ? function() {return t.default}: function() {return t};return r.d(e, {a: e}),e},r.d = function(t, e) {for (var n in e)r.o(e, n) && !r.o(t, n) && Object.defineProperty(t, n, {enumerable: !0,get: e[n]})},r.o = function(t, e) {return Object.prototype.hasOwnProperty.call(t, e)},r(686)}().default},t.exports = e()},13698: function(t) {t.exports = function() {return e = {686: function(t, e, r) {"use strict";r.d(e, {default: function() {return y}}),e = r(279);var n = r.n(e), i = (e = r(370),r.n(e)), o = (e = r(817),r.n(e));function s(t) {try {return document.execCommand(t)} catch (t) {return}}var a = function(t) {return t = o()(t),s("cut"),t};function c(t, e) {var r, n;return r = t,n = "rtl" === document.documentElement.getAttribute("dir"),(t = document.createElement("textarea")).style.fontSize = "12pt",t.style.border = "0",t.style.padding = "0",t.style.margin = "0",t.style.position = "absolute",t.style[n ? "right" : "left"] = "-9999px",n = window.pageYOffset || document.documentElement.scrollTop,t.style.top = "".concat(n, "px"),t.setAttribute("readonly", ""),t.value = r,e.container.appendChild(t),e = o()(t),s("copy"),t.remove(),e}var u = function(t) {var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {container: document.body}, r = "";return "string" == typeof t ? r = c(t, e) : t instanceof HTMLInputElement && !["text", "search", "url", "tel", "password"].includes(null == t ? void 0 : t.type) ? r = c(t.value, e) : (r = o()(t),s("copy")),r};function l(t) {return (l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {return typeof t}: function(t) {return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t})(t)}var d = function() {var t = void 0 === (r = (n = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}).action) ? "copy" : r, e = n.container, r = n.target, n = n.text;if ("copy" !== t && "cut" !== t)throw new Error('Invalid "action" value, use either "copy" or "cut"');if (void 0 !== r) {if (!r || "object" !== l(r) || 1 !== r.nodeType)throw new Error('Invalid "target" value, use a valid Element');if ("copy" === t && r.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if ("cut" === t && (r.hasAttribute("readonly") || r.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return n ? u(n, {container: e}) : r ? "cut" === t ? a(r) : u(r, {container: e}) : void 0};function f(t) {return (f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {return typeof t}: function(t) {return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t})(t)}function h(t, e) {for (var r = 0; r < e.length; r++) {var n = e[r];n.enumerable = n.enumerable || !1,n.configurable = !0,"value"in n && (n.writable = !0),Object.defineProperty(t, n.key, n)}}function p(t, e) {return (p = Object.setPrototypeOf || function(t, e) {return t.__proto__ = e,t})(t, e)}function g(t) {var e = function() {if ("undefined" == typeof Reflect || !Reflect.construct)return !1;if (Reflect.construct.sham)return !1;if ("function" == typeof Proxy)return !0;try {return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}))),!0} catch (t) {return !1}}();return function() {var r, n = m(t);return r = e ? (r = m(this).constructor,Reflect.construct(n, arguments, r)) : n.apply(this, arguments),n = this,!r || "object" !== f(r) && "function" != typeof r ? function(t) {if (void 0 !== t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n) : r}}function m(t) {return (m = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {return t.__proto__ || Object.getPrototypeOf(t)})(t)}function v(t, e) {if (t = "data-clipboard-".concat(t),e.hasAttribute(t))return e.getAttribute(t)}var y = function() {!function(t, e) {if ("function" != typeof e && null !== e)throw new TypeError("Super expression must either be null or a function");t.prototype = Object.create(e && e.prototype, {constructor: {value: t,writable: !0,configurable: !0}}),e && p(t, e)}(s, n());var t, e, r, o = g(s);function s(t, e) {var r;return function(t) {if (!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this),(r = o.call(this)).resolveOptions(e),r.listenClick(t),r}return t = s,r = [{key: "copy",value: function(t) {var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {container: document.body};return u(t, e)}}, {key: "cut",value: function(t) {return a(t)}}, {key: "isSupported",value: function() {var t = "string" == typeof (t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : ["copy", "cut"]) ? [t] : t, e = !!document.queryCommandSupported;return t.forEach((function(t) {e = e && !!document.queryCommandSupported(t)})),e}}],(e = [{key: "resolveOptions",value: function() {var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};this.action = "function" == typeof t.action ? t.action : this.defaultAction,this.target = "function" == typeof t.target ? t.target : this.defaultTarget,this.text = "function" == typeof t.text ? t.text : this.defaultText,this.container = "object" === f(t.container) ? t.container : document.body}}, {key: "listenClick",value: function(t) {var e = this;this.listener = i()(t, "click", (function(t) {return e.onClick(t)}))}}, {key: "onClick",value: function(t) {var e = t.delegateTarget || t.currentTarget, r = this.action(e) || "copy";t = d({action: r,container: this.container,target: this.target(e),text: this.text(e)}),this.emit(t ? "success" : "error", {action: r,text: t,trigger: e,clearSelection: function() {e && e.focus(),window.getSelection().removeAllRanges()}})}}, {key: "defaultAction",value: function(t) {return v("action", t)}}, {key: "defaultTarget",value: function(t) {if (t = v("target", t))return document.querySelector(t)}}, {key: "defaultText",value: function(t) {return v("text", t)}}, {key: "destroy",value: function() {this.listener.destroy()}}]) && h(t.prototype, e),r && h(t, r),s}()},828: function(t) {var e;"undefined" == typeof Element || Element.prototype.matches || ((e = Element.prototype).matches = e.matchesSelector || e.mozMatchesSelector || e.msMatchesSelector || e.oMatchesSelector || e.webkitMatchesSelector),t.exports = function(t, e) {for (; t && 9 !== t.nodeType; ) {if ("function" == typeof t.matches && t.matches(e))return t;t = t.parentNode}}},438: function(t, e, r) {var n = r(828);function i(t, e, r, i, o) {var s = function(t, e, r, i) {return function(r) {r.delegateTarget = n(r.target, e),r.delegateTarget && i.call(t, r)}}.apply(this, arguments);return t.addEventListener(r, s, o),{destroy: function() {t.removeEventListener(r, s, o)}}}t.exports = function(t, e, r, n, o) {return "function" == typeof t.addEventListener ? i.apply(null, arguments) : "function" == typeof r ? i.bind(null, document).apply(null, arguments) : ("string" == typeof t && (t = document.querySelectorAll(t)),Array.prototype.map.call(t, (function(t) {return i(t, e, r, n, o)})))}},879: function(t, e) {e.node = function(t) {return void 0 !== t && t instanceof HTMLElement && 1 === t.nodeType},e.nodeList = function(t) {var r = Object.prototype.toString.call(t);return void 0 !== t && ("[object NodeList]" === r || "[object HTMLCollection]" === r) && "length"in t && (0 === t.length || e.node(t[0]))},e.string = function(t) {return "string" == typeof t || t instanceof String},e.fn = function(t) {return "[object Function]" === Object.prototype.toString.call(t)}},370: function(t, e, r) {var n = r(879), i = r(438);t.exports = function(t, e, r) {if (!t && !e && !r)throw new Error("Missing required arguments");if (!n.string(e))throw new TypeError("Second argument must be a String");if (!n.fn(r))throw new TypeError("Third argument must be a Function");if (n.node(t))return u = e,l = r,(c = t).addEventListener(u, l),{destroy: function() {c.removeEventListener(u, l)}};if (n.nodeList(t))return o = t,s = e,a = r,Array.prototype.forEach.call(o, (function(t) {t.addEventListener(s, a)})),{destroy: function() {Array.prototype.forEach.call(o, (function(t) {t.removeEventListener(s, a)}))}};if (n.string(t))return i(document.body, t, e, r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o, s, a, c, u, l}},817: function(t) {t.exports = function(t) {var e, r = "SELECT" === t.nodeName ? (t.focus(),t.value) : "INPUT" === t.nodeName || "TEXTAREA" === t.nodeName ? ((e = t.hasAttribute("readonly")) || t.setAttribute("readonly", ""),t.select(),t.setSelectionRange(0, t.value.length),e || t.removeAttribute("readonly"),t.value) : (t.hasAttribute("contenteditable") && t.focus(),r = window.getSelection(),(e = document.createRange()).selectNodeContents(t),r.removeAllRanges(),r.addRange(e),r.toString());return r}},279: function(t) {function e() {}e.prototype = {on: function(t, e, r) {var n = this.e || (this.e = {});return (n[t] || (n[t] = [])).push({fn: e,ctx: r}),this},once: function(t, e, r) {var n = this;function i() {n.off(t, i),e.apply(r, arguments)}return i._ = e,this.on(t, i, r)},emit: function(t) {for (var e = [].slice.call(arguments, 1), r = ((this.e || (this.e = {}))[t] || []).slice(), n = 0, i = r.length; n < i; n++)r[n].fn.apply(r[n].ctx, e);return this},off: function(t, e) {var r = this.e || (this.e = {}), n = r[t], i = [];if (n && e)for (var o = 0, s = n.length; o < s; o++)n[o].fn !== e && n[o].fn._ !== e && i.push(n[o]);return i.length ? r[t] = i : delete r[t],this}},t.exports = e,t.exports.TinyEmitter = e}},r = {},t.n = function(e) {var r = e && e.__esModule ? function() {return e.default}: function() {return e};return t.d(r, {a: r}),r},t.d = function(e, r) {for (var n in r)t.o(r, n) && !t.o(e, n) && Object.defineProperty(e, n, {enumerable: !0,get: r[n]})},t.o = function(t, e) {return Object.prototype.hasOwnProperty.call(t, e)},t(686).default;function t(n) {if (r[n])return r[n].exports;var i = r[n] = {exports: {}};return e[n](i, i.exports, t),i.exports}var e, r}()},48412: function(t) {t.exports = function(t) {var e = {};function r(n) {if (e[n])return e[n].exports;var i = e[n] = {i: n,l: !1,exports: {}};return t[n].call(i.exports, i, i.exports, r),i.l = !0,i.exports}return r.m = t,r.c = e,r.d = function(t, e, n) {r.o(t, e) || Object.defineProperty(t, e, {enumerable: !0,get: n})},r.r = function(t) {"undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {value: "Module"}),Object.defineProperty(t, "__esModule", {value: !0})},r.t = function(t, e) {if (1 & e && (t = r(t)),8 & e)return t;if (4 & e && "object" == typeof t && t && t.__esModule)return t;var n = Object.create(null);if (r.r(n),Object.defineProperty(n, "default", {enumerable: !0,value: t}),2 & e && "string" != typeof t)for (var i in t)r.d(n, i, function(e) {return t[e]}.bind(null, i));return n},r.n = function(t) {var e = t && t.__esModule ? function() {return t.default}: function() {return t};return r.d(e, "a", e),e},r.o = function(t, e) {return Object.prototype.hasOwnProperty.call(t, e)},r.p = "/lib/",r(r.s = 149)}([function(t, e, r) {"use strict";var n = r(1), i = r(49), o = r(94), s = r(6), a = r(68).f, c = r(99), u = r(13), l = r(31), d = r(24), f = r(10);r(54);var h = function(t) {var e = function(r, n, o) {if (this instanceof e) {switch (arguments.length) {case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return i(t, this, arguments)};return e.prototype = t.prototype,e};t.exports = function(t, e) {var r, i, p, g, m, v, y, _, b, w = t.target, E = t.global, T = t.stat, S = t.proto, A = E ? n : T ? n[w] : n[w] && n[w].prototype, I = E ? u : u[w] || d(u, w, {})[w], x = I.prototype;for (g in e)i = !(r = c(E ? g : w + (T ? "." : "#") + g, t.forced)) && A && f(A, g),v = I[g],i && (y = t.dontCallGetSet ? (b = a(A, g)) && b.value : A[g]),m = i && y ? y : e[g],(r || S || typeof v != typeof m) && (_ = t.bind && i ? l(m, n) : t.wrap && i ? h(m) : S && s(m) ? o(m) : m,(t.sham || m && m.sham || v && v.sham) && d(_, "sham", !0),d(I, g, _),S && (f(u, p = w + "Prototype") || d(u, p, {}),d(u[p], g, m),t.real && x && (r || !x[g]) && d(x, g, m)))}}, function(t, e, r) {"use strict";(function(e) {var r = function(t) {return t && t.Math === Math && t};t.exports = r("object" == typeof globalThis && globalThis) || r("object" == typeof window && window) || r("object" == typeof self && self) || r("object" == typeof e && e) || r("object" == typeof this && this) || function() {return this}() || Function("return this")()}).call(this, r(158))}, function(t, e, r) {"use strict";var n = r(1), i = r(30), o = r(10), s = r(71), a = r(29), c = r(97), u = n.Symbol, l = i("wks"), d = c ? u.for || u : u && u.withoutSetter || s;t.exports = function(t) {return o(l, t) || (l[t] = a && o(u, t) ? u[t] : d("Symbol." + t)),l[t]}}, function(t, e, r) {"use strict";var n = r(50), i = Function.prototype, o = i.call, s = n && i.bind.bind(o, o);t.exports = n ? s : function(t) {return function() {return o.apply(t, arguments)}}}, function(t, e, r) {"use strict";var n = r(13), i = r(10), o = r(82), s = r(17).f;t.exports = function(t) {var e = n.Symbol || (n.Symbol = {});i(e, t) || s(e, t, {value: o.f(t)})}}, function(t, e, r) {"use strict";t.exports = function(t) {try {return !!t()} catch (t) {return !0}}}, function(t, e, r) {"use strict";var n = "object" == typeof document && document.all;t.exports = void 0 === n && void 0 !== n ? function(t) {return "function" == typeof t || t === n}: function(t) {return "function" == typeof t}}, function(t, e, r) {"use strict";var n = r(5);t.exports = !n((function() {return 7 !== Object.defineProperty({}, 1, {get: function() {return 7}})[1]}))}, function(t, e, r) {"use strict";var n = r(50), i = Function.prototype.call;t.exports = n ? i.bind(i) : function() {return i.apply(i, arguments)}}, function(t, e, r) {"use strict";var n = r(13), i = r(1), o = r(6), s = function(t) {return o(t) ? t : void 0};t.exports = function(t, e) {return arguments.length < 2 ? s(n[t]) || s(i[t]) : n[t] && n[t][e] || i[t] && i[t][e]}}, function(t, e, r) {"use strict";var n = r(3), i = r(27), o = n({}.hasOwnProperty);t.exports = Object.hasOwn || function(t, e) {return o(i(t), e)}}, function(t, e, r) {"use strict";var n = r(6);t.exports = function(t) {return "object" == typeof t ? null !== t : n(t)}}, function(t, e, r) {"use strict";var n = r(140), i = r(337), o = Object.prototype.toString;function s(t) {return "[object Array]" === o.call(t)}function a(t) {return null !== t && "object" == typeof t}function c(t) {return "[object Function]" === o.call(t)}function u(t, e) {if (null != t)if ("object" != typeof t && (t = [t]),s(t))for (var r = 0, n = t.length; r < n; r++)e.call(null, t[r], r, t);elsefor (var i in t)Object.prototype.hasOwnProperty.call(t, i) && e.call(null, t[i], i, t)}t.exports = {isArray: s,isArrayBuffer: function(t) {return "[object ArrayBuffer]" === o.call(t)},isBuffer: i,isFormData: function(t) {return "undefined" != typeof FormData && t instanceof FormData},isArrayBufferView: function(t) {return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(t) : t && t.buffer && t.buffer instanceof ArrayBuffer},isString: function(t) {return "string" == typeof t},isNumber: function(t) {return "number" == typeof t},isObject: a,isUndefined: function(t) {return void 0 === t},isDate: function(t) {return "[object Date]" === o.call(t)},isFile: function(t) {return "[object File]" === o.call(t)},isBlob: function(t) {return "[object Blob]" === o.call(t)},isFunction: c,isStream: function(t) {return a(t) && c(t.pipe)},isURLSearchParams: function(t) {return "undefined" != typeof URLSearchParams && t instanceof URLSearchParams},isStandardBrowserEnv: function() {return ("undefined" == typeof navigator || "ReactNative" !== navigator.product) && ("undefined" != typeof window && "undefined" != typeof document)},forEach: u,merge: function t() {var e = {};function r(r, n) {"object" == typeof e[n] && "object" == typeof r ? e[n] = t(e[n], r) : e[n] = r}for (var n = 0, i = arguments.length; n < i; n++)u(arguments[n], r);return e},extend: function(t, e, r) {return u(e, (function(e, i) {t[i] = r && "function" == typeof e ? n(e, r) : e})),t},trim: function(t) {return t.replace(/^\s*/, "").replace(/\s*$/, "")}}}, function(t, e, r) {"use strict";t.exports = {}}, function(t, e, r) {"use strict";var n = r(3);t.exports = n({}.isPrototypeOf)}, function(t, e, r) {"use strict";var n = r(6), i = r(44), o = TypeError;t.exports = function(t) {if (n(t))return t;throw new o(i(t) + " is not a function")}}, function(t, e, r) {"use strict";t.exports = !0}, function(t, e, r) {"use strict";var n = r(7), i = r(98), o = r(100), s = r(18), a = r(69), c = TypeError, u = Object.defineProperty, l = Object.getOwnPropertyDescriptor, d = "enumerable", f = "configurable", h = "writable";e.f = n ? o ? function(t, e, r) {if (s(t),e = a(e),s(r),"function" == typeof t && "prototype" === e && "value"in r && h in r && !r[h]) {var n = l(t, e);n && n[h] && (t[e] = r.value,r = {configurable: f in r ? r[f] : n[f],enumerable: d in r ? r[d] : n[d],writable: !1})}return u(t, e, r)}: u : function(t, e, r) {if (s(t),e = a(e),s(r),i)try {return u(t, e, r)} catch (t) {}if ("get"in r || "set"in r)throw new c("Accessors not supported");return "value"in r && (t[e] = r.value),t}}, function(t, e, r) {"use strict";var n = r(11), i = String, o = TypeError;t.exports = function(t) {if (n(t))return t;throw new o(i(t) + " is not an object")}}, function(t, e) {t.exports = function(t) {return t && t.__esModule ? t : {default: t}},t.exports.__esModule = !0,t.exports.default = t.exports}, function(t, e, r) {"use strict";var n = r(24);t.exports = function(t, e, r, i) {return i && i.enumerable ? t[e] = r : n(t, e, r),t}}, function(t, e, r) {"use strict";var n = r(15), i = TypeError, o = function(t) {var e, r;this.promise = new t((function(t, n) {if (void 0 !== e || void 0 !== r)throw new i("Bad Promise constructor");e = t,r = n})),this.resolve = n(e),this.reject = n(r)};t.exports.f = function(t) {return new o(t)}}, function(t, e, r) {"use strict";t.exports = function(t, e) {return {enumerable: !(1 & t),configurable: !(2 & t),writable: !(4 & t),value: e}}}, function(t, e, r) {"use strict";var n = r(96), i = r(51);t.exports = function(t) {return n(i(t))}}, function(t, e, r) {"use strict";var n = r(7), i = r(17), o = r(22);t.exports = n ? function(t, e, r) {return i.f(t, e, o(1, r))}: function(t, e, r) {return t[e] = r,t}}, function(t, e, r) {"use strict";var n = r(75), i = r(17).f, o = r(24), s = r(10), a = r(169), c = r(2)("toStringTag");t.exports = function(t, e, r, u) {var l = r ? t : t && t.prototype;l && (s(l, c) || i(l, c, {configurable: !0,value: e}),u && !n && o(l, "toString", a))}}, function(t, e, r) {"use strict";var n = r(3), i = n({}.toString), o = n("".slice);t.exports = function(t) {return o(i(t), 8, -1)}}, function(t, e, r) {"use strict";var n = r(51), i = Object;t.exports = function(t) {return i(n(t))}}, function(t, e, r) {"use strict";var n = r(34), i = String;t.exports = function(t) {if ("Symbol" === n(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}}, function(t, e, r) {"use strict";var n = r(53), i = r(5), o = r(1).String;t.exports = !!Object.getOwnPropertySymbols && !i((function() {var t = Symbol("symbol detection");return !o(t) || !(Object(t)instanceof Symbol) || !Symbol.sham && n && n < 41}))}, function(t, e, r) {"use strict";var n = r(54);t.exports = function(t, e) {return n[t] || (n[t] = e || {})}}, function(t, e, r) {"use strict";var n = r(94), i = r(15), o = r(50), s = n(n.bind);t.exports = function(t, e) {return i(t),void 0 === e ? t : o ? s(t, e) : function() {return t.apply(e, arguments)}}}, function(t, e, r) {"use strict";var n = r(26);t.exports = Array.isArray || function(t) {return "Array" === n(t)}}, function(t, e, r) {"use strict";var n = r(162);t.exports = function(t) {return n(t.length)}}, function(t, e, r) {"use strict";var n = r(75), i = r(6), o = r(26), s = r(2)("toStringTag"), a = Object, c = "Arguments" === o(function() {return arguments}());t.exports = n ? o : function(t) {var e, r, n;return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (r = function(t, e) {try {return t[e]} catch (t) {}}(e = a(t), s)) ? r : c ? o(e) : "Object" === (n = o(e)) && i(e.callee) ? "Arguments" : n}}, function(t, e, r) {"use strict";var n, i = r(18), o = r(106), s = r(78), a = r(55), c = r(109), u = r(72), l = r(56), d = "prototype", f = "script", h = l("IE_PROTO"), p = function() {}, g = function(t) {return "<" + f + ">" + t + "</" + f + ">"}, m = function(t) {t.write(g("")),t.close();var e = t.parentWindow.Object;return t = null,e}, v = function() {try {n = new ActiveXObject("htmlfile")} catch (t) {}var t, e, r;v = "undefined" != typeof document ? document.domain && n ? m(n) : (e = u("iframe"),r = "java" + f + ":",e.style.display = "none",c.appendChild(e),e.src = String(r),(t = e.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F) : m(n);for (var i = s.length; i--; )delete v[d][s[i]];return v()};a[h] = !0,t.exports = Object.create || function(t, e) {var r;return null !== t ? (p[d] = i(t),r = new p,p[d] = null,r[h] = t) : r = v(),void 0 === e ? r : o.f(r, e)}}, function(t, e, r) {"use strict";var n = r(3);t.exports = n([].slice)}, function(t, e, r) {"use strict";t.exports = {}}, function(t, e, r) {"use strict";var n = r(1), i = r(13);t.exports = function(t, e) {var r = i[t + "Prototype"], o = r && r[e];if (o)return o;var s = n[t], a = s && s.prototype;return a && a[e]}}, function(t, e, r) {"use strict";t.exports = function(t) {try {return {error: !1,value: t()}} catch (t) {return {error: !0,value: t}}}}, function(t, e, r) {"use strict";var n = r(1);t.exports = n.Promise}, function(t, e, r) {"use strict";function n(t, e, r, n, i, o, s, a) {var c, u = "function" == typeof t ? t.options : t;if (e && (u.render = e,u.staticRenderFns = r,u._compiled = !0),n && (u.functional = !0),o && (u._scopeId = "data-v-" + o),s ? (c = function(t) {(t = t || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) || "undefined" == typeof __VUE_SSR_CONTEXT__ || (t = __VUE_SSR_CONTEXT__),i && i.call(this, t),t && t._registeredComponents && t._registeredComponents.add(s)},u._ssrRegister = c) : i && (c = a ? function() {i.call(this, (u.functional ? this.parent : this).$root.$options.shadowRoot)}: i),c)if (u.functional) {u._injectStyles = c;var l = u.render;u.render = function(t, e) {return c.call(e),l(t, e)}} else {var d = u.beforeCreate;u.beforeCreate = d ? [].concat(d, c) : [c]}return {exports: t,options: u}}r.d(e, "a", (function() {return n}))}, function(t, e, r) {"use strict";var n = r(9), i = r(6), o = r(14), s = r(97), a = Object;t.exports = s ? function(t) {return "symbol" == typeof t}: function(t) {var e = n("Symbol");return i(e) && o(e.prototype, a(t))}}, function(t, e, r) {"use strict";var n = r(1).navigator, i = n && n.userAgent;t.exports = i ? String(i) : ""}, function(t, e, r) {"use strict";var n = String;t.exports = function(t) {try {return n(t)} catch (t) {return "Object"}}}, function(t, e, r) {"use strict";var n, i, o, s = r(170), a = r(1), c = r(11), u = r(24), l = r(10), d = r(54), f = r(56), h = r(55), p = "Object already initialized", g = a.TypeError, m = a.WeakMap;if (s || d.state) {var v = d.state || (d.state = new m);v.get = v.get,v.has = v.has,v.set = v.set,n = function(t, e) {if (v.has(t))throw new g(p);return e.facade = t,v.set(t, e),e},i = function(t) {return v.get(t) || {}},o = function(t) {return v.has(t)}} else {var y = f("state");h[y] = !0,n = function(t, e) {if (l(t, y))throw new g(p);return e.facade = t,u(t, y, e),e},i = function(t) {return l(t, y) ? t[y] : {}},o = function(t) {return l(t, y)}}t.exports = {set: n,get: i,has: o,enforce: function(t) {return o(t) ? i(t) : n(t, {})},getterFor: function(t) {return function(e) {var r;if (!c(e) || (r = i(e)).type !== t)throw new g("Incompatible receiver, " + t + " required");return r}}}}, function(t, e, r) {"use strict";var n = r(31), i = r(8), o = r(18), s = r(44), a = r(270), c = r(33), u = r(14), l = r(122), d = r(85), f = r(271), h = TypeError, p = function(t, e) {this.stopped = t,this.result = e}, g = p.prototype;t.exports = function(t, e, r) {var m, v, y, _, b, w, E, T = r && r.that, S = !(!r || !r.AS_ENTRIES), A = !(!r || !r.IS_RECORD), I = !(!r || !r.IS_ITERATOR), x = !(!r || !r.INTERRUPTED), L = n(e, T), k = function(t) {return m && f(m, "normal", t),new p(!0,t)}, R = function(t) {return S ? (o(t),x ? L(t[0], t[1], k) : L(t[0], t[1])) : x ? L(t, k) : L(t)};if (A)m = t.iterator;else if (I)m = t;else {if (!(v = d(t)))throw new h(s(t) + " is not iterable");if (a(v)) {for (y = 0,_ = c(t); _ > y; y++)if ((b = R(t[y])) && u(g, b))return b;return new p(!1)}m = l(t, v)}for (w = A ? t.next : m.next; !(E = i(w, m)).done; ) {try {b = R(E.value)} catch (t) {f(m, "throw", t)}if ("object" == typeof b && b && u(g, b))return b}return new p(!1)}}, function(t, e, r) {"use strict";var n = r(1), i = r(40), o = r(6), s = r(99), a = r(104), c = r(2), u = r(123), l = r(16), d = r(53), f = i && i.prototype, h = c("species"), p = !1, g = o(n.PromiseRejectionEvent), m = s("Promise", (function() {var t = a(i), e = t !== String(i);if (!e && 66 === d)return !0;if (l && (!f.catch || !f.finally))return !0;if (!d || d < 51 || !/native code/.test(t)) {var r = new i((function(t) {t(1)})), n = function(t) {t((function() {}), (function() {}))};if ((r.constructor = {})[h] = n,!(p = r.then((function() {}))instanceof n))return !0}return !(e || "BROWSER" !== u && "DENO" !== u || g)}));t.exports = {CONSTRUCTOR: m,REJECTION_EVENT: g,SUBCLASSING: p}}, function(t, e, r) {"use strict";t.exports = r(259)}, function(t, e, r) {"use strict";var n = r(50), i = Function.prototype, o = i.apply, s = i.call;t.exports = "object" == typeof Reflect && Reflect.apply || (n ? s.bind(o) : function() {return s.apply(o, arguments)})}, function(t, e, r) {"use strict";var n = r(5);t.exports = !n((function() {var t = function() {}.bind();return "function" != typeof t || t.hasOwnProperty("prototype")}))}, function(t, e, r) {"use strict";var n = r(52), i = TypeError;t.exports = function(t) {if (n(t))throw new i("Can't call method on " + t);return t}}, function(t, e, r) {"use strict";t.exports = function(t) {return null == t}}, function(t, e, r) {"use strict";var n, i, o = r(1), s = r(43), a = o.process, c = o.Deno, u = a && a.versions || c && c.version, l = u && u.v8;l && (i = (n = l.split("."))[0] > 0 && n[0] < 4 ? 1 : +(n[0] + n[1])),!i && s && (!(n = s.match(/Edge\/(\d+)/)) || n[1] >= 74) && (n = s.match(/Chrome\/(\d+)/)) && (i = +n[1]),t.exports = i}, function(t, e, r) {"use strict";var n = r(16), i = r(1), o = r(161), s = "__core-js_shared__", a = t.exports = i[s] || o(s, {});(a.versions || (a.versions = [])).push({version: "3.40.0",mode: n ? "pure" : "global",copyright: "© 2014-2025 Denis Pushkarev (zloirock.ru)",license: "https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source: "https://github.com/zloirock/core-js"})}, function(t, e, r) {"use strict";t.exports = {}}, function(t, e, r) {"use strict";var n = r(30), i = r(71), o = n("keys");t.exports = function(t) {return o[t] || (o[t] = i(t))}}, function(t, e, r) {"use strict";r(58);var n = r(196), i = r(1), o = r(25), s = r(37);for (var a in n)o(i[a], a),s[a] = s.Array}, function(t, e, r) {"use strict";var n = r(23), i = r(113), o = r(37), s = r(45), a = r(17).f, c = r(114), u = r(84), l = r(16), d = r(7), f = "Array Iterator", h = s.set, p = s.getterFor(f);t.exports = c(Array, "Array", (function(t, e) {h(this, {type: f,target: n(t),index: 0,kind: e})}), (function() {var t = p(this), e = t.target, r = t.index++;if (!e || r >= e.length)return t.target = null,u(void 0, !0);switch (t.kind) {case "keys":return u(r, !1);case "values":return u(e[r], !1)}return u([r, e[r]], !1)}), "values");var g = o.Arguments = o.Array;if (i("keys"),i("values"),i("entries"),!l && d && "values" !== g.name)try {a(g, "name", {value: "values"})} catch (t) {}}, function(t, e, r) {"use strict";var n = r(10), i = r(6), o = r(27), s = r(56), a = r(117), c = s("IE_PROTO"), u = Object, l = u.prototype;t.exports = a ? u.getPrototypeOf : function(t) {var e = o(t);if (n(e, c))return e[c];var r = e.constructor;return i(r) && e instanceof r ? r.prototype : e instanceof u ? l : null}}, function(t, e, r) {"use strict";var n = r(193), i = r(11), o = r(51), s = r(194);t.exports = Object.setPrototypeOf || ("__proto__"in {} ? function() {var t, e = !1, r = {};try {(t = n(Object.prototype, "__proto__", "set"))(r, []),e = r instanceof Array} catch (t) {}return function(r, n) {return o(r),s(n),i(r) ? (e ? t(r, n) : r.__proto__ = n,r) : r}}() : void 0)}, function(t, e, r) {"use strict";var n = r(40), i = r(282), o = r(47).CONSTRUCTOR;t.exports = o || !i((function(t) {n.all(t).then(void 0, (function() {}))}))}, function(t, e, r) {"use strict";r.r(e);var n = r(63), i = r.n(n);for (var o in n)["default"].indexOf(o) < 0 && function(t) {r.d(e, t, (function() {return n[t]}))}(o);e.default = i.a}, function(t, e, r) {"use strict";var n = r(19);Object.defineProperty(e, "__esModule", {value: !0}),e.default = void 0;var i = n(r(91)), o = n(r(307)), s = n(r(136)), a = n(r(329)), c = n(r(137)), u = n(r(138));e.default = {name: "minortimer",data: function() {return {timer: 600,showTimer: "",isshow: !1}},props: {show: {type: Boolean,default: !0}},computed: {},watch: {},mounted: function() {this.init()},methods: {draggableevent: function() {var t, e, r = document.getElementById("draggableTimerDiv"), n = !1;function i(i) {if (i.target !== r.querySelector(".close")) {n = !0;var o = "mousedown" === i.type ? i.clientY : i.touches[0].clientY;t = o,e = parseInt(getComputedStyle(r).top, 10),i.preventDefault()}}function o(i) {if (n) {var o = "mousemove" === i.type ? i.clientY : i.touches[0].clientY, s = e + (o - t), a = window.innerHeight - r.offsetHeight;s = Math.min(a, Math.max(0, s)),r.style.top = "".concat(s, "px")}}function s() {n = !1}r.addEventListener("mousedown", i),document.addEventListener("mousemove", o),document.addEventListener("mouseup", s),r.addEventListener("touchstart", i),document.addEventListener("touchmove", o),document.addEventListener("touchend", s)},init: function() {var t = this;return (0,c.default)(i.default.mark((function e() {var r, n, a, c, l, d, f, h;return i.default.wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:if (e.prev = 0,!((a = new o.default(location.search).get("ceweichengnianmoshi")) && a > 10)) {e.next = 8;break}return t.timer = 1 * a,t.isshow = !0,t.$nextTick((function() {t.draggableevent()})),t.formattimers(),e.abrupt("return", !1);case 8:e.next = 13;break;case 10:e.prev = 10,e.t0 = e.catch(0);case 13:if (c = window.navigator.userAgent.toLowerCase() || "",l = window.location.href,!(c.indexOf("leadeon") > -1 || c.indexOf("mggamesdk") > -1 || l.indexOf("android") > -1)) {e.next = 18;break}return e.abrupt("return", !1);case 18:return e.next = 20,u.default.getH5SysParamInfo({code: "MinorAccessTimeControl"});case 20:if (d = e.sent,f = d.data.resultData,h = (0,s.default)(f).call(f, (function(t) {return "MinorAccessTimeControl" === t.code})),null !== (r = h) && void 0 !== r && r.value) {e.next = 26;break}return e.abrupt("return");case 26:h = JSON.parse(null === (n = h) || void 0 === n ? void 0 : n.value),u.default.queryTeenModeStatus({}).then((function(e) {var r = e.data.resultData;1 === r.status && (r.countDownTime && "" !== r.countDownTime && 0 !== r.countDownTime || t.handleClose(),r.countDownTime < h.endTimer && (t.timer = r.countDownTime,t.isshow = !0,t.$nextTick((function() {t.draggableevent()})),t.formattimers()))}));case 28:case "end":return e.stop()}}), e, null, [[0, 10]])})))()},formattimers: function() {var t = this, e = this.timer;setInterval((function() {var r;if (--e < 0)return t.handleClose(),!1;var n = Math.floor(e / 60), i = e % 60, o = i < 10 ? "0".concat(i) : i;t.showTimer = (0,a.default)(r = "".concat(n, ":")).call(r, o)}), 1e3)},handleCloseNow: function() {window.sessionStorage.setItem("teenagerSettingGobackUrl", window.location.href),window.location.href = "/middleh5/teenagerSetting?closeNow=1"},handleClose: function() {window.sessionStorage.setItem("teenagerSettingGobackUrl", window.location.href),window.location.href = "/middleh5/teenagerSetting?limitType=5"}}}}, function(t, e, r) {"use strict";r.r(e);var n = r(65), i = r.n(n);for (var o in n)["default"].indexOf(o) < 0 && function(t) {r.d(e, t, (function() {return n[t]}))}(o);e.default = i.a}, function(t, e, r) {"use strict";var n = r(19);Object.defineProperty(e, "__esModule", {value: !0}),e.default = void 0;var i = n(r(361));e.default = {name: "mgvideo",data: function() {return {hlsInstance: null}},props: {src: {type: String,default: ""}},computed: {},watch: {},mounted: function() {this.initVideoPlayer()},methods: {initVideoPlayer: function() {var t = this.$refs.videoPlayer;i.default.isSupported() ? (this.hlsInstance = new i.default,this.hlsInstance.loadSource(this.src),this.hlsInstance.attachMedia(t),this.hlsInstance.on(i.default.Events.MANIFEST_PARSED, (function() {t.play()}))) : t.canPlayType("application/vnd.apple.mpegurl") && (t.src = this.src,t.addEventListener("loadedmetadata", (function() {t.play()}))),t.addEventListener("click", (function() {t.play().catch((function(t) {}))})),document.addEventListener("visibilitychange", (function() {document.hidden ? t.pause() : t.muted = !0}))},handlePlay: function() {},destroyHlsPlayer: function() {this.hlsInstance && (this.hlsInstance.destroy(),this.hlsInstance = null);var t = this.$refs.videoPlayer;t.muted = !0,t.pause()}},beforeDestroy: function() {this.destroyHlsPlayer()}}}, function(t, e, r) {"use strict";r.r(e);var n = r(67), i = r.n(n);for (var o in n)["default"].indexOf(o) < 0 && function(t) {r.d(e, t, (function() {return n[t]}))}(o);e.default = i.a}, function(t, e, r) {"use strict";var n = r(19);Object.defineProperty(e, "__esModule", {value: !0}),e.default = void 0;var i = n(r(136)), o = n(r(91)), s = n(r(137)), a = n(r(138));e.default = {name: "minorStayTime",data: function() {return {}},computed: {},watch: {},mounted: function() {this.init()},methods: {init: function() {var t = this;return (0,s.default)(o.default.mark((function e() {var r, n;return o.default.wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:if (r = window.navigator.userAgent.toLowerCase() || "",n = window.location.href,!(r.indexOf("leadeon") > -1 || r.indexOf("mggamesdk") > -1 || n.indexOf("android") > -1)) {e.next = 5;break}return e.abrupt("return", !1);case 5:a.default.queryTeenModeStatus({}).then((function(e) {1 === e.data.resultData.status ? t.loopTimer() : localStorage.removeItem("minorStayTime")}));case 6:case "end":return e.stop()}}), e)})))()},loopTimer: function() {var t = this;return (0,s.default)(o.default.mark((function e() {var r, n, s;return o.default.wrap((function(e) {for (; ; )switch (e.prev = e.next) {case 0:return e.next = 2,a.default.getH5SysParamInfo({code: "MinorAccessTimeControl"});case 2:r = e.sent,n = r.data.resultData,s = (0,i.default)(n).call(n, (function(t) {return "MinorAccessTimeControl" === t.code})),s = JSON.parse(s.value),setInterval((function() {var e = localStorage.getItem("minorStayTime");e = 1 * e + 1,localStorage.setItem("minorStayTime", e),e > s.controlTimer && t.goCheckPass()}), 1e3);case 7:case "end":return e.stop()}}), e)})))()},goCheckPass: function() {-1 === window.location.href.indexOf("teenagerSetting") && (window.sessionStorage.setItem("teenagerSettingGobackUrl", window.location.href),window.location.href = "/middleh5/teenagerSetting?isRenewal=1")}}}}, function(t, e, r) {"use strict";var n = r(7), i = r(8), o = r(95), s = r(22), a = r(23), c = r(69), u = r(10), l = r(98), d = Object.getOwnPropertyDescriptor;e.f = n ? d : function(t, e) {if (t = a(t),e = c(e),l)try {return d(t, e)} catch (t) {}if (u(t, e))return s(!i(o.f, t, e), t[e])}}, function(t, e, r) {"use strict";var n = r(159), i = r(42);t.exports = function(t) {var e = n(t, "string");return i(e) ? e : e + ""}}, function(t, e, r) {"use strict";var n = r(15), i = r(52);t.exports = function(t, e) {var r = t[e];return i(r) ? void 0 : n(r)}}, function(t, e, r) {"use strict";var n = r(3), i = 0, o = Math.random(), s = n(1..toString);t.exports = function(t) {return "Symbol(" + (void 0 === t ? "" : t) + ")_" + s(++i + o, 36)}}, function(t, e, r) {"use strict";var n = r(1), i = r(11), o = n.document, s = i(o) && i(o.createElement);t.exports = function(t) {return s ? o.createElement(t) : {}}}, function(t, e, r) {"use strict";var n = r(163);t.exports = function(t) {var e = +t;return e != e || 0 === e ? 0 : n(e)}}, function(t, e, r) {"use strict";var n = r(3), i = r(5), o = r(6), s = r(34), a = r(9), c = r(104), u = function() {}, l = a("Reflect", "construct"), d = /^\s*(?:class|function)\b/, f = n(d.exec), h = !d.test(u), p = function(t) {if (!o(t))return !1;try {return l(u, [], t),!0} catch (t) {return !1}}, g = function(t) {if (!o(t))return !1;switch (s(t)) {case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return !1}try {return h || !!f(d, c(t))} catch (t) {return !0}};g.sham = !0,t.exports = !l || i((function() {var t;return p(p.call) || !p(Object) || !p((function() {t = !0})) || t})) ? g : p}, function(t, e, r) {"use strict";var n = {};n[r(2)("toStringTag")] = "z",t.exports = "[object z]" === String(n)}, function(t, e) {}, function(t, e, r) {"use strict";var n = r(73), i = Math.max, o = Math.min;t.exports = function(t, e) {var r = n(t);return r < 0 ? i(r + e, 0) : o(r, e)}}, function(t, e, r) {"use strict";t.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"]}, function(t, e, r) {"use strict";var n = r(108), i = r(78).concat("length", "prototype");e.f = Object.getOwnPropertyNames || function(t) {return n(t, i)}}, function(t, e, r) {"use strict";e.f = Object.getOwnPropertySymbols}, function(t, e, r) {"use strict";var n = r(17);t.exports = function(t, e, r) {return n.f(t, e, r)}}, function(t, e, r) {"use strict";var n = r(2);e.f = n}, function(t, e, r) {"use strict";var n = r(31), i = r(3), o = r(96), s = r(27), a = r(33), c = r(103), u = i([].push), l = function(t) {var e = 1 === t, r = 2 === t, i = 3 === t, l = 4 === t, d = 6 === t, f = 7 === t, h = 5 === t || d;return function(p, g, m, v) {for (var y, _, b = s(p), w = o(b), E = a(w), T = n(g, m), S = 0, A = v || c, I = e ? A(p, E) : r || f ? A(p, 0) : void 0; E > S; S++)if ((h || S in w) && (_ = T(y = w[S], S, b),t))if (e)I[S] = _;else if (_)switch (t) {case 3:return !0;case 5:return y;case 6:return S;case 2:u(I, y)}elseswitch (t) {case 4:return !1;case 7:u(I, y)}return d ? -1 : i || l ? l : I}};t.exports = {forEach: l(0),map: l(1),filter: l(2),some: l(3),every: l(4),find: l(5),findIndex: l(6),filterReject: l(7)}}, function(t, e, r) {"use strict";t.exports = function(t, e) {return {value: t,done: e}}}, function(t, e, r) {"use strict";var n = r(34), i = r(70), o = r(52), s = r(37), a = r(2)("iterator");t.exports = function(t) {if (!o(t))return i(t, a) || i(t, "@@iterator") || s[n(t)]}}, function(t, e, r) {"use strict";var n = r(123);t.exports = "NODE" === n}, function(t, e, r) {"use strict";(function(e) {var n = r(12), i = r(340), o = {"Content-Type": "application/x-www-form-urlencoded"};function s(t, e) {!n.isUndefined(t) && n.isUndefined(t["Content-Type"]) && (t["Content-Type"] = e)}var a, c = {adapter: (("undefined" != typeof XMLHttpRequest || void 0 !== e) && (a = r(141)),a),transformRequest: [function(t, e) {return i(e, "Content-Type"),n.isFormData(t) || n.isArrayBuffer(t) || n.isBuffer(t) || n.isStream(t) || n.isFile(t) || n.isBlob(t) ? t : n.isArrayBufferView(t) ? t.buffer : n.isURLSearchParams(t) ? (s(e, "application/x-www-form-urlencoded;charset=utf-8"),t.toString()) : n.isObject(t) ? (s(e, "application/json;charset=utf-8"),JSON.stringify(t)) : t}],transformResponse: [function(t) {if ("string" == typeof t)try {t = JSON.parse(t)} catch (t) {}return t}],timeout: 0,xsrfCookieName: "XSRF-TOKEN",xsrfHeaderName: "X-XSRF-TOKEN",maxContentLength: -1,validateStatus: function(t) {return t >= 200 && t < 300}};c.headers = {common: {Accept: "application/json, text/plain, */*"}},n.forEach(["delete", "get", "head"], (function(t) {c.headers[t] = {}})),n.forEach(["post", "put", "patch"], (function(t) {c.headers[t] = n.merge(o)})),t.exports = c}).call(this, r(339))}, function(t, e, r) {"use strict";r.d(e, "a", (function() {return n})),r.d(e, "b", (function() {return i}));var n = function() {var t = this, e = t._self._c;return t.isshow ? e("div", {staticClass: "timerFloat",attrs: {id: "draggableTimerDiv"}}, [e("div", {staticClass: "timesbox"}, [t._v("\n  服务时间倒计时\n  "), e("span", {staticClass: "times"}, [t._v(t._s(t.showTimer))])]), t._v(" "), e("div", {staticClass: "close",on: {click: t.handleCloseNow}}, [t._v("\n  关闭未成年模式\n")])]) : t._e()}, i = [];n._withStripped = !0}, function(t, e, r) {"use strict";r.d(e, "a", (function() {return n})),r.d(e, "b", (function() {return i}));var n = function() {return (0,this._self._c)("video", {ref: "videoPlayer",attrs: {width: "100%"},on: {play: this.handlePlay}})}, i = [];n._withStripped = !0}, function(t, e, r) {"use strict";r.d(e, "a", (function() {return n})),r.d(e, "b", (function() {return i}));var n = function() {return (0,this._self._c)("div")}, i = [];n._withStripped = !0}, function(t, e, r) {var n = r(152)();t.exports = n;try {regeneratorRuntime = n} catch (t) {"object" == typeof globalThis ? globalThis.regeneratorRuntime = n : Function("r", "regeneratorRuntime = r")(n)}}, function(t, e, r) {"use strict";t.exports = r(154)}, function(t, e, r) {"use strict";var n = r(0), i = r(5), o = r(32), s = r(11), a = r(27), c = r(33), u = r(101), l = r(102), d = r(103), f = r(105), h = r(2), p = r(53), g = h("isConcatSpreadable"), m = p >= 51 || !i((function() {var t = [];return t[g] = !1,t.concat()[0] !== t})), v = function(t) {if (!s(t))return !1;var e = t[g];return void 0 !== e ? !!e : o(t)};n({target: "Array",proto: !0,arity: 1,forced: !m || !f("concat")}, {concat: function(t) {var e, r, n, i, o, s = a(this), f = d(s, 0), h = 0;for (e = -1,n = arguments.length; e < n; e++)if (v(o = -1 === e ? s : arguments[e]))for (i = c(o),u(h + i),r = 0; r < i; r++,h++)r in o && l(f, h, o[r]);elseu(h + 1),l(f, h++, o);return f.length = h,f}})}, function(t, e, r) {"use strict";var n = r(26), i = r(3);t.exports = function(t) {if ("Function" === n(t))return i(t)}}, function(t, e, r) {"use strict";var n = {}.propertyIsEnumerable, i = Object.getOwnPropertyDescriptor, o = i && !n.call({1: 2}, 1);e.f = o ? function(t) {var e = i(this, t);return !!e && e.enumerable}: n}, function(t, e, r) {"use strict";var n = r(3), i = r(5), o = r(26), s = Object, a = n("".split);t.exports = i((function() {return !s("z").propertyIsEnumerable(0)})) ? function(t) {return "String" === o(t) ? a(t, "") : s(t)}: s}, function(t, e, r) {"use strict";var n = r(29);t.exports = n && !Symbol.sham && "symbol" == typeof Symbol.iterator}, function(t, e, r) {"use strict";var n = r(7), i = r(5), o = r(72);t.exports = !n && !i((function() {return 7 !== Object.defineProperty(o("div"), "a", {get: function() {return 7}}).a}))}, function(t, e, r) {"use strict";var n = r(5), i = r(6), o = /#|\.prototype\./, s = function(t, e) {var r = c[a(t)];return r === l || r !== u && (i(e) ? n(e) : !!e)}, a = s.normalize = function(t) {return String(t).replace(o, ".").toLowerCase()}, c = s.data = {}, u = s.NATIVE = "N", l = s.POLYFILL = "P";t.exports = s}, function(t, e, r) {"use strict";var n = r(7), i = r(5);t.exports = n && i((function() {return 42 !== Object.defineProperty((function() {}), "prototype", {value: 42,writable: !1}).prototype}))}, function(t, e, r) {"use strict";var n = TypeError;t.exports = function(t) {if (t > 9007199254740991)throw n("Maximum allowed index exceeded");return t}}, function(t, e, r) {"use strict";var n = r(7), i = r(17), o = r(22);t.exports = function(t, e, r) {n ? i.f(t, e, o(0, r)) : t[e] = r}}, function(t, e, r) {"use strict";var n = r(164);t.exports = function(t, e) {return new (n(t))(0 === e ? 0 : e)}}, function(t, e, r) {"use strict";var n = r(3), i = r(6), o = r(54), s = n(Function.toString);i(o.inspectSource) || (o.inspectSource = function(t) {return s(t)}),t.exports = o.inspectSource}, function(t, e, r) {"use strict";var n = r(5), i = r(2), o = r(53), s = i("species");t.exports = function(t) {return o >= 51 || !n((function() {var e = [];return (e.constructor = {})[s] = function() {return {foo: 1}},1 !== e[t](Boolean).foo}))}}, function(t, e, r) {"use strict";var n = r(7), i = r(100), o = r(17), s = r(18), a = r(23), c = r(107);e.f = n && !i ? Object.defineProperties : function(t, e) {s(t);for (var r, n = a(e), i = c(e), u = i.length, l = 0; u > l; )o.f(t, r = i[l++], n[r]);return t}}, function(t, e, r) {"use strict";var n = r(108), i = r(78);t.exports = Object.keys || function(t) {return n(t, i)}}, function(t, e, r) {"use strict";var n = r(3), i = r(10), o = r(23), s = r(167).indexOf, a = r(55), c = n([].push);t.exports = function(t, e) {var r, n = o(t), u = 0, l = [];for (r in n)!i(a, r) && i(n, r) && c(l, r);for (; e.length > u; )i(n, r = e[u++]) && (~s(l, r) || c(l, r));return l}}, function(t, e, r) {"use strict";var n = r(9);t.exports = n("document", "documentElement")}, function(t, e, r) {"use strict";var n = r(8), i = r(9), o = r(2), s = r(20);t.exports = function() {var t = i("Symbol"), e = t && t.prototype, r = e && e.valueOf, a = o("toPrimitive");e && !e[a] && s(e, a, (function(t) {return n(r, this)}), {arity: 1})}}, function(t, e, r) {"use strict";var n = r(29);t.exports = n && !!Symbol.for && !!Symbol.keyFor}, function(t, e, r) {"use strict";r(4)("iterator")}, function(t, e, r) {"use strict";t.exports = function() {}}, function(t, e, r) {"use strict";var n = r(0), i = r(8), o = r(16), s = r(192), a = r(6), c = r(115), u = r(59), l = r(60), d = r(25), f = r(24), h = r(20), p = r(2), g = r(37), m = r(116), v = s.PROPER, y = s.CONFIGURABLE, _ = m.IteratorPrototype, b = m.BUGGY_SAFARI_ITERATORS, w = p("iterator"), E = "keys", T = "values", S = "entries", A = function() {return this};t.exports = function(t, e, r, s, p, m, I) {c(r, e, s);var x, L, k, R = function(t) {if (t === p && M)return M;if (!b && t && t in D)return D[t];switch (t) {case E:case T:case S:return function() {return new r(this,t)}}return function() {return new r(this)}}, C = e + " Iterator", P = !1, D = t.prototype, O = D[w] || D["@@iterator"] || p && D[p], M = !b && O || R(p), U = "Array" === e && D.entries || O;if (U && (x = u(U.call(new t))) !== Object.prototype && x.next && (o || u(x) === _ || (l ? l(x, _) : a(x[w]) || h(x, w, A)),d(x, C, !0, !0),o && (g[C] = A)),v && p === T && O && O.name !== T && (!o && y ? f(D, "name", T) : (P = !0,M = function() {return i(O, this)})),p)if (L = {values: R(T),keys: m ? M : R(E),entries: R(S)},I)for (k in L)(b || P || !(k in D)) && h(D, k, L[k]);elsen({target: e,proto: !0,forced: b || P}, L);return o && !I || D[w] === M || h(D, w, M, {name: p}),g[e] = M,L}}, function(t, e, r) {"use strict";var n = r(116).IteratorPrototype, i = r(35), o = r(22), s = r(25), a = r(37), c = function() {return this};t.exports = function(t, e, r, u) {var l = e + " Iterator";return t.prototype = i(n, {next: o(+!u, r)}),s(t, l, !1, !0),a[l] = c,t}}, function(t, e, r) {"use strict";var n, i, o, s = r(5), a = r(6), c = r(11), u = r(35), l = r(59), d = r(20), f = r(2), h = r(16), p = f("iterator"), g = !1;[].keys && ("next"in (o = [].keys()) ? (i = l(l(o))) !== Object.prototype && (n = i) : g = !0),!c(n) || s((function() {var t = {};return n[p].call(t) !== t})) ? n = {} : h && (n = u(n)),a(n[p]) || d(n, p, (function() {return this})),t.exports = {IteratorPrototype: n,BUGGY_SAFARI_ITERATORS: g}}, function(t, e, r) {"use strict";var n = r(5);t.exports = !n((function() {function t() {}return t.prototype.constructor = null,Object.getPrototypeOf(new t) !== t.prototype}))}, function(t, e, r) {"use strict";var n = r(9), i = r(3), o = n("Symbol"), s = o.keyFor, a = i(o.prototype.valueOf);t.exports = o.isRegisteredSymbol || function(t) {try {return void 0 !== s(a(t))} catch (t) {return !1}}}, function(t, e, r) {"use strict";for (var n = r(30), i = r(9), o = r(3), s = r(42), a = r(2), c = i("Symbol"), u = c.isWellKnownSymbol, l = i("Object", "getOwnPropertyNames"), d = o(c.prototype.valueOf), f = n("wks"), h = 0, p = l(c), g = p.length; h < g; h++)try {var m = p[h];s(c[m]) && a(m)} catch (t) {}t.exports = function(t) {if (u && u(t))return !0;try {for (var e = d(t), r = 0, n = l(f), i = n.length; r < i; r++)if (f[n[r]] == e)return !0} catch (t) {}return !1}}, function(t, e, r) {"use strict";var n = r(216).charAt, i = r(28), o = r(45), s = r(114), a = r(84), c = "String Iterator", u = o.set, l = o.getterFor(c);s(String, "String", (function(t) {u(this, {type: c,string: i(t),index: 0})}), (function() {var t, e = l(this), r = e.string, i = e.index;return i >= r.length ? a(void 0, !0) : (t = n(r, i),e.index += t.length,a(t, !1))}))}, function(t, e, r) {"use strict";r(263)}, function(t, e, r) {"use strict";var n = r(8), i = r(15), o = r(18), s = r(44), a = r(85), c = TypeError;t.exports = function(t, e) {var r = arguments.length < 2 ? a(t) : e;if (i(r))return o(n(r, t));throw new c(s(t) + " is not iterable")}}, function(t, e, r) {"use strict";var n = r(1), i = r(43), o = r(26), s = function(t) {return i.slice(0, t.length) === t};t.exports = s("Bun/") ? "BUN" : s("Cloudflare-Workers") ? "CLOUDFLARE" : s("Deno/") ? "DENO" : s("Node.js/") ? "NODE" : n.Bun && "string" == typeof Bun.version ? "BUN" : n.Deno && "object" == typeof Deno.version ? "DENO" : "process" === o(n.process) ? "NODE" : n.window && n.document ? "BROWSER" : "REST"}, function(t, e, r) {"use strict";var n = r(14), i = TypeError;t.exports = function(t, e) {if (n(e, t))return t;throw new i("Incorrect invocation")}}, function(t, e, r) {"use strict";var n = r(18), i = r(276), o = r(52), s = r(2)("species");t.exports = function(t, e) {var r, a = n(t).constructor;return void 0 === a || o(r = n(a)[s]) ? e : i(r)}}, function(t, e, r) {"use strict";var n, i, o, s, a = r(1), c = r(49), u = r(31), l = r(6), d = r(10), f = r(5), h = r(109), p = r(36), g = r(72), m = r(127), v = r(128), y = r(86), _ = a.setImmediate, b = a.clearImmediate, w = a.process, E = a.Dispatch, T = a.Function, S = a.MessageChannel, A = a.String, I = 0, x = {}, L = "onreadystatechange";f((function() {n = a.location}));var k = function(t) {if (d(x, t)) {var e = x[t];delete x[t],e()}}, R = function(t) {return function() {k(t)}}, C = function(t) {k(t.data)}, P = function(t) {a.postMessage(A(t), n.protocol + "//" + n.host)};_ && b || (_ = function(t) {m(arguments.length, 1);var e = l(t) ? t : T(t), r = p(arguments, 1);return x[++I] = function() {c(e, void 0, r)},i(I),I},b = function(t) {delete x[t]},y ? i = function(t) {w.nextTick(R(t))}: E && E.now ? i = function(t) {E.now(R(t))}: S && !v ? (s = (o = new S).port2,o.port1.onmessage = C,i = u(s.postMessage, s)) : a.addEventListener && l(a.postMessage) && !a.importScripts && n && "file:" !== n.protocol && !f(P) ? (i = P,a.addEventListener("message", C, !1)) : i = L in g("script") ? function(t) {h.appendChild(g("script"))[L] = function() {h.removeChild(this),k(t)}}: function(t) {setTimeout(R(t), 0)}),t.exports = {set: _,clear: b}}, function(t, e, r) {"use strict";var n = TypeError;t.exports = function(t, e) {if (t < e)throw new n("Not enough arguments");return t}}, function(t, e, r) {"use strict";var n = r(43);t.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(n)}, function(t, e, r) {"use strict";var n = r(1), i = r(7), o = Object.getOwnPropertyDescriptor;t.exports = function(t) {if (!i)return n[t];var e = o(n, t);return e && e.value}}, function(t, e, r) {"use strict";var n = function() {this.head = null,this.tail = null};n.prototype = {add: function(t) {var e = {item: t,next: null}, r = this.tail;r ? r.next = e : this.head = e,this.tail = e},get: function() {var t = this.head;if (t)return null === (this.head = t.next) && (this.tail = null),t.item}},t.exports = n}, function(t, e, r) {"use strict";var n = r(18), i = r(11), o = r(21);t.exports = function(t, e) {if (n(t),i(e) && e.constructor === t)return e;var r = o.f(t);return (0,r.resolve)(e),r.promise}}, function(t, e, r) {"use strict";var n = r(0), i = r(8), o = r(15), s = r(21), a = r(39), c = r(46);n({target: "Promise",stat: !0,forced: r(61)}, {allSettled: function(t) {var e = this, r = s.f(e), n = r.resolve, u = r.reject, l = a((function() {var r = o(e.resolve), s = [], a = 0, u = 1;c(t, (function(t) {var o = a++, c = !1;u++,i(r, e, t).then((function(t) {c || (c = !0,s[o] = {status: "fulfilled",value: t},--u || n(s))}), (function(t) {c || (c = !0,s[o] = {status: "rejected",reason: t},--u || n(s))}))})),--u || n(s)}));return l.error && u(l.value),r.promise}})}, function(t, e, r) {"use strict";var n = r(0), i = r(8), o = r(15), s = r(9), a = r(21), c = r(39), u = r(46), l = r(61), d = "No one promise resolved";n({target: "Promise",stat: !0,forced: l}, {any: function(t) {var e = this, r = s("AggregateError"), n = a.f(e), l = n.resolve, f = n.reject, h = c((function() {var n = o(e.resolve), s = [], a = 0, c = 1, h = !1;u(t, (function(t) {var o = a++, u = !1;c++,i(n, e, t).then((function(t) {u || h || (h = !0,l(t))}), (function(t) {u || h || (u = !0,s[o] = t,--c || f(new r(s,d)))}))})),--c || f(new r(s,d))}));return h.error && f(h.value),n.promise}})}, function(t, e, r) {"use strict";var n = r(0), i = r(1), o = r(49), s = r(36), a = r(21), c = r(15), u = r(39), l = i.Promise, d = !1;n({target: "Promise",stat: !0,forced: !l || !l.try || u((function() {l.try((function(t) {d = 8 === t}), 8)})).error || !d}, {try: function(t) {var e = arguments.length > 1 ? s(arguments, 1) : [], r = a.f(this), n = u((function() {return o(c(t), void 0, e)}));return (n.error ? r.reject : r.resolve)(n.value),r.promise}})}, function(t, e, r) {"use strict";var n = r(0), i = r(21);n({target: "Promise",stat: !0}, {withResolvers: function() {var t = i.f(this);return {promise: t.promise,resolve: t.resolve,reject: t.reject}}})}, function(t, e, r) {t.exports = r(322)}, function(t, e, r) {"use strict";r.r(e),r.d(e, "default", (function() {return s}));var n = r(48), i = r.n(n);function o(t, e, r, n, o, s, a) {try {var c = t[s](a), u = c.value} catch (t) {return void r(t)}c.done ? e(u) : i.a.resolve(u).then(n, o)}function s(t) {return function() {var e = this, r = arguments;return new i.a((function(n, i) {var s = t.apply(e, r);function a(t) {o(s, n, i, a, c, "next", t)}function c(t) {o(s, n, i, a, c, "throw", t)}a(void 0)}))}}}, function(t, e, r) {"use strict";var n = r(19);Object.defineProperty(e, "__esModule", {value: !0}),e.default = void 0;n(r(139));var i, o = n(r(354)), s = n(r(356)), a = window.location.href;i = a.indexOf("h5test") > -1 || a.indexOf("localhost") > -1 ? s.default.development.baseURL : s.default.production.baseURL;var c = {appType: 9,appChannel: "zy-gw-mghy",userId: localStorage.getItem("userId") || 0,userToken: localStorage.getItem("userToken") || 0}, u = {queryTeenModeStatus: function(t) {var e = i + "live/teenagerMode/v1.1.2.2/queryTeenModeStatus";return o.default.post(e, t, {headers: c})},getH5SysParamInfo: function(t) {var e = i + "distribute/mdh5SysParamController/v1.0.5.4/getH5SysParamInfo";return o.default.post(e, t, {headers: c})}};e.default = u}, function(t, e, r) {t.exports = r(336)}, function(t, e, r) {"use strict";t.exports = function(t, e) {return function() {for (var r = new Array(arguments.length), n = 0; n < r.length; n++)r[n] = arguments[n];return t.apply(e, r)}}}, function(t, e, r) {"use strict";var n = r(12), i = r(341), o = r(343), s = r(344), a = r(345), c = r(142);t.exports = function(t) {return new Promise((function(e, u) {var l = t.data, d = t.headers;n.isFormData(l) && delete d["Content-Type"];var f = new XMLHttpRequest;if (t.auth) {var h = t.auth.username || "", p = t.auth.password || "";d.Authorization = "Basic " + btoa(h + ":" + p)}if (f.open(t.method.toUpperCase(), o(t.url, t.params, t.paramsSerializer), !0),f.timeout = t.timeout,f.onreadystatechange = function() {if (f && 4 === f.readyState && (0 !== f.status || f.responseURL && 0 === f.responseURL.indexOf("file:"))) {var r = "getAllResponseHeaders"in f ? s(f.getAllResponseHeaders()) : null, n = {data: t.responseType && "text" !== t.responseType ? f.response : f.responseText,status: f.status,statusText: f.statusText,headers: r,config: t,request: f};i(e, u, n),f = null}},f.onerror = function() {u(c("Network Error", t, null, f)),f = null},f.ontimeout = function() {u(c("timeout of " + t.timeout + "ms exceeded", t, "ECONNABORTED", f)),f = null},n.isStandardBrowserEnv()) {var g = r(346), m = (t.withCredentials || a(t.url)) && t.xsrfCookieName ? g.read(t.xsrfCookieName) : void 0;m && (d[t.xsrfHeaderName] = m)}if ("setRequestHeader"in f && n.forEach(d, (function(t, e) {void 0 === l && "content-type" === e.toLowerCase() ? delete d[e] : f.setRequestHeader(e, t)})),t.withCredentials && (f.withCredentials = !0),t.responseType)try {f.responseType = t.responseType} catch (e) {if ("json" !== t.responseType)throw e}"function" == typeof t.onDownloadProgress && f.addEventListener("progress", t.onDownloadProgress),"function" == typeof t.onUploadProgress && f.upload && f.upload.addEventListener("progress", t.onUploadProgress),t.cancelToken && t.cancelToken.promise.then((function(t) {f && (f.abort(),u(t),f = null)})),void 0 === l && (l = null),f.send(l)}))}}, function(t, e, r) {"use strict";var n = r(342);t.exports = function(t, e, r, i, o) {var s = new Error(t);return n(s, e, r, i, o)}}, function(t, e, r) {"use strict";t.exports = function(t) {return !(!t || !t.__CANCEL__)}}, function(t, e, r) {"use strict";function n(t) {this.message = t}n.prototype.toString = function() {return "Cancel" + (this.message ? ": " + this.message : "")},n.prototype.__CANCEL__ = !0,t.exports = n}, function(t, e, r) {var n = r(358);n.__esModule && (n = n.default),"string" == typeof n && (n = [[t.i, n, ""]]),n.locals && (t.exports = n.locals);(0,r(148).default)("aebdbff2", n, !1, {})}, function(t, e, r) {"use strict";t.exports = function(t) {var e = [];return e.toString = function() {return this.map((function(e) {var r = function(t, e) {var r = t[1] || "", n = t[3];if (!n)return r;if (e && "function" == typeof btoa) {var i = (s = n,a = btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c, " */")), o = n.sources.map((function(t) {return "/*# sourceURL=".concat(n.sourceRoot || "").concat(t, " */")}));return [r].concat(o).concat([i]).join("\n")}var s, a, c;return [r].join("\n")}(e, t);return e[2] ? "@media ".concat(e[2], " {").concat(r, "}") : r})).join("")},e.i = function(t, r, n) {"string" == typeof t && (t = [[null, t, ""]]);var i = {};if (n)for (var o = 0; o < this.length; o++) {var s = this[o][0];null != s && (i[s] = !0)}for (var a = 0; a < t.length; a++) {var c = [].concat(t[a]);n && i[c[0]] || (r && (c[2] ? c[2] = "".concat(r, " and ").concat(c[2]) : c[2] = r),e.push(c))}},e}}, function(t, e, r) {var n = r(365);n.__esModule && (n = n.default),"string" == typeof n && (n = [[t.i, n, ""]]),n.locals && (t.exports = n.locals);(0,r(148).default)("c4f1ccb6", n, !1, {})}, function(t, e, r) {"use strict";function n(t, e) {for (var r = [], n = {}, i = 0; i < e.length; i++) {var o = e[i], s = o[0], a = {id: t + ":" + i,css: o[1],media: o[2],sourceMap: o[3]};n[s] ? n[s].parts.push(a) : r.push(n[s] = {id: s,parts: [a]})}return r}r.r(e),r.d(e, "default", (function() {return p}));var i = "undefined" != typeof document;if ("undefined" != typeof DEBUG && DEBUG && !i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o = {}, s = i && (document.head || document.getElementsByTagName("head")[0]), a = null, c = 0, u = !1, l = function() {}, d = null, f = "data-vue-ssr-id", h = "undefined" != typeof navigator && /msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t, e, r, i) {u = r,d = i || {};var s = n(t, e);return g(s),function(e) {for (var r = [], i = 0; i < s.length; i++) {var a = s[i];(c = o[a.id]).refs--,r.push(c)}e ? g(s = n(t, e)) : s = [];for (i = 0; i < r.length; i++) {var c;if (0 === (c = r[i]).refs) {for (var u = 0; u < c.parts.length; u++)c.parts[u]();delete o[c.id]}}}}function g(t) {for (var e = 0; e < t.length; e++) {var r = t[e], n = o[r.id];if (n) {n.refs++;for (var i = 0; i < n.parts.length; i++)n.parts[i](r.parts[i]);for (; i < r.parts.length; i++)n.parts.push(v(r.parts[i]));n.parts.length > r.parts.length && (n.parts.length = r.parts.length)} else {var s = [];for (i = 0; i < r.parts.length; i++)s.push(v(r.parts[i]));o[r.id] = {id: r.id,refs: 1,parts: s}}}}function m() {var t = document.createElement("style");return t.type = "text/css",s.appendChild(t),t}function v(t) {var e, r, n = document.querySelector("style[" + f + '~="' + t.id + '"]');if (n) {if (u)return l;n.parentNode.removeChild(n)}if (h) {var i = c++;n = a || (a = m()),e = b.bind(null, n, i, !1),r = b.bind(null, n, i, !0)} elsen = m(),e = w.bind(null, n),r = function() {n.parentNode.removeChild(n)};return e(t),function(n) {if (n) {if (n.css === t.css && n.media === t.media && n.sourceMap === t.sourceMap)return;e(t = n)} elser()}}var y, _ = (y = [],function(t, e) {return y[t] = e,y.filter(Boolean).join("\n")});function b(t, e, r, n) {var i = r ? "" : n.css;if (t.styleSheet)t.styleSheet.cssText = _(e, i);else {var o = document.createTextNode(i), s = t.childNodes;s[e] && t.removeChild(s[e]),s.length ? t.insertBefore(o, s[e]) : t.appendChild(o)}}function w(t, e) {var r = e.css, n = e.media, i = e.sourceMap;if (n && t.setAttribute("media", n),d.ssrId && t.setAttribute(f, e.id),i && (r += "\n/*# sourceURL=" + i.sources[0] + " */",r += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(i)))) + " */"),t.styleSheet)t.styleSheet.cssText = r;else {for (; t.firstChild; )t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}}, function(t, e, r) {"use strict";var n = r(19);Object.defineProperty(e, "__esModule", {value: !0}),e.default = void 0;var i = n(r(150)), o = n(r(359)), s = n(r(362)), a = [i.default, o.default, s.default], c = function(t, e) {a.forEach((function(e) {t.component(e.name, e)}))};"undefined" != typeof window && window.Vue && c(window.Vue);e.default = {install: c,minortimer: i.default,mgvideo: o.default,minorStayTime: s.default}}, function(t, e, r) {"use strict";var n = r(19);Object.defineProperty(e, "__esModule", {value: !0}),e.default = void 0;var i = n(r(151));i.default.install = function(t) {t.component(i.default.name, i.default)};e.default = i.default}, function(t, e, r) {"use strict";r.r(e);var n = r(88), i = r(62);for (var o in i)["default"].indexOf(o) < 0 && function(t) {r.d(e, t, (function() {return i[t]}))}(o);r(357);var s = r(41), a = Object(s.a)(i.default, n.a, n.b, !1, null, "4690daeb", null);e.default = a.exports}, function(t, e, r) {var n = r(153).default, i = r(217), o = r(92), s = r(223), a = r(229), c = r(235), u = r(245), l = r(253), d = r(48), f = r(293), h = r(300);function p() {"use strict";t.exports = p = function() {return r},t.exports.__esModule = !0,t.exports.default = t.exports;var e, r = {}, g = Object.prototype, m = g.hasOwnProperty, v = i || function(t, e, r) {t[e] = r.value}, y = "function" == typeof o ? o : {}, _ = y.iterator || "@@iterator", b = y.asyncIterator || "@@asyncIterator", w = y.toStringTag || "@@toStringTag";function E(t, e, r) {return i(t, e, {value: r,enumerable: !0,configurable: !0,writable: !0}),t[e]}try {E({}, "")} catch (e) {E = function(t, e, r) {return t[e] = r}}function T(t, e, r, n) {var i = e && e.prototype instanceof R ? e : R, o = s(i.prototype), a = new H(n || []);return v(o, "_invoke", {value: N(t, r, a)}),o}function S(t, e, r) {try {return {type: "normal",arg: t.call(e, r)}} catch (t) {return {type: "throw",arg: t}}}r.wrap = T;var A = "suspendedStart", I = "suspendedYield", x = "executing", L = "completed", k = {};function R() {}function C() {}function P() {}var D = {};E(D, _, (function() {return this}));var O = a && a(a(G([])));O && O !== g && m.call(O, _) && (D = O);var M = P.prototype = R.prototype = s(D);function U(t) {var e;c(e = ["next", "throw", "return"]).call(e, (function(e) {E(t, e, (function(t) {return this._invoke(e, t)}))}))}function F(t, e) {function r(i, o, s, a) {var c = S(t[i], t, o);if ("throw" !== c.type) {var u = c.arg, l = u.value;return l && "object" == n(l) && m.call(l, "__await") ? e.resolve(l.__await).then((function(t) {r("next", t, s, a)}), (function(t) {r("throw", t, s, a)})) : e.resolve(l).then((function(t) {u.value = t,s(u)}), (function(t) {return r("throw", t, s, a)}))}a(c.arg)}var i;v(this, "_invoke", {value: function(t, n) {function o() {return new e((function(e, i) {r(t, n, e, i)}))}return i = i ? i.then(o, o) : o()}})}function N(t, r, n) {var i = A;return function(o, s) {if (i === x)throw Error("Generator is already running");if (i === L) {if ("throw" === o)throw s;return {value: e,done: !0}}for (n.method = o,n.arg = s; ; ) {var a = n.delegate;if (a) {var c = B(a, n);if (c) {if (c === k)continue;return c}}if ("next" === n.method)n.sent = n._sent = n.arg;else if ("throw" === n.method) {if (i === A)throw i = L,n.arg;n.dispatchException(n.arg)} else"return" === n.method && n.abrupt("return", n.arg);i = x;var u = S(t, r, n);if ("normal" === u.type) {if (i = n.done ? L : I,u.arg === k)continue;return {value: u.arg,done: n.done}}"throw" === u.type && (i = L,n.method = "throw",n.arg = u.arg)}}}function B(t, r) {var n = r.method, i = t.iterator[n];if (i === e)return r.delegate = null,"throw" === n && t.iterator.return && (r.method = "return",r.arg = e,B(t, r),"throw" === r.method) || "return" !== n && (r.method = "throw",r.arg = new TypeError("The iterator does not provide a '" + n + "' method")),k;var o = S(i, t.iterator, r.arg);if ("throw" === o.type)return r.method = "throw",r.arg = o.arg,r.delegate = null,k;var s = o.arg;return s ? s.done ? (r[t.resultName] = s.value,r.next = t.nextLoc,"return" !== r.method && (r.method = "next",r.arg = e),r.delegate = null,k) : s : (r.method = "throw",r.arg = new TypeError("iterator result is not an object"),r.delegate = null,k)}function j(t) {var e, r = {tryLoc: t[0]};1 in t && (r.catchLoc = t[1]),2 in t && (r.finallyLoc = t[2],r.afterLoc = t[3]),u(e = this.tryEntries).call(e, r)}function $(t) {var e = t.completion || {};e.type = "normal",delete e.arg,t.completion = e}function H(t) {this.tryEntries = [{tryLoc: "root"}],c(t).call(t, j, this),this.reset(!0)}function G(t) {if (t || "" === t) {var r = t[_];if (r)return r.call(t);if ("function" == typeof t.next)return t;if (!isNaN(t.length)) {var i = -1, o = function r() {for (; ++i < t.length; )if (m.call(t, i))return r.value = t[i],r.done = !1,r;return r.value = e,r.done = !0,r};return o.next = o}}throw new TypeError(n(t) + " is not iterable")}return C.prototype = P,v(M, "constructor", {value: P,configurable: !0}),v(P, "constructor", {value: C,configurable: !0}),C.displayName = E(P, w, "GeneratorFunction"),r.isGeneratorFunction = function(t) {var e = "function" == typeof t && t.constructor;return !!e && (e === C || "GeneratorFunction" === (e.displayName || e.name))},r.mark = function(t) {return l ? l(t, P) : (t.__proto__ = P,E(t, w, "GeneratorFunction")),t.prototype = s(M),t},r.awrap = function(t) {return {__await: t}},U(F.prototype),E(F.prototype, b, (function() {return this})),r.AsyncIterator = F,r.async = function(t, e, n, i, o) {void 0 === o && (o = d);var s = new F(T(t, e, n, i),o);return r.isGeneratorFunction(e) ? s : s.next().then((function(t) {return t.done ? t.value : s.next()}))},U(M),E(M, w, "Generator"),E(M, _, (function() {return this})),E(M, "toString", (function() {return "[object Generator]"})),r.keys = function(t) {var e = Object(t), r = [];for (var n in e)u(r).call(r, n);return f(r).call(r),function t() {for (; r.length; ) {var n = r.pop();if (n in e)return t.value = n,t.done = !1,t}return t.done = !0,t}},r.values = G,H.prototype = {constructor: H,reset: function(t) {var r;if (this.prev = 0,this.next = 0,this.sent = this._sent = e,this.done = !1,this.delegate = null,this.method = "next",this.arg = e,c(r = this.tryEntries).call(r, $),!t)for (var n in this)"t" === n.charAt(0) && m.call(this, n) && !isNaN(+h(n).call(n, 1)) && (this[n] = e)},stop: function() {this.done = !0;var t = this.tryEntries[0].completion;if ("throw" === t.type)throw t.arg;return this.rval},dispatchException: function(t) {if (this.done)throw t;var r = this;function n(n, i) {return s.type = "throw",s.arg = t,r.next = n,i && (r.method = "next",r.arg = e),!!i}for (var i = this.tryEntries.length - 1; i >= 0; --i) {var o = this.tryEntries[i], s = o.completion;if ("root" === o.tryLoc)return n("end");if (o.tryLoc <= this.prev) {var a = m.call(o, "catchLoc"), c = m.call(o, "finallyLoc");if (a && c) {if (this.prev < o.catchLoc)return n(o.catchLoc, !0);if (this.prev < o.finallyLoc)return n(o.finallyLoc)} else if (a) {if (this.prev < o.catchLoc)return n(o.catchLoc, !0)} else {if (!c)throw Error("try statement without catch or finally");if (this.prev < o.finallyLoc)return n(o.finallyLoc)}}}},abrupt: function(t, e) {for (var r = this.tryEntries.length - 1; r >= 0; --r) {var n = this.tryEntries[r];if (n.tryLoc <= this.prev && m.call(n, "finallyLoc") && this.prev < n.finallyLoc) {var i = n;break}}i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);var o = i ? i.completion : {};return o.type = t,o.arg = e,i ? (this.method = "next",this.next = i.finallyLoc,k) : this.complete(o)},complete: function(t, e) {if ("throw" === t.type)throw t.arg;return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg,this.method = "return",this.next = "end") : "normal" === t.type && e && (this.next = e),k},finish: function(t) {for (var e = this.tryEntries.length - 1; e >= 0; --e) {var r = this.tryEntries[e];if (r.finallyLoc === t)return this.complete(r.completion, r.afterLoc),$(r),k}},catch: function(t) {for (var e = this.tryEntries.length - 1; e >= 0; --e) {var r = this.tryEntries[e];if (r.tryLoc === t) {var n = r.completion;if ("throw" === n.type) {var i = n.arg;$(r)}return i}}throw Error("illegal catch attempt")},delegateYield: function(t, r, n) {return this.delegate = {iterator: G(t),resultName: r,nextLoc: n},"next" === this.method && (this.arg = e),k}},r}t.exports = p,t.exports.__esModule = !0,t.exports.default = t.exports}, function(t, e, r) {var n = r(92), i = r(211);function o(e) {return t.exports = o = "function" == typeof n && "symbol" == typeof i ? function(t) {return typeof t}: function(t) {return t && "function" == typeof n && t.constructor === n && t !== n.prototype ? "symbol" : typeof t},t.exports.__esModule = !0,t.exports.default = t.exports,o(e)}t.exports = o,t.exports.__esModule = !0,t.exports.default = t.exports}, function(t, e, r) {"use strict";var n = r(155);r(201),r(202),r(203),r(204),r(205),r(206),r(207),r(208),r(209),r(210),t.exports = n}, function(t, e, r) {"use strict";var n = r(156);r(197),r(198),r(199),r(200),t.exports = n}, function(t, e, r) {"use strict";var n = r(157);r(57),t.exports = n}, function(t, e, r) {"use strict";r(93),r(76),r(165),r(176),r(177),r(178),r(179),r(112),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(190),r(191);var n = r(13);t.exports = n.Symbol}, function(t, e) {var r;r = function() {return this}();try {r = r || new Function("return this")()} catch (t) {"object" == typeof window && (r = window)}t.exports = r}, function(t, e, r) {"use strict";var n = r(8), i = r(11), o = r(42), s = r(70), a = r(160), c = r(2), u = TypeError, l = c("toPrimitive");t.exports = function(t, e) {if (!i(t) || o(t))return t;var r, c = s(t, l);if (c) {if (void 0 === e && (e = "default"),r = n(c, t, e),!i(r) || o(r))return r;throw new u("Can't convert object to primitive value")}return void 0 === e && (e = "number"),a(t, e)}}, function(t, e, r) {"use strict";var n = r(8), i = r(6), o = r(11), s = TypeError;t.exports = function(t, e) {var r, a;if ("string" === e && i(r = t.toString) && !o(a = n(r, t)))return a;if (i(r = t.valueOf) && !o(a = n(r, t)))return a;if ("string" !== e && i(r = t.toString) && !o(a = n(r, t)))return a;throw new s("Can't convert object to primitive value")}}, function(t, e, r) {"use strict";var n = r(1), i = Object.defineProperty;t.exports = function(t, e) {try {i(n, t, {value: e,configurable: !0,writable: !0})} catch (r) {n[t] = e}return e}}, function(t, e, r) {"use strict";var n = r(73), i = Math.min;t.exports = function(t) {var e = n(t);return e > 0 ? i(e, 9007199254740991) : 0}}, function(t, e, r) {"use strict";var n = Math.ceil, i = Math.floor;t.exports = Math.trunc || function(t) {var e = +t;return (e > 0 ? i : n)(e)}}, function(t, e, r) {"use strict";var n = r(32), i = r(74), o = r(11), s = r(2)("species"), a = Array;t.exports = function(t) {var e;return n(t) && (e = t.constructor,(i(e) && (e === a || n(e.prototype)) || o(e) && null === (e = e[s])) && (e = void 0)),void 0 === e ? a : e}}, function(t, e, r) {"use strict";r(166),r(171),r(172),r(173),r(175)}, function(t, e, r) {"use strict";var n = r(0), i = r(1), o = r(8), s = r(3), a = r(16), c = r(7), u = r(29), l = r(5), d = r(10), f = r(14), h = r(18), p = r(23), g = r(69), m = r(28), v = r(22), y = r(35), _ = r(107), b = r(79), w = r(168), E = r(80), T = r(68), S = r(17), A = r(106), I = r(95), x = r(20), L = r(81), k = r(30), R = r(56), C = r(55), P = r(71), D = r(2), O = r(82), M = r(4), U = r(110), F = r(25), N = r(45), B = r(83).forEach, j = R("hidden"), $ = "Symbol", H = "prototype", G = N.set, K = N.getterFor($), q = Object[H], W = i.Symbol, V = W && W[H], z = i.RangeError, Y = i.TypeError, Q = i.QObject, X = T.f, J = S.f, Z = w.f, tt = I.f, et = s([].push), rt = k("symbols"), nt = k("op-symbols"), it = k("wks"), ot = !Q || !Q[H] || !Q[H].findChild, st = function(t, e, r) {var n = X(q, e);n && delete q[e],J(t, e, r),n && t !== q && J(q, e, n)}, at = c && l((function() {return 7 !== y(J({}, "a", {get: function() {return J(this, "a", {value: 7}).a}})).a})) ? st : J, ct = function(t, e) {var r = rt[t] = y(V);return G(r, {type: $,tag: t,description: e}),c || (r.description = e),r}, ut = function(t, e, r) {t === q && ut(nt, e, r),h(t);var n = g(e);return h(r),d(rt, n) ? (r.enumerable ? (d(t, j) && t[j][n] && (t[j][n] = !1),r = y(r, {enumerable: v(0, !1)})) : (d(t, j) || J(t, j, v(1, y(null))),t[j][n] = !0),at(t, n, r)) : J(t, n, r)}, lt = function(t, e) {h(t);var r = p(e), n = _(r).concat(pt(r));return B(n, (function(e) {c && !o(dt, r, e) || ut(t, e, r[e])})),t}, dt = function(t) {var e = g(t), r = o(tt, this, e);return !(this === q && d(rt, e) && !d(nt, e)) && (!(r || !d(this, e) || !d(rt, e) || d(this, j) && this[j][e]) || r)}, ft = function(t, e) {var r = p(t), n = g(e);if (r !== q || !d(rt, n) || d(nt, n)) {var i = X(r, n);return !i || !d(rt, n) || d(r, j) && r[j][n] || (i.enumerable = !0),i}}, ht = function(t) {var e = Z(p(t)), r = [];return B(e, (function(t) {d(rt, t) || d(C, t) || et(r, t)})),r}, pt = function(t) {var e = t === q, r = Z(e ? nt : p(t)), n = [];return B(r, (function(t) {!d(rt, t) || e && !d(q, t) || et(n, rt[t])})),n};u || (W = function() {if (f(V, this))throw new Y("Symbol is not a constructor");var t = arguments.length && void 0 !== arguments[0] ? m(arguments[0]) : void 0, e = P(t), r = function(t) {var n = void 0 === this ? i : this;n === q && o(r, nt, t),d(n, j) && d(n[j], e) && (n[j][e] = !1);var s = v(1, t);try {at(n, e, s)} catch (t) {if (!(t instanceof z))throw t;st(n, e, s)}};return c && ot && at(q, e, {configurable: !0,set: r}),ct(e, t)},x(V = W[H], "toString", (function() {return K(this).tag})),x(W, "withoutSetter", (function(t) {return ct(P(t), t)})),I.f = dt,S.f = ut,A.f = lt,T.f = ft,b.f = w.f = ht,E.f = pt,O.f = function(t) {return ct(D(t), t)},c && (L(V, "description", {configurable: !0,get: function() {return K(this).description}}),a || x(q, "propertyIsEnumerable", dt, {unsafe: !0}))),n({global: !0,constructor: !0,wrap: !0,forced: !u,sham: !u}, {Symbol: W}),B(_(it), (function(t) {M(t)})),n({target: $,stat: !0,forced: !u}, {useSetter: function() {ot = !0},useSimple: function() {ot = !1}}),n({target: "Object",stat: !0,forced: !u,sham: !c}, {create: function(t, e) {return void 0 === e ? y(t) : lt(y(t), e)},defineProperty: ut,defineProperties: lt,getOwnPropertyDescriptor: ft}),n({target: "Object",stat: !0,forced: !u}, {getOwnPropertyNames: ht}),U(),F(W, $),C[j] = !0}, function(t, e, r) {"use strict";var n = r(23), i = r(77), o = r(33), s = function(t) {return function(e, r, s) {var a = n(e), c = o(a);if (0 === c)return !t && -1;var u, l = i(s, c);if (t && r != r) {for (; c > l; )if ((u = a[l++]) != u)return !0} elsefor (; c > l; l++)if ((t || l in a) && a[l] === r)return t || l || 0;return !t && -1}};t.exports = {includes: s(!0),indexOf: s(!1)}}, function(t, e, r) {"use strict";var n = r(26), i = r(23), o = r(79).f, s = r(36), a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];t.exports.f = function(t) {return a && "Window" === n(t) ? function(t) {try {return o(t)} catch (t) {return s(a)}}(t) : o(i(t))}}, function(t, e, r) {"use strict";var n = r(75), i = r(34);t.exports = n ? {}.toString : function() {return "[object " + i(this) + "]"}}, function(t, e, r) {"use strict";var n = r(1), i = r(6), o = n.WeakMap;t.exports = i(o) && /native code/.test(String(o))}, function(t, e, r) {"use strict";var n = r(0), i = r(9), o = r(10), s = r(28), a = r(30), c = r(111), u = a("string-to-symbol-registry"), l = a("symbol-to-string-registry");n({target: "Symbol",stat: !0,forced: !c}, {for: function(t) {var e = s(t);if (o(u, e))return u[e];var r = i("Symbol")(e);return u[e] = r,l[r] = e,r}})}, function(t, e, r) {"use strict";var n = r(0), i = r(10), o = r(42), s = r(44), a = r(30), c = r(111), u = a("symbol-to-string-registry");n({target: "Symbol",stat: !0,forced: !c}, {keyFor: function(t) {if (!o(t))throw new TypeError(s(t) + " is not a symbol");if (i(u, t))return u[t]}})}, function(t, e, r) {"use strict";var n = r(0), i = r(9), o = r(49), s = r(8), a = r(3), c = r(5), u = r(6), l = r(42), d = r(36), f = r(174), h = r(29), p = String, g = i("JSON", "stringify"), m = a(/./.exec), v = a("".charAt), y = a("".charCodeAt), _ = a("".replace), b = a(1..toString), w = /[\uD800-\uDFFF]/g, E = /^[\uD800-\uDBFF]$/, T = /^[\uDC00-\uDFFF]$/, S = !h || c((function() {var t = i("Symbol")("stringify detection");return "[null]" !== g([t]) || "{}" !== g({a: t}) || "{}" !== g(Object(t))})), A = c((function() {return '"\\udf06\\ud834"' !== g("\udf06\ud834") || '"\\udead"' !== g("\udead")})), I = function(t, e) {var r = d(arguments), n = f(e);if (u(n) || void 0 !== t && !l(t))return r[1] = function(t, e) {if (u(n) && (e = s(n, this, p(t), e)),!l(e))return e},o(g, null, r)}, x = function(t, e, r) {var n = v(r, e - 1), i = v(r, e + 1);return m(E, t) && !m(T, i) || m(T, t) && !m(E, n) ? "\\u" + b(y(t, 0), 16) : t};g && n({target: "JSON",stat: !0,arity: 3,forced: S || A}, {stringify: function(t, e, r) {var n = d(arguments), i = o(S ? I : g, null, n);return A && "string" == typeof i ? _(i, w, x) : i}})}, function(t, e, r) {"use strict";var n = r(3), i = r(32), o = r(6), s = r(26), a = r(28), c = n([].push);t.exports = function(t) {if (o(t))return t;if (i(t)) {for (var e = t.length, r = [], n = 0; n < e; n++) {var u = t[n];"string" == typeof u ? c(r, u) : "number" != typeof u && "Number" !== s(u) && "String" !== s(u) || c(r, a(u))}var l = r.length, d = !0;return function(t, e) {if (d)return d = !1,e;if (i(this))return e;for (var n = 0; n < l; n++)if (r[n] === t)return e}}}}, function(t, e, r) {"use strict";var n = r(0), i = r(29), o = r(5), s = r(80), a = r(27);n({target: "Object",stat: !0,forced: !i || o((function() {s.f(1)}))}, {getOwnPropertySymbols: function(t) {var e = s.f;return e ? e(a(t)) : []}})}, function(t, e, r) {"use strict";r(4)("asyncIterator")}, function(t, e) {}, function(t, e, r) {"use strict";r(4)("hasInstance")}, function(t, e, r) {"use strict";r(4)("isConcatSpreadable")}, function(t, e, r) {"use strict";r(4)("match")}, function(t, e, r) {"use strict";r(4)("matchAll")}, function(t, e, r) {"use strict";r(4)("replace")}, function(t, e, r) {"use strict";r(4)("search")}, function(t, e, r) {"use strict";r(4)("species")}, function(t, e, r) {"use strict";r(4)("split")}, function(t, e, r) {"use strict";var n = r(4), i = r(110);n("toPrimitive"),i()}, function(t, e, r) {"use strict";var n = r(9), i = r(4), o = r(25);i("toStringTag"),o(n("Symbol"), "Symbol")}, function(t, e, r) {"use strict";r(4)("unscopables")}, function(t, e, r) {"use strict";var n = r(1);r(25)(n.JSON, "JSON", !0)}, function(t, e) {}, function(t, e) {}, function(t, e, r) {"use strict";var n = r(7), i = r(10), o = Function.prototype, s = n && Object.getOwnPropertyDescriptor, a = i(o, "name"), c = a && "something" === function() {}.name, u = a && (!n || n && s(o, "name").configurable);t.exports = {EXISTS: a,PROPER: c,CONFIGURABLE: u}}, function(t, e, r) {"use strict";var n = r(3), i = r(15);t.exports = function(t, e, r) {try {return n(i(Object.getOwnPropertyDescriptor(t, e)[r]))} catch (t) {}}}, function(t, e, r) {"use strict";var n = r(195), i = String, o = TypeError;t.exports = function(t) {if (n(t))return t;throw new o("Can't set " + i(t) + " as a prototype")}}, function(t, e, r) {"use strict";var n = r(11);t.exports = function(t) {return n(t) || null === t}}, function(t, e, r) {"use strict";t.exports = {CSSRuleList: 0,CSSStyleDeclaration: 0,CSSValueList: 0,ClientRectList: 0,DOMRectList: 0,DOMStringList: 0,DOMTokenList: 1,DataTransferItemList: 0,FileList: 0,HTMLAllCollection: 0,HTMLCollection: 0,HTMLFormElement: 0,HTMLSelectElement: 0,MediaList: 0,MimeTypeArray: 0,NamedNodeMap: 0,NodeList: 1,PaintRequestList: 0,Plugin: 0,PluginArray: 0,SVGLengthList: 0,SVGNumberList: 0,SVGPathSegList: 0,SVGPointList: 0,SVGStringList: 0,SVGTransformList: 0,SourceBufferList: 0,StyleSheetList: 0,TextTrackCueList: 0,TextTrackList: 0,TouchList: 0}}, function(t, e, r) {"use strict";var n = r(2), i = r(17).f, o = n("metadata"), s = Function.prototype;void 0 === s[o] && i(s, o, {value: null})}, function(t, e, r) {"use strict";r(4)("asyncDispose")}, function(t, e, r) {"use strict";r(4)("dispose")}, function(t, e, r) {"use strict";r(4)("metadata")}, function(t, e, r) {"use strict";r(0)({target: "Symbol",stat: !0}, {isRegisteredSymbol: r(118)})}, function(t, e, r) {"use strict";r(0)({target: "Symbol",stat: !0,forced: !0}, {isWellKnownSymbol: r(119)})}, function(t, e, r) {"use strict";r(4)("customMatcher")}, function(t, e, r) {"use strict";r(4)("observable")}, function(t, e, r) {"use strict";r(0)({target: "Symbol",stat: !0,name: "isRegisteredSymbol"}, {isRegistered: r(118)})}, function(t, e, r) {"use strict";r(0)({target: "Symbol",stat: !0,name: "isWellKnownSymbol",forced: !0}, {isWellKnown: r(119)})}, function(t, e, r) {"use strict";r(4)("matcher")}, function(t, e, r) {"use strict";r(4)("metadataKey")}, function(t, e, r) {"use strict";r(4)("patternMatch")}, function(t, e, r) {"use strict";r(4)("replaceAll")}, function(t, e, r) {"use strict";t.exports = r(212)}, function(t, e, r) {"use strict";var n = r(213);t.exports = n}, function(t, e, r) {"use strict";var n = r(214);t.exports = n}, function(t, e, r) {"use strict";var n = r(215);r(57),t.exports = n}, function(t, e, r) {"use strict";r(58),r(76),r(120),r(112);var n = r(82);t.exports = n.f("iterator")}, function(t, e, r) {"use strict";var n = r(3), i = r(73), o = r(28), s = r(51), a = n("".charAt), c = n("".charCodeAt), u = n("".slice), l = function(t) {return function(e, r) {var n, l, d = o(s(e)), f = i(r), h = d.length;return f < 0 || f >= h ? t ? "" : void 0 : (n = c(d, f)) < 55296 || n > 56319 || f + 1 === h || (l = c(d, f + 1)) < 56320 || l > 57343 ? t ? a(d, f) : n : t ? u(d, f, f + 2) : l - 56320 + (n - 55296 << 10) + 65536}};t.exports = {codeAt: l(!1),charAt: l(!0)}}, function(t, e, r) {"use strict";t.exports = r(218)}, function(t, e, r) {"use strict";var n = r(219);t.exports = n}, function(t, e, r) {"use strict";var n = r(220);t.exports = n}, function(t, e, r) {"use strict";var n = r(221);t.exports = n}, function(t, e, r) {"use strict";r(222);var n = r(13).Object, i = t.exports = function(t, e, r) {return n.defineProperty(t, e, r)};n.defineProperty.sham && (i.sham = !0)}, function(t, e, r) {"use strict";var n = r(0), i = r(7), o = r(17).f;n({target: "Object",stat: !0,forced: Object.defineProperty !== o,sham: !i}, {defineProperty: o})}, function(t, e, r) {"use strict";t.exports = r(224)}, function(t, e, r) {"use strict";var n = r(225);t.exports = n}, function(t, e, r) {"use strict";var n = r(226);t.exports = n}, function(t, e, r) {"use strict";var n = r(227);t.exports = n}, function(t, e, r) {"use strict";r(228);var n = r(13).Object;t.exports = function(t, e) {return n.create(t, e)}}, function(t, e, r) {"use strict";r(0)({target: "Object",stat: !0,sham: !r(7)}, {create: r(35)})}, function(t, e, r) {"use strict";t.exports = r(230)}, function(t, e, r) {"use strict";var n = r(231);t.exports = n}, function(t, e, r) {"use strict";var n = r(232);t.exports = n}, function(t, e, r) {"use strict";var n = r(233);t.exports = n}, function(t, e, r) {"use strict";r(234);var n = r(13);t.exports = n.Object.getPrototypeOf}, function(t, e, r) {"use strict";var n = r(0), i = r(5), o = r(27), s = r(59), a = r(117);n({target: "Object",stat: !0,forced: i((function() {s(1)})),sham: !a}, {getPrototypeOf: function(t) {return s(o(t))}})}, function(t, e, r) {"use strict";t.exports = r(236)}, function(t, e, r) {"use strict";var n = r(237);t.exports = n}, function(t, e, r) {"use strict";var n = r(238);t.exports = n}, function(t, e, r) {"use strict";var n = r(34), i = r(10), o = r(14), s = r(239);r(244);var a = Array.prototype, c = {DOMTokenList: !0,NodeList: !0};t.exports = function(t) {var e = t.forEach;return t === a || o(a, t) && e === a.forEach || i(c, n(t)) ? s : e}}, function(t, e, r) {"use strict";var n = r(240);t.exports = n}, function(t, e, r) {"use strict";r(241);var n = r(38);t.exports = n("Array", "forEach")}, function(t, e, r) {"use strict";var n = r(0), i = r(242);n({target: "Array",proto: !0,forced: [].forEach !== i}, {forEach: i})}, function(t, e, r) {"use strict";var n = r(83).forEach, i = r(243)("forEach");t.exports = i ? [].forEach : function(t) {return n(this, t, arguments.length > 1 ? arguments[1] : void 0)}}, function(t, e, r) {"use strict";var n = r(5);t.exports = function(t, e) {var r = [][t];return !!r && n((function() {r.call(null, e || function() {return 1}, 1)}))}}, function(t, e) {}, function(t, e, r) {"use strict";t.exports = r(246)}, function(t, e, r) {"use strict";var n = r(247);t.exports = n}, function(t, e, r) {"use strict";var n = r(248);t.exports = n}, function(t, e, r) {"use strict";var n = r(249);t.exports = n}, function(t, e, r) {"use strict";var n = r(14), i = r(250), o = Array.prototype;t.exports = function(t) {var e = t.push;return t === o || n(o, t) && e === o.push ? i : e}}, function(t, e, r) {"use strict";r(251);var n = r(38);t.exports = n("Array", "push")}, function(t, e, r) {"use strict";var n = r(0), i = r(27), o = r(33), s = r(252), a = r(101);n({target: "Array",proto: !0,arity: 1,forced: r(5)((function() {return 4294967297 !== [].push.call({length: 4294967296}, 1)})) || !function() {try {Object.defineProperty([], "length", {writable: !1}).push()} catch (t) {return t instanceof TypeError}}()}, {push: function(t) {var e = i(this), r = o(e), n = arguments.length;a(r + n);for (var c = 0; c < n; c++)e[r] = arguments[c],r++;return s(e, r),r}})}, function(t, e, r) {"use strict";var n = r(7), i = r(32), o = TypeError, s = Object.getOwnPropertyDescriptor, a = n && !function() {if (void 0 !== this)return !0;try {Object.defineProperty([], "length", {writable: !1}).length = 1} catch (t) {return t instanceof TypeError}}();t.exports = a ? function(t, e) {if (i(t) && !s(t, "length").writable)throw new o("Cannot set read only .length");return t.length = e}: function(t, e) {return t.length = e}}, function(t, e, r) {"use strict";t.exports = r(254)}, function(t, e, r) {"use strict";var n = r(255);t.exports = n}, function(t, e, r) {"use strict";var n = r(256);t.exports = n}, function(t, e, r) {"use strict";var n = r(257);t.exports = n}, function(t, e, r) {"use strict";r(258);var n = r(13);t.exports = n.Object.setPrototypeOf}, function(t, e, r) {"use strict";r(0)({target: "Object",stat: !0}, {setPrototypeOf: r(60)})}, function(t, e, r) {"use strict";var n = r(260);r(290),r(291),r(292),t.exports = n}, function(t, e, r) {"use strict";var n = r(261);r(288),r(289),t.exports = n}, function(t, e, r) {"use strict";var n = r(262);r(57),t.exports = n}, function(t, e, r) {"use strict";r(121),r(58),r(76),r(273),r(132),r(133),r(134),r(135),r(287),r(120);var n = r(13);t.exports = n.Promise}, function(t, e, r) {"use strict";var n = r(0), i = r(14), o = r(59), s = r(60), a = r(264), c = r(35), u = r(24), l = r(22), d = r(266), f = r(267), h = r(46), p = r(272), g = r(2)("toStringTag"), m = Error, v = [].push, y = function(t, e) {var r, n = i(_, this);s ? r = s(new m, n ? o(this) : _) : (r = n ? this : c(_),u(r, g, "Error")),void 0 !== e && u(r, "message", p(e)),f(r, y, r.stack, 1),arguments.length > 2 && d(r, arguments[2]);var a = [];return h(t, v, {that: a}),u(r, "errors", a),r};s ? s(y, m) : a(y, m, {name: !0});var _ = y.prototype = c(m.prototype, {constructor: l(1, y),message: l(1, ""),name: l(1, "AggregateError")});n({global: !0,constructor: !0,arity: 2}, {AggregateError: y})}, function(t, e, r) {"use strict";var n = r(10), i = r(265), o = r(68), s = r(17);t.exports = function(t, e, r) {for (var a = i(e), c = s.f, u = o.f, l = 0; l < a.length; l++) {var d = a[l];n(t, d) || r && n(r, d) || c(t, d, u(e, d))}}}, function(t, e, r) {"use strict";var n = r(9), i = r(3), o = r(79), s = r(80), a = r(18), c = i([].concat);t.exports = n("Reflect", "ownKeys") || function(t) {var e = o.f(a(t)), r = s.f;return r ? c(e, r(t)) : e}}, function(t, e, r) {"use strict";var n = r(11), i = r(24);t.exports = function(t, e) {n(e) && "cause"in e && i(t, "cause", e.cause)}}, function(t, e, r) {"use strict";var n = r(24), i = r(268), o = r(269), s = Error.captureStackTrace;t.exports = function(t, e, r, a) {o && (s ? s(t, e) : n(t, "stack", i(r, a)))}}, function(t, e, r) {"use strict";var n = r(3), i = Error, o = n("".replace), s = String(new i("zxcasd").stack), a = /\n\s*at [^:]*:[^\n]*/, c = a.test(s);t.exports = function(t, e) {if (c && "string" == typeof t && !i.prepareStackTrace)for (; e--; )t = o(t, a, "");return t}}, function(t, e, r) {"use strict";var n = r(5), i = r(22);t.exports = !n((function() {var t = new Error("a");return !("stack"in t) || (Object.defineProperty(t, "stack", i(1, 7)),7 !== t.stack)}))}, function(t, e, r) {"use strict";var n = r(2), i = r(37), o = n("iterator"), s = Array.prototype;t.exports = function(t) {return void 0 !== t && (i.Array === t || s[o] === t)}}, function(t, e, r) {"use strict";var n = r(8), i = r(18), o = r(70);t.exports = function(t, e, r) {var s, a;i(t);try {if (!(s = o(t, "return"))) {if ("throw" === e)throw r;return r}s = n(s, t)} catch (t) {a = !0,s = t}if ("throw" === e)throw r;if (a)throw s;return i(s),r}}, function(t, e, r) {"use strict";var n = r(28);t.exports = function(t, e) {return void 0 === t ? arguments.length < 2 ? "" : e : n(t)}}, function(t, e, r) {"use strict";r(274),r(281),r(283),r(284),r(285),r(286)}, function(t, e, r) {"use strict";var n, i, o, s = r(0), a = r(16), c = r(86), u = r(1), l = r(8), d = r(20), f = r(60), h = r(25), p = r(275), g = r(15), m = r(6), v = r(11), y = r(124), _ = r(125), b = r(126).set, w = r(277), E = r(280), T = r(39), S = r(130), A = r(45), I = r(40), x = r(47), L = r(21), k = "Promise", R = x.CONSTRUCTOR, C = x.REJECTION_EVENT, P = x.SUBCLASSING, D = A.getterFor(k), O = A.set, M = I && I.prototype, U = I, F = M, N = u.TypeError, B = u.document, j = u.process, $ = L.f, H = $, G = !!(B && B.createEvent && u.dispatchEvent), K = "unhandledrejection", q = function(t) {var e;return !(!v(t) || !m(e = t.then)) && e}, W = function(t, e) {var r, n, i, o = e.value, s = 1 === e.state, a = s ? t.ok : t.fail, c = t.resolve, u = t.reject, d = t.domain;try {a ? (s || (2 === e.rejection && X(e),e.rejection = 1),!0 === a ? r = o : (d && d.enter(),r = a(o),d && (d.exit(),i = !0)),r === t.promise ? u(new N("Promise-chain cycle")) : (n = q(r)) ? l(n, r, c, u) : c(r)) : u(o)} catch (t) {d && !i && d.exit(),u(t)}}, V = function(t, e) {t.notified || (t.notified = !0,w((function() {for (var r, n = t.reactions; r = n.get(); )W(r, t);t.notified = !1,e && !t.rejection && Y(t)})))}, z = function(t, e, r) {var n, i;G ? ((n = B.createEvent("Event")).promise = e,n.reason = r,n.initEvent(t, !1, !0),u.dispatchEvent(n)) : n = {promise: e,reason: r},!C && (i = u["on" + t]) ? i(n) : t === K && E("Unhandled promise rejection", r)}, Y = function(t) {l(b, u, (function() {var e, r = t.facade, n = t.value;if (Q(t) && (e = T((function() {c ? j.emit("unhandledRejection", n, r) : z(K, r, n)})),t.rejection = c || Q(t) ? 2 : 1,e.error))throw e.value}))}, Q = function(t) {return 1 !== t.rejection && !t.parent}, X = function(t) {l(b, u, (function() {var e = t.facade;c ? j.emit("rejectionHandled", e) : z("rejectionhandled", e, t.value)}))}, J = function(t, e, r) {return function(n) {t(e, n, r)}}, Z = function(t, e, r) {t.done || (t.done = !0,r && (t = r),t.value = e,t.state = 2,V(t, !0))}, tt = function(t, e, r) {if (!t.done) {t.done = !0,r && (t = r);try {if (t.facade === e)throw new N("Promise can't be resolved itself");var n = q(e);n ? w((function() {var r = {done: !1};try {l(n, e, J(tt, r, t), J(Z, r, t))} catch (e) {Z(r, e, t)}})) : (t.value = e,t.state = 1,V(t, !1))} catch (e) {Z({done: !1}, e, t)}}};if (R && (F = (U = function(t) {y(this, F),g(t),l(n, this);var e = D(this);try {t(J(tt, e), J(Z, e))} catch (t) {Z(e, t)}}).prototype,(n = function(t) {O(this, {type: k,done: !1,notified: !1,parent: !1,reactions: new S,rejection: !1,state: 0,value: null})}).prototype = d(F, "then", (function(t, e) {var r = D(this), n = $(_(this, U));return r.parent = !0,n.ok = !m(t) || t,n.fail = m(e) && e,n.domain = c ? j.domain : void 0,0 === r.state ? r.reactions.add(n) : w((function() {W(n, r)})),n.promise})),i = function() {var t = new n, e = D(t);this.promise = t,this.resolve = J(tt, e),this.reject = J(Z, e)},L.f = $ = function(t) {return t === U || undefined === t ? new i(t) : H(t)},!a && m(I) && M !== Object.prototype)) {o = M.then,P || d(M, "then", (function(t, e) {var r = this;return new U((function(t, e) {l(o, r, t, e)})).then(t, e)}), {unsafe: !0});try {delete M.constructor} catch (t) {}f && f(M, F)}s({global: !0,constructor: !0,wrap: !0,forced: R}, {Promise: U}),h(U, k, !1, !0),p(k)}, function(t, e, r) {"use strict";var n = r(9), i = r(81), o = r(2), s = r(7), a = o("species");t.exports = function(t) {var e = n(t);s && e && !e[a] && i(e, a, {configurable: !0,get: function() {return this}})}}, function(t, e, r) {"use strict";var n = r(74), i = r(44), o = TypeError;t.exports = function(t) {if (n(t))return t;throw new o(i(t) + " is not a constructor")}}, function(t, e, r) {"use strict";var n, i, o, s, a, c = r(1), u = r(129), l = r(31), d = r(126).set, f = r(130), h = r(128), p = r(278), g = r(279), m = r(86), v = c.MutationObserver || c.WebKitMutationObserver, y = c.document, _ = c.process, b = c.Promise, w = u("queueMicrotask");if (!w) {var E = new f, T = function() {var t, e;for (m && (t = _.domain) && t.exit(); e = E.get(); )try {e()} catch (t) {throw E.head && n(),t}t && t.enter()};h || m || g || !v || !y ? !p && b && b.resolve ? ((s = b.resolve(void 0)).constructor = b,a = l(s.then, s),n = function() {a(T)}) : m ? n = function() {_.nextTick(T)}: (d = l(d, c),n = function() {d(T)}) : (i = !0,o = y.createTextNode(""),new v(T).observe(o, {characterData: !0}),n = function() {o.data = i = !i}),w = function(t) {E.head || n(),E.add(t)}}t.exports = w}, function(t, e, r) {"use strict";var n = r(43);t.exports = /ipad|iphone|ipod/i.test(n) && "undefined" != typeof Pebble}, function(t, e, r) {"use strict";var n = r(43);t.exports = /web0s(?!.*chrome)/i.test(n)}, function(t, e, r) {"use strict";t.exports = function(t, e) {}}, function(t, e, r) {"use strict";var n = r(0), i = r(8), o = r(15), s = r(21), a = r(39), c = r(46);n({target: "Promise",stat: !0,forced: r(61)}, {all: function(t) {var e = this, r = s.f(e), n = r.resolve, u = r.reject, l = a((function() {var r = o(e.resolve), s = [], a = 0, l = 1;c(t, (function(t) {var o = a++, c = !1;l++,i(r, e, t).then((function(t) {c || (c = !0,s[o] = t,--l || n(s))}), u)})),--l || n(s)}));return l.error && u(l.value),r.promise}})}, function(t, e, r) {"use strict";var n = r(2)("iterator"), i = !1;try {var o = 0, s = {next: function() {return {done: !!o++}},return: function() {i = !0}};s[n] = function() {return this},Array.from(s, (function() {throw 2}))} catch (t) {}t.exports = function(t, e) {try {if (!e && !i)return !1} catch (t) {return !1}var r = !1;try {var o = {};o[n] = function() {return {next: function() {return {done: r = !0}}}},t(o)} catch (t) {}return r}}, function(t, e, r) {"use strict";var n = r(0), i = r(16), o = r(47).CONSTRUCTOR, s = r(40), a = r(9), c = r(6), u = r(20), l = s && s.prototype;if (n({target: "Promise",proto: !0,forced: o,real: !0}, {catch: function(t) {return this.then(void 0, t)}}),!i && c(s)) {var d = a("Promise").prototype.catch;l.catch !== d && u(l, "catch", d, {unsafe: !0})}}, function(t, e, r) {"use strict";var n = r(0), i = r(8), o = r(15), s = r(21), a = r(39), c = r(46);n({target: "Promise",stat: !0,forced: r(61)}, {race: function(t) {var e = this, r = s.f(e), n = r.reject, u = a((function() {var s = o(e.resolve);c(t, (function(t) {i(s, e, t).then(r.resolve, n)}))}));return u.error && n(u.value),r.promise}})}, function(t, e, r) {"use strict";var n = r(0), i = r(21);n({target: "Promise",stat: !0,forced: r(47).CONSTRUCTOR}, {reject: function(t) {var e = i.f(this);return (0,e.reject)(t),e.promise}})}, function(t, e, r) {"use strict";var n = r(0), i = r(9), o = r(16), s = r(40), a = r(47).CONSTRUCTOR, c = r(131), u = i("Promise"), l = o && !a;n({target: "Promise",stat: !0,forced: o || a}, {resolve: function(t) {return c(l && this === u ? s : this, t)}})}, function(t, e, r) {"use strict";var n = r(0), i = r(16), o = r(40), s = r(5), a = r(9), c = r(6), u = r(125), l = r(131), d = r(20), f = o && o.prototype;if (n({target: "Promise",proto: !0,real: !0,forced: !!o && s((function() {f.finally.call({then: function() {}}, (function() {}))}))}, {finally: function(t) {var e = u(this, a("Promise")), r = c(t);return this.then(r ? function(r) {return l(e, t()).then((function() {return r}))}: t, r ? function(r) {return l(e, t()).then((function() {throw r}))}: t)}}),!i && c(o)) {var h = a("Promise").prototype.finally;f.finally !== h && d(f, "finally", h, {unsafe: !0})}}, function(t, e, r) {"use strict";r(134)}, function(t, e, r) {"use strict";r(135)}, function(t, e, r) {"use strict";r(121)}, function(t, e, r) {"use strict";r(132)}, function(t, e, r) {"use strict";r(133)}, function(t, e, r) {"use strict";t.exports = r(294)}, function(t, e, r) {"use strict";var n = r(295);t.exports = n}, function(t, e, r) {"use strict";var n = r(296);t.exports = n}, function(t, e, r) {"use strict";var n = r(297);t.exports = n}, function(t, e, r) {"use strict";var n = r(14), i = r(298), o = Array.prototype;t.exports = function(t) {var e = t.reverse;return t === o || n(o, t) && e === o.reverse ? i : e}}, function(t, e, r) {"use strict";r(299);var n = r(38);t.exports = n("Array", "reverse")}, function(t, e, r) {"use strict";var n = r(0), i = r(3), o = r(32), s = i([].reverse), a = [1, 2];n({target: "Array",proto: !0,forced: String(a) === String(a.reverse())}, {reverse: function() {return o(this) && (this.length = this.length),s(this)}})}, function(t, e, r) {"use strict";t.exports = r(301)}, function(t, e, r) {"use strict";var n = r(302);t.exports = n}, function(t, e, r) {"use strict";var n = r(303);t.exports = n}, function(t, e, r) {"use strict";var n = r(304);t.exports = n}, function(t, e, r) {"use strict";var n = r(14), i = r(305), o = Array.prototype;t.exports = function(t) {var e = t.slice;return t === o || n(o, t) && e === o.slice ? i : e}}, function(t, e, r) {"use strict";r(306);var n = r(38);t.exports = n("Array", "slice")}, function(t, e, r) {"use strict";var n = r(0), i = r(32), o = r(74), s = r(11), a = r(77), c = r(33), u = r(23), l = r(102), d = r(2), f = r(105), h = r(36), p = f("slice"), g = d("species"), m = Array, v = Math.max;n({target: "Array",proto: !0,forced: !p}, {slice: function(t, e) {var r, n, d, f = u(this), p = c(f), y = a(t, p), _ = a(void 0 === e ? p : e, p);if (i(f) && (r = f.constructor,(o(r) && (r === m || i(r.prototype)) || s(r) && null === (r = r[g])) && (r = void 0),r === m || void 0 === r))return h(f, y, _);for (n = new (void 0 === r ? m : r)(v(_ - y, 0)),d = 0; y < _; y++,d++)y in f && l(n, d, f[y]);return n.length = d,n}})}, function(t, e, r) {t.exports = r(308)}, function(t, e, r) {"use strict";t.exports = r(309)}, function(t, e, r) {"use strict";var n = r(310);t.exports = n}, function(t, e, r) {"use strict";var n = r(311);t.exports = n}, function(t, e, r) {"use strict";var n = r(312);r(57),t.exports = n}, function(t, e, r) {"use strict";r(313),r(319),r(320),r(321);var n = r(13);t.exports = n.URLSearchParams}, function(t, e, r) {"use strict";r(314)}, function(t, e, r) {"use strict";r(58),r(315);var n = r(0), i = r(1), o = r(129), s = r(9), a = r(8), c = r(3), u = r(7), l = r(316), d = r(20), f = r(81), h = r(317), p = r(25), g = r(115), m = r(45), v = r(124), y = r(6), _ = r(10), b = r(31), w = r(34), E = r(18), T = r(11), S = r(28), A = r(35), I = r(22), x = r(122), L = r(85), k = r(84), R = r(127), C = r(2), P = r(318), D = C("iterator"), O = "URLSearchParams", M = O + "Iterator", U = m.set, F = m.getterFor(O), N = m.getterFor(M), B = o("fetch"), j = o("Request"), $ = o("Headers"), H = j && j.prototype, G = $ && $.prototype, K = i.TypeError, q = i.encodeURIComponent, W = String.fromCharCode, V = s("String", "fromCodePoint"), z = parseInt, Y = c("".charAt), Q = c([].join), X = c([].push), J = c("".replace), Z = c([].shift), tt = c([].splice), et = c("".split), rt = c("".slice), nt = c(/./.exec), it = /\+/g, ot = /^[0-9a-f]+$/i, st = function(t, e) {var r = rt(t, e, e + 2);return nt(ot, r) ? z(r, 16) : NaN}, at = function(t) {for (var e = 0, r = 128; r > 0 && t & r; r >>= 1)e++;return e}, ct = function(t) {var e = null;switch (t.length) {case 1:e = t[0];break;case 2:e = (31 & t[0]) << 6 | 63 & t[1];break;case 3:e = (15 & t[0]) << 12 | (63 & t[1]) << 6 | 63 & t[2];break;case 4:e = (7 & t[0]) << 18 | (63 & t[1]) << 12 | (63 & t[2]) << 6 | 63 & t[3]}return e > 1114111 ? null : e}, ut = function(t) {for (var e = (t = J(t, it, " ")).length, r = "", n = 0; n < e; ) {var i = Y(t, n);if ("%" === i) {if ("%" === Y(t, n + 1) || n + 3 > e) {r += "%",n++;continue}var o = st(t, n + 1);if (o != o) {r += i,n++;continue}n += 2;var s = at(o);if (0 === s)i = W(o);else {if (1 === s || s > 4) {r += "�",n++;continue}for (var a = [o], c = 1; c < s && !(++n + 3 > e || "%" !== Y(t, n)); ) {var u = st(t, n + 1);if (u != u) {n += 3;break}if (u > 191 || u < 128)break;X(a, u),n += 2,c++}if (a.length !== s) {r += "�";continue}var l = ct(a);null === l ? r += "�" : i = V(l)}}r += i,n++}return r}, lt = /[!'()~]|%20/g, dt = {"!": "%21","'": "%27","(": "%28",")": "%29","~": "%7E","%20": "+"}, ft = function(t) {return dt[t]}, ht = function(t) {return J(q(t), lt, ft)}, pt = g((function(t, e) {U(this, {type: M,target: F(t).entries,index: 0,kind: e})}), O, (function() {var t = N(this), e = t.target, r = t.index++;if (!e || r >= e.length)return t.target = null,k(void 0, !0);var n = e[r];switch (t.kind) {case "keys":return k(n.key, !1);case "values":return k(n.value, !1)}return k([n.key, n.value], !1)}), !0), gt = function(t) {this.entries = [],this.url = null,void 0 !== t && (T(t) ? this.parseObject(t) : this.parseQuery("string" == typeof t ? "?" === Y(t, 0) ? rt(t, 1) : t : S(t)))};gt.prototype = {type: O,bindURL: function(t) {this.url = t,this.update()},parseObject: function(t) {var e, r, n, i, o, s, c, u = this.entries, l = L(t);if (l)for (r = (e = x(t, l)).next; !(n = a(r, e)).done; ) {if (o = (i = x(E(n.value))).next,(s = a(o, i)).done || (c = a(o, i)).done || !a(o, i).done)throw new K("Expected sequence with length 2");X(u, {key: S(s.value),value: S(c.value)})}elsefor (var d in t)_(t, d) && X(u, {key: d,value: S(t[d])})},parseQuery: function(t) {if (t)for (var e, r, n = this.entries, i = et(t, "&"), o = 0; o < i.length; )(e = i[o++]).length && (r = et(e, "="),X(n, {key: ut(Z(r)),value: ut(Q(r, "="))}))},serialize: function() {for (var t, e = this.entries, r = [], n = 0; n < e.length; )t = e[n++],X(r, ht(t.key) + "=" + ht(t.value));return Q(r, "&")},update: function() {this.entries.length = 0,this.parseQuery(this.url.query)},updateURL: function() {this.url && this.url.update()}};var mt = function() {v(this, vt);var t = U(this, new gt(arguments.length > 0 ? arguments[0] : void 0));u || (this.size = t.entries.length)}, vt = mt.prototype;if (h(vt, {append: function(t, e) {var r = F(this);R(arguments.length, 2),X(r.entries, {key: S(t),value: S(e)}),u || this.length++,r.updateURL()},delete: function(t) {for (var e = F(this), r = R(arguments.length, 1), n = e.entries, i = S(t), o = r < 2 ? void 0 : arguments[1], s = void 0 === o ? o : S(o), a = 0; a < n.length; ) {var c = n[a];if (c.key !== i || void 0 !== s && c.value !== s)a++;else if (tt(n, a, 1),void 0 !== s)break}u || (this.size = n.length),e.updateURL()},get: function(t) {var e = F(this).entries;R(arguments.length, 1);for (var r = S(t), n = 0; n < e.length; n++)if (e[n].key === r)return e[n].value;return null},getAll: function(t) {var e = F(this).entries;R(arguments.length, 1);for (var r = S(t), n = [], i = 0; i < e.length; i++)e[i].key === r && X(n, e[i].value);return n},has: function(t) {for (var e = F(this).entries, r = R(arguments.length, 1), n = S(t), i = r < 2 ? void 0 : arguments[1], o = void 0 === i ? i : S(i), s = 0; s < e.length; ) {var a = e[s++];if (a.key === n && (void 0 === o || a.value === o))return !0}return !1},set: function(t, e) {var r = F(this);R(arguments.length, 1);for (var n, i = r.entries, o = !1, s = S(t), a = S(e), c = 0; c < i.length; c++)(n = i[c]).key === s && (o ? tt(i, c--, 1) : (o = !0,n.value = a));o || X(i, {key: s,value: a}),u || (this.size = i.length),r.updateURL()},sort: function() {var t = F(this);P(t.entries, (function(t, e) {return t.key > e.key ? 1 : -1})),t.updateURL()},forEach: function(t) {for (var e, r = F(this).entries, n = b(t, arguments.length > 1 ? arguments[1] : void 0), i = 0; i < r.length; )n((e = r[i++]).value, e.key, this)},keys: function() {return new pt(this,"keys")},values: function() {return new pt(this,"values")},entries: function() {return new pt(this,"entries")}}, {enumerable: !0}),d(vt, D, vt.entries, {name: "entries"}),d(vt, "toString", (function() {return F(this).serialize()}), {enumerable: !0}),u && f(vt, "size", {get: function() {return F(this).entries.length},configurable: !0,enumerable: !0}),p(mt, O),n({global: !0,constructor: !0,forced: !l}, {URLSearchParams: mt}),!l && y($)) {var yt = c(G.has), _t = c(G.set), bt = function(t) {if (T(t)) {var e, r = t.body;if (w(r) === O)return e = t.headers ? new $(t.headers) : new $,yt(e, "content-type") || _t(e, "content-type", "application/x-www-form-urlencoded;charset=UTF-8"),A(t, {body: I(0, S(r)),headers: I(0, e)})}return t};if (y(B) && n({global: !0,enumerable: !0,dontCallGetSet: !0,forced: !0}, {fetch: function(t) {return B(t, arguments.length > 1 ? bt(arguments[1]) : {})}}),y(j)) {var wt = function(t) {return v(this, H),new j(t,arguments.length > 1 ? bt(arguments[1]) : {})};H.constructor = wt,wt.prototype = H,n({global: !0,constructor: !0,dontCallGetSet: !0,forced: !0}, {Request: wt})}}t.exports = {URLSearchParams: mt,getState: F}}, function(t, e, r) {"use strict";var n = r(0), i = r(3), o = r(77), s = RangeError, a = String.fromCharCode, c = String.fromCodePoint, u = i([].join);n({target: "String",stat: !0,arity: 1,forced: !!c && 1 !== c.length}, {fromCodePoint: function(t) {for (var e, r = [], n = arguments.length, i = 0; n > i; ) {if (e = +arguments[i++],o(e, 1114111) !== e)throw new s(e + " is not a valid code point");r[i] = e < 65536 ? a(e) : a(55296 + ((e -= 65536) >> 10), e % 1024 + 56320)}return u(r, "")}})}, function(t, e, r) {"use strict";var n = r(5), i = r(2), o = r(7), s = r(16), a = i("iterator");t.exports = !n((function() {var t = new URL("b?a=1&b=2&c=3","https://a"), e = t.searchParams, r = new URLSearchParams("a=1&a=2&b=3"), n = "";return t.pathname = "c%20d",e.forEach((function(t, r) {e.delete("b"),n += r + t})),r.delete("a", 2),r.delete("b", void 0),s && (!t.toJSON || !r.has("a", 1) || r.has("a", 2) || !r.has("a", void 0) || r.has("b")) || !e.size && (s || !o) || !e.sort || "https://a/c%20d?a=1&c=3" !== t.href || "3" !== e.get("c") || "a=1" !== String(new URLSearchParams("?a=1")) || !e[a] || "a" !== new URL("https://a@b").username || "b" !== new URLSearchParams(new URLSearchParams("a=b")).get("a") || "xn--e1aybc" !== new URL("https://тест").host || "#%D0%B1" !== new URL("https://a#б").hash || "a1c3" !== n || "x" !== new URL("https://x",void 0).host}))}, function(t, e, r) {"use strict";var n = r(20);t.exports = function(t, e, r) {for (var i in e)r && r.unsafe && t[i] ? t[i] = e[i] : n(t, i, e[i], r);return t}}, function(t, e, r) {"use strict";var n = r(36), i = Math.floor, o = function(t, e) {var r = t.length;if (r < 8)for (var s, a, c = 1; c < r; ) {for (a = c,s = t[c]; a && e(t[a - 1], s) > 0; )t[a] = t[--a];a !== c++ && (t[a] = s)}elsefor (var u = i(r / 2), l = o(n(t, 0, u), e), d = o(n(t, u), e), f = l.length, h = d.length, p = 0, g = 0; p < f || g < h; )t[p + g] = p < f && g < h ? e(l[p], d[g]) <= 0 ? l[p++] : d[g++] : p < f ? l[p++] : d[g++];return t};t.exports = o}, function(t, e) {}, function(t, e) {}, function(t, e) {}, function(t, e, r) {"use strict";t.exports = r(323)}, function(t, e, r) {"use strict";var n = r(324);t.exports = n}, function(t, e, r) {"use strict";var n = r(325);t.exports = n}, function(t, e, r) {"use strict";var n = r(326);t.exports = n}, function(t, e, r) {"use strict";var n = r(14), i = r(327), o = Array.prototype;t.exports = function(t) {var e = t.find;return t === o || n(o, t) && e === o.find ? i : e}}, function(t, e, r) {"use strict";r(328);var n = r(38);t.exports = n("Array", "find")}, function(t, e, r) {"use strict";var n = r(0), i = r(83).find, o = r(113), s = "find", a = !0;s in [] && Array(1)[s]((function() {a = !1})),n({target: "Array",proto: !0,forced: a}, {find: function(t) {return i(this, t, arguments.length > 1 ? arguments[1] : void 0)}}),o(s)}, function(t, e, r) {t.exports = r(330)}, function(t, e, r) {"use strict";t.exports = r(331)}, function(t, e, r) {"use strict";var n = r(332);t.exports = n}, function(t, e, r) {"use strict";var n = r(333);t.exports = n}, function(t, e, r) {"use strict";var n = r(334);t.exports = n}, function(t, e, r) {"use strict";var n = r(14), i = r(335), o = Array.prototype;t.exports = function(t) {var e = t.concat;return t === o || n(o, t) && e === o.concat ? i : e}}, function(t, e, r) {"use strict";r(93);var n = r(38);t.exports = n("Array", "concat")}, function(t, e, r) {"use strict";var n = r(12), i = r(140), o = r(338), s = r(87);function a(t) {var e = new o(t), r = i(o.prototype.request, e);return n.extend(r, o.prototype, e),n.extend(r, e),r}var c = a(s);c.Axios = o,c.create = function(t) {return a(n.merge(s, t))},c.Cancel = r(144),c.CancelToken = r(352),c.isCancel = r(143),c.all = function(t) {return Promise.all(t)},c.spread = r(353),t.exports = c,t.exports.default = c}, function(t, e) {t.exports = function(t) {return null != t && null != t.constructor && "function" == typeof t.constructor.isBuffer && t.constructor.isBuffer(t)}}, function(t, e, r) {"use strict";var n = r(87), i = r(12), o = r(347), s = r(348);function a(t) {this.defaults = t,this.interceptors = {request: new o,response: new o}}a.prototype.request = function(t) {"string" == typeof t && (t = i.merge({url: arguments[0]}, arguments[1])),(t = i.merge(n, {method: "get"}, this.defaults, t)).method = t.method.toLowerCase();var e = [s, void 0], r = Promise.resolve(t);for (this.interceptors.request.forEach((function(t) {e.unshift(t.fulfilled, t.rejected)})),this.interceptors.response.forEach((function(t) {e.push(t.fulfilled, t.rejected)})); e.length; )r = r.then(e.shift(), e.shift());return r},i.forEach(["delete", "get", "head", "options"], (function(t) {a.prototype[t] = function(e, r) {return this.request(i.merge(r || {}, {method: t,url: e}))}})),i.forEach(["post", "put", "patch"], (function(t) {a.prototype[t] = function(e, r, n) {return this.request(i.merge(n || {}, {method: t,url: e,data: r}))}})),t.exports = a}, function(t, e) {var r, n, i = t.exports = {};function o() {throw new Error("setTimeout has not been defined")}function s() {throw new Error("clearTimeout has not been defined")}function a(t) {if (r === setTimeout)return setTimeout(t, 0);if ((r === o || !r) && setTimeout)return r = setTimeout,setTimeout(t, 0);try {return r(t, 0)} catch (e) {try {return r.call(null, t, 0)} catch (e) {return r.call(this, t, 0)}}}!function() {try {r = "function" == typeof setTimeout ? setTimeout : o} catch (t) {r = o}try {n = "function" == typeof clearTimeout ? clearTimeout : s} catch (t) {n = s}}();var c, u = [], l = !1, d = -1;function f() {l && c && (l = !1,c.length ? u = c.concat(u) : d = -1,u.length && h())}function h() {if (!l) {var t = a(f);l = !0;for (var e = u.length; e; ) {for (c = u,u = []; ++d < e; )c && c[d].run();d = -1,e = u.length}c = null,l = !1,function(t) {if (n === clearTimeout)return clearTimeout(t);if ((n === s || !n) && clearTimeout)return n = clearTimeout,clearTimeout(t);try {return n(t)} catch (e) {try {return n.call(null, t)} catch (e) {return n.call(this, t)}}}(t)}}function p(t, e) {this.fun = t,this.array = e}function g() {}i.nextTick = function(t) {var e = new Array(arguments.length - 1);if (arguments.length > 1)for (var r = 1; r < arguments.length; r++)e[r - 1] = arguments[r];u.push(new p(t,e)),1 !== u.length || l || a(h)},p.prototype.run = function() {this.fun.apply(null, this.array)},i.title = "browser",i.browser = !0,i.env = {},i.argv = [],i.version = "",i.versions = {},i.on = g,i.addListener = g,i.once = g,i.off = g,i.removeListener = g,i.removeAllListeners = g,i.emit = g,i.prependListener = g,i.prependOnceListener = g,i.listeners = function(t) {return []},i.binding = function(t) {throw new Error("process.binding is not supported")},i.cwd = function() {return "/"},i.chdir = function(t) {throw new Error("process.chdir is not supported")},i.umask = function() {return 0}}, function(t, e, r) {"use strict";var n = r(12);t.exports = function(t, e) {n.forEach(t, (function(r, n) {n !== e && n.toUpperCase() === e.toUpperCase() && (t[e] = r,delete t[n])}))}}, function(t, e, r) {"use strict";var n = r(142);t.exports = function(t, e, r) {var i = r.config.validateStatus;r.status && i && !i(r.status) ? e(n("Request failed with status code " + r.status, r.config, null, r.request, r)) : t(r)}}, function(t, e, r) {"use strict";t.exports = function(t, e, r, n, i) {return t.config = e,r && (t.code = r),t.request = n,t.response = i,t}}, function(t, e, r) {"use strict";var n = r(12);function i(t) {return encodeURIComponent(t).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]")}t.exports = function(t, e, r) {if (!e)return t;var o;if (r)o = r(e);else if (n.isURLSearchParams(e))o = e.toString();else {var s = [];n.forEach(e, (function(t, e) {null != t && (n.isArray(t) ? e += "[]" : t = [t],n.forEach(t, (function(t) {n.isDate(t) ? t = t.toISOString() : n.isObject(t) && (t = JSON.stringify(t)),s.push(i(e) + "=" + i(t))})))})),o = s.join("&")}return o && (t += (-1 === t.indexOf("?") ? "?" : "&") + o),t}}, function(t, e, r) {"use strict";var n = r(12), i = ["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"];t.exports = function(t) {var e, r, o, s = {};return t ? (n.forEach(t.split("\n"), (function(t) {if (o = t.indexOf(":"),e = n.trim(t.substr(0, o)).toLowerCase(),r = n.trim(t.substr(o + 1)),e) {if (s[e] && i.indexOf(e) >= 0)return;s[e] = "set-cookie" === e ? (s[e] ? s[e] : []).concat([r]) : s[e] ? s[e] + ", " + r : r}})),s) : s}}, function(t, e, r) {"use strict";var n = r(12);t.exports = n.isStandardBrowserEnv() ? function() {var t, e = /(msie|trident)/i.test(navigator.userAgent), r = document.createElement("a");function i(t) {var n = t;return e && (r.setAttribute("href", n),n = r.href),r.setAttribute("href", n),{href: r.href,protocol: r.protocol ? r.protocol.replace(/:$/, "") : "",host: r.host,search: r.search ? r.search.replace(/^\?/, "") : "",hash: r.hash ? r.hash.replace(/^#/, "") : "",hostname: r.hostname,port: r.port,pathname: "/" === r.pathname.charAt(0) ? r.pathname : "/" + r.pathname}}return t = i(window.location.href),function(e) {var r = n.isString(e) ? i(e) : e;return r.protocol === t.protocol && r.host === t.host}}() : function() {return !0}}, function(t, e, r) {"use strict";var n = r(12);t.exports = n.isStandardBrowserEnv() ? {write: function(t, e, r, i, o, s) {var a = [];a.push(t + "=" + encodeURIComponent(e)),n.isNumber(r) && a.push("expires=" + new Date(r).toGMTString()),n.isString(i) && a.push("path=" + i),n.isString(o) && a.push("domain=" + o),!0 === s && a.push("secure"),document.cookie = a.join("; ")},read: function(t) {var e = document.cookie.match(new RegExp("(^|;\\s*)(" + t + ")=([^;]*)"));return e ? decodeURIComponent(e[3]) : null},remove: function(t) {this.write(t, "", Date.now() - 864e5)}} : {write: function() {},read: function() {return null},remove: function() {}}}, function(t, e, r) {"use strict";var n = r(12);function i() {this.handlers = []}i.prototype.use = function(t, e) {return this.handlers.push({fulfilled: t,rejected: e}),this.handlers.length - 1},i.prototype.eject = function(t) {this.handlers[t] && (this.handlers[t] = null)},i.prototype.forEach = function(t) {n.forEach(this.handlers, (function(e) {null !== e && t(e)}))},t.exports = i}, function(t, e, r) {"use strict";var n = r(12), i = r(349), o = r(143), s = r(87), a = r(350), c = r(351);function u(t) {t.cancelToken && t.cancelToken.throwIfRequested()}t.exports = function(t) {return u(t),t.baseURL && !a(t.url) && (t.url = c(t.baseURL, t.url)),t.headers = t.headers || {},t.data = i(t.data, t.headers, t.transformRequest),t.headers = n.merge(t.headers.common || {}, t.headers[t.method] || {}, t.headers || {}),n.forEach(["delete", "get", "head", "post", "put", "patch", "common"], (function(e) {delete t.headers[e]})),(t.adapter || s.adapter)(t).then((function(e) {return u(t),e.data = i(e.data, e.headers, t.transformResponse),e}), (function(e) {return o(e) || (u(t),e && e.response && (e.response.data = i(e.response.data, e.response.headers, t.transformResponse))),Promise.reject(e)}))}}, function(t, e, r) {"use strict";var n = r(12);t.exports = function(t, e, r) {return n.forEach(r, (function(r) {t = r(t, e)})),t}}, function(t, e, r) {"use strict";t.exports = function(t) {return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}}, function(t, e, r) {"use strict";t.exports = function(t, e) {return e ? t.replace(/\/+$/, "") + "/" + e.replace(/^\/+/, "") : t}}, function(t, e, r) {"use strict";var n = r(144);function i(t) {if ("function" != typeof t)throw new TypeError("executor must be a function.");var e;this.promise = new Promise((function(t) {e = t}));var r = this;t((function(t) {r.reason || (r.reason = new n(t),e(r.reason))}))}i.prototype.throwIfRequested = function() {if (this.reason)throw this.reason},i.source = function() {var t;return {token: new i((function(e) {t = e})),cancel: t}},t.exports = i}, function(t, e, r) {"use strict";t.exports = function(t) {return function(e) {return t.apply(null, e)}}}, function(t, e, r) {"use strict";var n = r(19);Object.defineProperty(e, "__esModule", {value: !0}),e.default = void 0;var i = n(r(355)), o = n(r(139)).default.create({});o.interceptors.request.use((function(t) {return t}), (function(t) {return i.default.reject(t)})),o.interceptors.response.use((function(t) {return t}), (function(t) {return i.default.reject(t)}));e.default = o}, function(t, e, r) {t.exports = r(48)}, function(t, e, r) {"use strict";Object.defineProperty(e, "__esModule", {value: !0}),e.default = void 0;e.default = {development: {baseURL: "http://223.111.8.117:38080/"},production: {baseURL: "https://betagame.migufun.com/"}}}, function(t, e, r) {"use strict";r(145)}, function(t, e, r) {(e = r(146)(!1)).push([t.i, ".timerFloat[data-v-4690daeb]{font-size:12px;position:fixed;z-index:100000;box-sizing:border-box;padding:0;bottom:30px;left:50%;transform:translateX(-50%);width:275px;height:36px;border-radius:85px;opacity:1;background:#fff;box-shadow:0px 2px 4px 0px rgba(0,0,0,.1);display:flex;justify-content:space-between;align-items:center}.timerFloat .timesbox[data-v-4690daeb]{padding-left:16px}.timerFloat .times[data-v-4690daeb]{color:#fe492e}.timerFloat .close[data-v-4690daeb]{padding-left:16px;padding-right:16px;border-left:1px solid #d8d8d8;height:20px;display:flex;justify-content:center;align-items:center;color:#00d792}", ""]),t.exports = e}, function(t, e, r) {"use strict";var n = r(19);Object.defineProperty(e, "__esModule", {value: !0}),e.default = void 0;var i = n(r(360));i.default.install = function(t) {t.component(i.default.name, i.default)};e.default = i.default}, function(t, e, r) {"use strict";r.r(e);var n = r(89), i = r(64);for (var o in i)["default"].indexOf(o) < 0 && function(t) {r.d(e, t, (function() {return i[t]}))}(o);var s = r(41), a = Object(s.a)(i.default, n.a, n.b, !1, null, null, null);e.default = a.exports}, function(t, e, r) {"use strict";function n(t) {return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t}r.r(e),r.d(e, "AbrController", (function() {return Ir})),r.d(e, "AttrList", (function() {return S})),r.d(e, "AudioStreamController", (function() {return wi})),r.d(e, "AudioTrackController", (function() {return Ai})),r.d(e, "BasePlaylistController", (function() {return hr})),r.d(e, "BaseSegment", (function() {return C})),r.d(e, "BaseStreamController", (function() {return fn})),r.d(e, "BufferController", (function() {return Ci})),r.d(e, "CMCDController", (function() {return ys})),r.d(e, "CapLevelController", (function() {return ko})),r.d(e, "ChunkMetadata", (function() {return Fr})),r.d(e, "ContentSteeringController", (function() {return _s})),r.d(e, "DateRange", (function() {return I})),r.d(e, "EMEController", (function() {return Po})),r.d(e, "ErrorActionFlags", (function() {return dr})),r.d(e, "ErrorController", (function() {return fr})),r.d(e, "ErrorDetails", (function() {return m})),r.d(e, "ErrorTypes", (function() {return g})),r.d(e, "Events", (function() {return p})),r.d(e, "FPSController", (function() {return Ro})),r.d(e, "Fragment", (function() {return P})),r.d(e, "Hls", (function() {return $s})),r.d(e, "HlsSkip", (function() {return He})),r.d(e, "HlsUrlParameters", (function() {return Ke})),r.d(e, "KeySystemFormats", (function() {return j})),r.d(e, "KeySystems", (function() {return B})),r.d(e, "Level", (function() {return qe})),r.d(e, "LevelDetails", (function() {return O})),r.d(e, "LevelKey", (function() {return Gt})),r.d(e, "LoadStats", (function() {return x})),r.d(e, "MetadataSchema", (function() {return De})),r.d(e, "NetworkErrorAction", (function() {return lr})),r.d(e, "Part", (function() {return D})),r.d(e, "PlaylistLevelType", (function() {return Se})),r.d(e, "SubtitleStreamController", (function() {return Ii})),r.d(e, "SubtitleTrackController", (function() {return Li})),r.d(e, "TimelineController", (function() {return Io})),r.d(e, "default", (function() {return $s})),r.d(e, "getMediaSource", (function() {return Qt})),r.d(e, "isMSESupported", (function() {return Fs})),r.d(e, "isSupported", (function() {return Ns}));var i = {exports: {}};!function(t, e) {var r, n, i, o, s;r = /^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n = /^(?=([^\/?#]*))\1([^]*)$/,i = /(?:\/|^)\.(?=\/)/g,o = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s = {buildAbsoluteURL: function(t, e, r) {if (r = r || {},t = t.trim(),!(e = e.trim())) {if (!r.alwaysNormalize)return t;var i = s.parseURL(t);if (!i)throw new Error("Error trying to parse base URL.");return i.path = s.normalizePath(i.path),s.buildURLFromParts(i)}var o = s.parseURL(e);if (!o)throw new Error("Error trying to parse relative URL.");if (o.scheme)return r.alwaysNormalize ? (o.path = s.normalizePath(o.path),s.buildURLFromParts(o)) : e;var a = s.parseURL(t);if (!a)throw new Error("Error trying to parse base URL.");if (!a.netLoc && a.path && "/" !== a.path[0]) {var c = n.exec(a.path);a.netLoc = c[1],a.path = c[2]}a.netLoc && !a.path && (a.path = "/");var u = {scheme: a.scheme,netLoc: o.netLoc,path: null,params: o.params,query: o.query,fragment: o.fragment};if (!o.netLoc && (u.netLoc = a.netLoc,"/" !== o.path[0]))if (o.path) {var l = a.path, d = l.substring(0, l.lastIndexOf("/") + 1) + o.path;u.path = s.normalizePath(d)} elseu.path = a.path,o.params || (u.params = a.params,o.query || (u.query = a.query));return null === u.path && (u.path = r.alwaysNormalize ? s.normalizePath(o.path) : o.path),s.buildURLFromParts(u)},parseURL: function(t) {var e = r.exec(t);return e ? {scheme: e[1] || "",netLoc: e[2] || "",path: e[3] || "",params: e[4] || "",query: e[5] || "",fragment: e[6] || ""} : null},normalizePath: function(t) {for (t = t.split("").reverse().join("").replace(i, ""); t.length !== (t = t.replace(o, "")).length; );return t.split("").reverse().join("")},buildURLFromParts: function(t) {return t.scheme + t.netLoc + t.path + t.params + t.query + t.fragment}},t.exports = s}(i);var o = i.exports;function s(t, e) {var r = Object.keys(t);if (Object.getOwnPropertySymbols) {var n = Object.getOwnPropertySymbols(t);e && (n = n.filter((function(e) {return Object.getOwnPropertyDescriptor(t, e).enumerable}))),r.push.apply(r, n)}return r}function a(t) {for (var e = 1; e < arguments.length; e++) {var r = null != arguments[e] ? arguments[e] : {};e % 2 ? s(Object(r), !0).forEach((function(e) {u(t, e, r[e])})) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : s(Object(r)).forEach((function(e) {Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(r, e))}))}return t}function c(t) {var e = function(t, e) {if ("object" != typeof t || !t)return t;var r = t[Symbol.toPrimitive];if (void 0 !== r) {var n = r.call(t, e || "default");if ("object" != typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return ("string" === e ? String : Number)(t)}(t, "string");return "symbol" == typeof e ? e : String(e)}function u(t, e, r) {return (e = c(e))in t ? Object.defineProperty(t, e, {value: r,enumerable: !0,configurable: !0,writable: !0}) : t[e] = r,t}function l() {return l = Object.assign ? Object.assign.bind() : function(t) {for (var e = 1; e < arguments.length; e++) {var r = arguments[e];for (var n in r)Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n])}return t},l.apply(this, arguments)}const d = Number.isFinite || function(t) {return "number" == typeof t && isFinite(t)}, f = Number.isSafeInteger || function(t) {return "number" == typeof t && Math.abs(t) <= h}, h = Number.MAX_SAFE_INTEGER || 9007199254740991;let p = function(t) {return t.MEDIA_ATTACHING = "hlsMediaAttaching",t.MEDIA_ATTACHED = "hlsMediaAttached",t.MEDIA_DETACHING = "hlsMediaDetaching",t.MEDIA_DETACHED = "hlsMediaDetached",t.BUFFER_RESET = "hlsBufferReset",t.BUFFER_CODECS = "hlsBufferCodecs",t.BUFFER_CREATED = "hlsBufferCreated",t.BUFFER_APPENDING = "hlsBufferAppending",t.BUFFER_APPENDED = "hlsBufferAppended",t.BUFFER_EOS = "hlsBufferEos",t.BUFFER_FLUSHING = "hlsBufferFlushing",t.BUFFER_FLUSHED = "hlsBufferFlushed",t.MANIFEST_LOADING = "hlsManifestLoading",t.MANIFEST_LOADED = "hlsManifestLoaded",t.MANIFEST_PARSED = "hlsManifestParsed",t.LEVEL_SWITCHING = "hlsLevelSwitching",t.LEVEL_SWITCHED = "hlsLevelSwitched",t.LEVEL_LOADING = "hlsLevelLoading",t.LEVEL_LOADED = "hlsLevelLoaded",t.LEVEL_UPDATED = "hlsLevelUpdated",t.LEVEL_PTS_UPDATED = "hlsLevelPtsUpdated",t.LEVELS_UPDATED = "hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED = "hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING = "hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED = "hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING = "hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED = "hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED = "hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED = "hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH = "hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING = "hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED = "hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED = "hlsSubtitleFragProcessed",t.CUES_PARSED = "hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND = "hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND = "hlsInitPtsFound",t.FRAG_LOADING = "hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED = "hlsFragLoadEmergencyAborted",t.FRAG_LOADED = "hlsFragLoaded",t.FRAG_DECRYPTED = "hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT = "hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA = "hlsFragParsingUserdata",t.FRAG_PARSING_METADATA = "hlsFragParsingMetadata",t.FRAG_PARSED = "hlsFragParsed",t.FRAG_BUFFERED = "hlsFragBuffered",t.FRAG_CHANGED = "hlsFragChanged",t.FPS_DROP = "hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING = "hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED = "hlsMaxAutoLevelUpdated",t.ERROR = "hlsError",t.DESTROYING = "hlsDestroying",t.KEY_LOADING = "hlsKeyLoading",t.KEY_LOADED = "hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED = "hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED = "hlsBackBufferReached",t.STEERING_MANIFEST_LOADED = "hlsSteeringManifestLoaded",t}({}), g = function(t) {return t.NETWORK_ERROR = "networkError",t.MEDIA_ERROR = "mediaError",t.KEY_SYSTEM_ERROR = "keySystemError",t.MUX_ERROR = "muxError",t.OTHER_ERROR = "otherError",t}({}), m = function(t) {return t.KEY_SYSTEM_NO_KEYS = "keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS = "keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION = "keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE = "keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED = "keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED = "keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED = "keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED = "keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED = "keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR = "keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR = "manifestLoadError",t.MANIFEST_LOAD_TIMEOUT = "manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR = "manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR = "manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR = "levelEmptyError",t.LEVEL_LOAD_ERROR = "levelLoadError",t.LEVEL_LOAD_TIMEOUT = "levelLoadTimeOut",t.LEVEL_PARSING_ERROR = "levelParsingError",t.LEVEL_SWITCH_ERROR = "levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR = "audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT = "audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR = "subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT = "subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR = "fragLoadError",t.FRAG_LOAD_TIMEOUT = "fragLoadTimeOut",t.FRAG_DECRYPT_ERROR = "fragDecryptError",t.FRAG_PARSING_ERROR = "fragParsingError",t.FRAG_GAP = "fragGap",t.REMUX_ALLOC_ERROR = "remuxAllocError",t.KEY_LOAD_ERROR = "keyLoadError",t.KEY_LOAD_TIMEOUT = "keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR = "bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR = "bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR = "bufferAppendError",t.BUFFER_APPENDING_ERROR = "bufferAppendingError",t.BUFFER_STALLED_ERROR = "bufferStalledError",t.BUFFER_FULL_ERROR = "bufferFullError",t.BUFFER_SEEK_OVER_HOLE = "bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL = "bufferNudgeOnStall",t.INTERNAL_EXCEPTION = "internalException",t.INTERNAL_ABORTED = "aborted",t.UNKNOWN = "unknown",t}({});const v = function() {}, y = {trace: v,debug: v,log: v,warn: v,info: v,error: v};let _ = y;function b(t, ...e) {e.forEach((function(e) {_[e] = t[e] ? t[e].bind(t) : function(t) {const e = self.console[t];return e ? e.bind(self.console, `[${t}] >`) : v}(e)}))}const w = _, E = /^(\d+)x(\d+)$/, T = /(.+?)=(".*?"|.*?)(?:,|$)/g;class S {constructor(t) {"string" == typeof t && (t = S.parseAttrList(t)),l(this, t)}get clientAttrs() {return Object.keys(this).filter((t => "X-" === t.substring(0, 2)))}decimalInteger(t) {const e = parseInt(this[t], 10);return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e}hexadecimalInteger(t) {if (this[t]) {let e = (this[t] || "0x").slice(2);e = (1 & e.length ? "0" : "") + e;const r = new Uint8Array(e.length / 2);for (let t = 0; t < e.length / 2; t++)r[t] = parseInt(e.slice(2 * t, 2 * t + 2), 16);return r}return null}hexadecimalIntegerAsNumber(t) {const e = parseInt(this[t], 16);return e > Number.MAX_SAFE_INTEGER ? 1 / 0 : e}decimalFloatingPoint(t) {return parseFloat(this[t])}optionalFloat(t, e) {const r = this[t];return r ? parseFloat(r) : e}enumeratedString(t) {return this[t]}bool(t) {return "YES" === this[t]}decimalResolution(t) {const e = E.exec(this[t]);if (null !== e)return {width: parseInt(e[1], 10),height: parseInt(e[2], 10)}}static parseAttrList(t) {let e;const r = {};for (T.lastIndex = 0; null !== (e = T.exec(t)); ) {let t = e[2];0 === t.indexOf('"') && t.lastIndexOf('"') === t.length - 1 && (t = t.slice(1, -1));r[e[1].trim()] = t}return r}}function A(t) {return "SCTE35-OUT" === t || "SCTE35-IN" === t}class I {constructor(t, e) {if (this.attr = void 0,this._startDate = void 0,this._endDate = void 0,this._badValueForSameId = void 0,e) {const r = e.attr;for (const e in r)if (Object.prototype.hasOwnProperty.call(t, e) && t[e] !== r[e]) {w.warn(`DATERANGE tag attribute: "${e}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId = e;break}t = l(new S({}), r, t)}if (this.attr = t,this._startDate = new Date(t["START-DATE"]),"END-DATE"in this.attr) {const t = new Date(this.attr["END-DATE"]);d(t.getTime()) && (this._endDate = t)}}get id() {return this.attr.ID}get class() {return this.attr.CLASS}get startDate() {return this._startDate}get endDate() {if (this._endDate)return this._endDate;const t = this.duration;return null !== t ? new Date(this._startDate.getTime() + 1e3 * t) : null}get duration() {if ("DURATION"in this.attr) {const t = this.attr.decimalFloatingPoint("DURATION");if (d(t))return t} else if (this._endDate)return (this._endDate.getTime() - this._startDate.getTime()) / 1e3;return null}get plannedDuration() {return "PLANNED-DURATION"in this.attr ? this.attr.decimalFloatingPoint("PLANNED-DURATION") : null}get endOnNext() {return this.attr.bool("END-ON-NEXT")}get isValid() {return !!this.id && !this._badValueForSameId && d(this.startDate.getTime()) && (null === this.duration || this.duration >= 0) && (!this.endOnNext || !!this.class)}}class x {constructor() {this.aborted = !1,this.loaded = 0,this.retry = 0,this.total = 0,this.chunkCount = 0,this.bwEstimate = 0,this.loading = {start: 0,first: 0,end: 0},this.parsing = {start: 0,end: 0},this.buffering = {start: 0,first: 0,end: 0}}}var L = "audio", k = "video", R = "audiovideo";class C {constructor(t) {this._byteRange = null,this._url = null,this.baseurl = void 0,this.relurl = void 0,this.elementaryStreams = {[L]: null,[k]: null,[R]: null},this.baseurl = t}setByteRange(t, e) {const r = t.split("@", 2);let n;n = 1 === r.length ? (null == e ? void 0 : e.byteRangeEndOffset) || 0 : parseInt(r[1]),this._byteRange = [n, parseInt(r[0]) + n]}get byteRange() {return this._byteRange ? this._byteRange : []}get byteRangeStartOffset() {return this.byteRange[0]}get byteRangeEndOffset() {return this.byteRange[1]}get url() {return !this._url && this.baseurl && this.relurl && (this._url = o.buildAbsoluteURL(this.baseurl, this.relurl, {alwaysNormalize: !0})),this._url || ""}set url(t) {this._url = t}}class P extends C {constructor(t, e) {super(e),this._decryptdata = null,this.rawProgramDateTime = null,this.programDateTime = null,this.tagList = [],this.duration = 0,this.sn = 0,this.levelkeys = void 0,this.type = void 0,this.loader = null,this.keyLoader = null,this.level = -1,this.cc = 0,this.startPTS = void 0,this.endPTS = void 0,this.startDTS = void 0,this.endDTS = void 0,this.start = 0,this.deltaPTS = void 0,this.maxStartPTS = void 0,this.minEndPTS = void 0,this.stats = new x,this.data = void 0,this.bitrateTest = !1,this.title = null,this.initSegment = null,this.endList = void 0,this.gap = void 0,this.urlId = 0,this.type = t}get decryptdata() {const {levelkeys: t} = this;if (!t && !this._decryptdata)return null;if (!this._decryptdata && this.levelkeys && !this.levelkeys.NONE) {const t = this.levelkeys.identity;if (t)this._decryptdata = t.getDecryptData(this.sn);else {const t = Object.keys(this.levelkeys);if (1 === t.length)return this._decryptdata = this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}get end() {return this.start + this.duration}get endProgramDateTime() {if (null === this.programDateTime)return null;if (!d(this.programDateTime))return null;const t = d(this.duration) ? this.duration : 0;return this.programDateTime + 1e3 * t}get encrypted() {var t;if (null != (t = this._decryptdata) && t.encrypted)return !0;if (this.levelkeys) {const t = Object.keys(this.levelkeys), e = t.length;if (e > 1 || 1 === e && this.levelkeys[t[0]].encrypted)return !0}return !1}setKeyFormat(t) {if (this.levelkeys) {const e = this.levelkeys[t];e && !this._decryptdata && (this._decryptdata = e.getDecryptData(this.sn))}}abortRequests() {var t, e;null == (t = this.loader) || t.abort(),null == (e = this.keyLoader) || e.abort()}setElementaryStreamInfo(t, e, r, n, i, o=!1) {const {elementaryStreams: s} = this, a = s[t];a ? (a.startPTS = Math.min(a.startPTS, e),a.endPTS = Math.max(a.endPTS, r),a.startDTS = Math.min(a.startDTS, n),a.endDTS = Math.max(a.endDTS, i)) : s[t] = {startPTS: e,endPTS: r,startDTS: n,endDTS: i,partial: o}}clearElementaryStreamInfo() {const {elementaryStreams: t} = this;t[L] = null,t[k] = null,t[R] = null}}class D extends C {constructor(t, e, r, n, i) {super(r),this.fragOffset = 0,this.duration = 0,this.gap = !1,this.independent = !1,this.relurl = void 0,this.fragment = void 0,this.index = void 0,this.stats = new x,this.duration = t.decimalFloatingPoint("DURATION"),this.gap = t.bool("GAP"),this.independent = t.bool("INDEPENDENT"),this.relurl = t.enumeratedString("URI"),this.fragment = e,this.index = n;const o = t.enumeratedString("BYTERANGE");o && this.setByteRange(o, i),i && (this.fragOffset = i.fragOffset + i.duration)}get start() {return this.fragment.start + this.fragOffset}get end() {return this.start + this.duration}get loaded() {const {elementaryStreams: t} = this;return !!(t.audio || t.video || t.audiovideo)}}class O {constructor(t) {this.PTSKnown = !1,this.alignedSliding = !1,this.averagetargetduration = void 0,this.endCC = 0,this.endSN = 0,this.fragments = void 0,this.fragmentHint = void 0,this.partList = null,this.dateRanges = void 0,this.live = !0,this.ageHeader = 0,this.advancedDateTime = void 0,this.updated = !0,this.advanced = !0,this.availabilityDelay = void 0,this.misses = 0,this.startCC = 0,this.startSN = 0,this.startTimeOffset = null,this.targetduration = 0,this.totalduration = 0,this.type = null,this.url = void 0,this.m3u8 = "",this.version = null,this.canBlockReload = !1,this.canSkipUntil = 0,this.canSkipDateRanges = !1,this.skippedSegments = 0,this.recentlyRemovedDateranges = void 0,this.partHoldBack = 0,this.holdBack = 0,this.partTarget = 0,this.preloadHint = void 0,this.renditionReports = void 0,this.tuneInGoal = 0,this.deltaUpdateFailed = void 0,this.driftStartTime = 0,this.driftEndTime = 0,this.driftStart = 0,this.driftEnd = 0,this.encryptedFragments = void 0,this.playlistParsingError = null,this.variableList = null,this.hasVariableRefs = !1,this.fragments = [],this.encryptedFragments = [],this.dateRanges = {},this.url = t}reloaded(t) {if (!t)return this.advanced = !0,void (this.updated = !0);const e = this.lastPartSn - t.lastPartSn, r = this.lastPartIndex - t.lastPartIndex;this.updated = this.endSN !== t.endSN || !!r || !!e || !this.live,this.advanced = this.endSN > t.endSN || e > 0 || 0 === e && r > 0,this.updated || this.advanced ? this.misses = Math.floor(.6 * t.misses) : this.misses = t.misses + 1,this.availabilityDelay = t.availabilityDelay}get hasProgramDateTime() {return !!this.fragments.length && d(this.fragments[this.fragments.length - 1].programDateTime)}get levelTargetDuration() {return this.averagetargetduration || this.targetduration || 10}get drift() {const t = this.driftEndTime - this.driftStartTime;if (t > 0) {return 1e3 * (this.driftEnd - this.driftStart) / t}return 1}get edge() {return this.partEnd || this.fragmentEnd}get partEnd() {var t;return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].end : this.fragmentEnd}get fragmentEnd() {var t;return null != (t = this.fragments) && t.length ? this.fragments[this.fragments.length - 1].end : 0}get age() {return this.advancedDateTime ? Math.max(Date.now() - this.advancedDateTime, 0) / 1e3 : 0}get lastPartIndex() {var t;return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].index : -1}get lastPartSn() {var t;return null != (t = this.partList) && t.length ? this.partList[this.partList.length - 1].fragment.sn : this.endSN}}function M(t) {return Uint8Array.from(atob(t), (t => t.charCodeAt(0)))}function U(t) {const e = t.split(":");let r = null;if ("data" === e[0] && 2 === e.length) {const t = e[1].split(";"), n = t[t.length - 1].split(",");if (2 === n.length) {const e = "base64" === n[0], i = n[1];e ? (t.splice(-1, 1),r = M(i)) : r = function(t) {const e = F(t).subarray(0, 16), r = new Uint8Array(16);return r.set(e, 16 - e.length),r}(i)}}return r}function F(t) {return Uint8Array.from(unescape(encodeURIComponent(t)), (t => t.charCodeAt(0)))}const N = "undefined" != typeof self ? self : void 0;var B = {CLEARKEY: "org.w3.clearkey",FAIRPLAY: "com.apple.fps",PLAYREADY: "com.microsoft.playready",WIDEVINE: "com.widevine.alpha"}, j = {CLEARKEY: "org.w3.clearkey",FAIRPLAY: "com.apple.streamingkeydelivery",PLAYREADY: "com.microsoft.playready",WIDEVINE: "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function $(t) {switch (t) {case j.FAIRPLAY:return B.FAIRPLAY;case j.PLAYREADY:return B.PLAYREADY;case j.WIDEVINE:return B.WIDEVINE;case j.CLEARKEY:return B.CLEARKEY}}var H = "1077efecc0b24d02ace33c1e52e2fb4b", G = "e2719d58a985b3c9781ab030af78d30e", K = "9a04f07998404286ab92e65be0885f95", q = "edef8ba979d64acea3c827dcd51d21ed";function W(t) {return t === q ? B.WIDEVINE : t === K ? B.PLAYREADY : t === H || t === G ? B.CLEARKEY : void 0}function V(t) {switch (t) {case B.FAIRPLAY:return j.FAIRPLAY;case B.PLAYREADY:return j.PLAYREADY;case B.WIDEVINE:return j.WIDEVINE;case B.CLEARKEY:return j.CLEARKEY}}function z(t) {const {drmSystems: e, widevineLicenseUrl: r} = t, n = e ? [B.FAIRPLAY, B.WIDEVINE, B.PLAYREADY, B.CLEARKEY].filter((t => !!e[t])) : [];return !n[B.WIDEVINE] && r && n.push(B.WIDEVINE),n}const Y = null != N && null != (Q = N.navigator) && Q.requestMediaKeySystemAccess ? self.navigator.requestMediaKeySystemAccess.bind(self.navigator) : null;var Q;function X(t) {const e = new Uint16Array(t.buffer,t.byteOffset,t.byteLength / 2), r = String.fromCharCode.apply(null, Array.from(e)), n = r.substring(r.indexOf("<"), r.length), i = (new DOMParser).parseFromString(n, "text/xml").getElementsByTagName("KID")[0];if (i) {const t = i.childNodes[0] ? i.childNodes[0].nodeValue : i.getAttribute("VALUE");if (t) {const e = M(t).subarray(0, 16);return function(t) {const e = function(t, e, r) {const n = t[e];t[e] = t[r],t[r] = n};e(t, 0, 3),e(t, 1, 2),e(t, 4, 5),e(t, 6, 7)}(e),e}}return null}function J(t, e, r) {return Uint8Array.prototype.slice ? t.slice(e, r) : new Uint8Array(Array.prototype.slice.call(t, e, r))}const Z = (t, e) => e + 10 <= t.length && 73 === t[e] && 68 === t[e + 1] && 51 === t[e + 2] && t[e + 3] < 255 && t[e + 4] < 255 && t[e + 6] < 128 && t[e + 7] < 128 && t[e + 8] < 128 && t[e + 9] < 128, tt = (t, e) => e + 10 <= t.length && 51 === t[e] && 68 === t[e + 1] && 73 === t[e + 2] && t[e + 3] < 255 && t[e + 4] < 255 && t[e + 6] < 128 && t[e + 7] < 128 && t[e + 8] < 128 && t[e + 9] < 128, et = (t, e) => {const r = e;let n = 0;for (; Z(t, e); ) {n += 10;n += rt(t, e + 6),tt(t, e + 10) && (n += 10),e += n}if (n > 0)return t.subarray(r, r + n)}, rt = (t, e) => {let r = 0;return r = (127 & t[e]) << 21,r |= (127 & t[e + 1]) << 14,r |= (127 & t[e + 2]) << 7,r |= 127 & t[e + 3],r}, nt = (t, e) => Z(t, e) && rt(t, e + 6) + 10 <= t.length - e, it = t => {const e = at(t);for (let t = 0; t < e.length; t++) {const r = e[t];if (ot(r))return ft(r)}}, ot = t => t && "PRIV" === t.key && "com.apple.streaming.transportStreamTimestamp" === t.info, st = t => {const e = String.fromCharCode(t[0], t[1], t[2], t[3]), r = rt(t, 4);return {type: e,size: r,data: t.subarray(10, 10 + r)}}, at = t => {let e = 0;const r = [];for (; Z(t, e); ) {const n = rt(t, e + 6);e += 10;const i = e + n;for (; e + 8 < i; ) {const n = st(t.subarray(e)), i = ct(n);i && r.push(i),e += n.size + 10}tt(t, e) && (e += 10)}return r}, ct = t => "PRIV" === t.type ? ut(t) : "W" === t.type[0] ? dt(t) : lt(t), ut = t => {if (t.size < 2)return;const e = ht(t.data, !0), r = new Uint8Array(t.data.subarray(e.length + 1));return {key: t.type,info: e,data: r.buffer}}, lt = t => {if (t.size < 2)return;if ("TXXX" === t.type) {let e = 1;const r = ht(t.data.subarray(e), !0);e += r.length + 1;const n = ht(t.data.subarray(e));return {key: t.type,info: r,data: n}}const e = ht(t.data.subarray(1));return {key: t.type,data: e}}, dt = t => {if ("WXXX" === t.type) {if (t.size < 2)return;let e = 1;const r = ht(t.data.subarray(e), !0);e += r.length + 1;const n = ht(t.data.subarray(e));return {key: t.type,info: r,data: n}}const e = ht(t.data);return {key: t.type,data: e}}, ft = t => {if (8 === t.data.byteLength) {const e = new Uint8Array(t.data), r = 1 & e[3];let n = (e[4] << 23) + (e[5] << 15) + (e[6] << 7) + e[7];return n /= 45,r && (n += 47721858.84),Math.round(n)}}, ht = (t, e=!1) => {const r = gt();if (r) {const n = r.decode(t);if (e) {const t = n.indexOf("\0");return -1 !== t ? n.substring(0, t) : n}return n.replace(/\0/g, "")}const n = t.length;let i, o, s, a = "", c = 0;for (; c < n; ) {if (i = t[c++],0 === i && e)return a;if (0 !== i && 3 !== i)switch (i >> 4) {case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a += String.fromCharCode(i);break;case 12:case 13:o = t[c++],a += String.fromCharCode((31 & i) << 6 | 63 & o);break;case 14:o = t[c++],s = t[c++],a += String.fromCharCode((15 & i) << 12 | (63 & o) << 6 | 63 & s)}}return a};let pt;function gt() {if (!navigator.userAgent.includes("PlayStation 4"))return pt || void 0 === self.TextDecoder || (pt = new self.TextDecoder("utf-8")),pt}const mt = {hexDump: function(t) {let e = "";for (let r = 0; r < t.length; r++) {let n = t[r].toString(16);n.length < 2 && (n = "0" + n),e += n}return e}}, vt = Math.pow(2, 32) - 1, yt = [].push, _t = {video: 1,audio: 2,id3: 3,text: 4};function bt(t) {return String.fromCharCode.apply(null, t)}function wt(t, e) {const r = t[e] << 8 | t[e + 1];return r < 0 ? 65536 + r : r}function Et(t, e) {const r = St(t, e);return r < 0 ? 4294967296 + r : r}function Tt(t, e) {let r = Et(t, e);return r *= Math.pow(2, 32),r += Et(t, e + 4),r}function St(t, e) {return t[e] << 24 | t[e + 1] << 16 | t[e + 2] << 8 | t[e + 3]}function At(t, e, r) {t[e] = r >> 24,t[e + 1] = r >> 16 & 255,t[e + 2] = r >> 8 & 255,t[e + 3] = 255 & r}function It(t, e) {const r = [];if (!e.length)return r;const n = t.byteLength;for (let i = 0; i < n; ) {const o = Et(t, i), s = o > 1 ? i + o : n;if (bt(t.subarray(i + 4, i + 8)) === e[0])if (1 === e.length)r.push(t.subarray(i + 8, s));else {const n = It(t.subarray(i + 8, s), e.slice(1));n.length && yt.apply(r, n)}i = s}return r}function xt(t) {const e = [], r = t[0];let n = 8;const i = Et(t, n);n += 4;let o = 0, s = 0;0 === r ? (o = Et(t, n),s = Et(t, n + 4),n += 8) : (o = Tt(t, n),s = Tt(t, n + 8),n += 16),n += 2;let a = t.length + s;const c = wt(t, n);n += 2;for (let r = 0; r < c; r++) {let r = n;const o = Et(t, r);r += 4;const s = 2147483647 & o;if (1 === (2147483648 & o) >>> 31)return w.warn("SIDX has hierarchical references (not supported)"),null;const c = Et(t, r);r += 4,e.push({referenceSize: s,subsegmentDuration: c,info: {duration: c / i,start: a,end: a + s - 1}}),a += s,r += 4,n = r}return {earliestPresentationTime: o,timescale: i,version: r,referencesCount: c,references: e}}function Lt(t) {const e = [], r = It(t, ["moov", "trak"]);for (let t = 0; t < r.length; t++) {const n = r[t], i = It(n, ["tkhd"])[0];if (i) {let t = i[0];const r = Et(i, 0 === t ? 12 : 20), o = It(n, ["mdia", "mdhd"])[0];if (o) {t = o[0];const i = Et(o, 0 === t ? 12 : 20), s = It(n, ["mdia", "hdlr"])[0];if (s) {const t = bt(s.subarray(8, 12)), o = {soun: L,vide: k}[t];if (o) {const t = kt(It(n, ["mdia", "minf", "stbl", "stsd"])[0]);e[r] = {timescale: i,type: o},e[o] = a({timescale: i,id: r}, t)}}}}}return It(t, ["moov", "mvex", "trex"]).forEach((t => {const r = Et(t, 4), n = e[r];n && (n.default = {duration: Et(t, 12),flags: Et(t, 20)})})),e}function kt(t) {const e = t.subarray(8), r = e.subarray(86), n = bt(e.subarray(4, 8));let i = n;const o = "enca" === n || "encv" === n;if (o) {const t = It(e, [n])[0];It(t.subarray("enca" === n ? 28 : 78), ["sinf"]).forEach((t => {const e = It(t, ["schm"])[0];if (e) {const r = bt(e.subarray(4, 8));if ("cbcs" === r || "cenc" === r) {const e = It(t, ["frma"])[0];e && (i = bt(e))}}}))}switch (i) {case "avc1":case "avc2":case "avc3":case "avc4":{const t = It(r, ["avcC"])[0];i += "." + Ct(t[1]) + Ct(t[2]) + Ct(t[3]);break}case "mp4a":{const t = It(e, [n])[0], r = It(t.subarray(28), ["esds"])[0];if (r && r.length > 12) {let t = 4;if (3 !== r[t++])break;t = Rt(r, t),t += 2;const e = r[t++];if (128 & e && (t += 2),64 & e && (t += r[t++]),4 !== r[t++])break;t = Rt(r, t);const n = r[t++];if (64 !== n)break;if (i += "." + Ct(n),t += 12,5 !== r[t++])break;t = Rt(r, t);const o = r[t++];let s = (248 & o) >> 3;31 === s && (s += 1 + ((7 & o) << 3) + ((224 & r[t]) >> 5)),i += "." + s}break}case "hvc1":case "hev1":{const t = It(r, ["hvcC"])[0], e = t[1], n = ["", "A", "B", "C"][e >> 6], o = 31 & e, s = Et(t, 2), a = (32 & e) >> 5 ? "H" : "L", c = t[12], u = t.subarray(6, 12);i += "." + n + o,i += "." + s.toString(16).toUpperCase(),i += "." + a + c;let l = "";for (let t = u.length; t--; ) {const e = u[t];if (e || l) {l = "." + e.toString(16).toUpperCase() + l}}i += l;break}case "dvh1":case "dvhe":{const t = It(r, ["dvcC"])[0], e = t[2] >> 1 & 127, n = t[2] << 5 & 32 | t[3] >> 3 & 31;i += "." + Pt(e) + "." + Pt(n);break}case "vp09":{const t = It(r, ["vpcC"])[0], e = t[4], n = t[5], o = t[6] >> 4 & 15;i += "." + Pt(e) + "." + Pt(n) + "." + Pt(o);break}case "av01":{const t = It(r, ["av1C"])[0], e = t[1] >>> 5, n = 31 & t[1], o = t[2] >>> 7 ? "H" : "M", s = (64 & t[2]) >> 6, a = (32 & t[2]) >> 5, c = 2 === e && s ? a ? 12 : 10 : s ? 10 : 8, u = (16 & t[2]) >> 4, l = (8 & t[2]) >> 3, d = (4 & t[2]) >> 2, f = 3 & t[2], h = 1, p = 1, g = 1, m = 0;i += "." + e + "." + Pt(n) + o + "." + Pt(c) + "." + u + "." + l + d + f + "." + Pt(h) + "." + Pt(p) + "." + Pt(g) + "." + m;break}}return {codec: i,encrypted: o}}function Rt(t, e) {const r = e + 5;for (; 128 & t[e++] && e < r; );return e}function Ct(t) {return ("0" + t.toString(16).toUpperCase()).slice(-2)}function Pt(t) {return (t < 10 ? "0" : "") + t}function Dt(t) {const e = It(t, ["schm"])[0];if (e) {const r = bt(e.subarray(4, 8));if ("cbcs" === r || "cenc" === r)return It(t, ["schi", "tenc"])[0]}return null}function Ot(t) {const e = Et(t, 0);let r = 8;1 & e && (r += 4),4 & e && (r += 4);let n = 0;const i = Et(t, 4);for (let o = 0; o < i; o++) {if (256 & e) {n += Et(t, r),r += 4}512 & e && (r += 4),1024 & e && (r += 4),2048 & e && (r += 4)}return n}function Mt(t, e) {const r = new Uint8Array(t.length + e.length);return r.set(t),r.set(e, t.length),r}function Ut(t, e) {const r = [], n = e.samples, i = e.timescale, o = e.id;let s = !1;return It(n, ["moof"]).map((a => {const c = a.byteOffset - 8;It(a, ["traf"]).map((a => {const u = It(a, ["tfdt"]).map((t => {const e = t[0];let r = Et(t, 4);return 1 === e && (r *= Math.pow(2, 32),r += Et(t, 8)),r / i}))[0];return void 0 !== u && (t = u),It(a, ["tfhd"]).map((u => {const l = Et(u, 4), d = 16777215 & Et(u, 0);let f = 0;const h = !!(16 & d);let p = 0;const g = !!(32 & d);let m = 8;l === o && (!!(1 & d) && (m += 8),!!(2 & d) && (m += 4),!!(8 & d) && (f = Et(u, m),m += 4),h && (p = Et(u, m),m += 4),g && (m += 4),"video" === e.type && (s = function(t) {if (!t)return !1;const e = t.indexOf("."), r = e < 0 ? t : t.substring(0, e);return "hvc1" === r || "hev1" === r || "dvh1" === r || "dvhe" === r}(e.codec)),It(a, ["trun"]).map((o => {const a = o[0], u = 16777215 & Et(o, 0), l = !!(1 & u);let d = 0;const h = !!(4 & u), g = !!(256 & u);let m = 0;const v = !!(512 & u);let y = 0;const _ = !!(1024 & u), b = !!(2048 & u);let w = 0;const E = Et(o, 4);let T = 8;l && (d = Et(o, T),T += 4),h && (T += 4);let S = d + c;for (let c = 0; c < E; c++) {if (g ? (m = Et(o, T),T += 4) : m = f,v ? (y = Et(o, T),T += 4) : y = p,_ && (T += 4),b && (w = 0 === a ? Et(o, T) : St(o, T),T += 4),e.type === k) {let e = 0;for (; e < y; ) {const o = Et(n, S);if (S += 4,Ft(s, n[S])) {Nt(n.subarray(S, S + o), s ? 2 : 1, t + w / i, r)}S += o,e += o + 4}}t += m / i}})))}))}))})),r}function Ft(t, e) {if (t) {const t = e >> 1 & 63;return 39 === t || 40 === t}return 6 === (31 & e)}function Nt(t, e, r, n) {const i = Bt(t);let o = 0;o += e;let s = 0, a = 0, c = 0;for (; o < i.length; ) {s = 0;do {if (o >= i.length)break;c = i[o++],s += c} while (255 === c);a = 0;do {if (o >= i.length)break;c = i[o++],a += c} while (255 === c);const t = i.length - o;let e = o;if (a < t)o += a;else if (a > t) {w.error(`Malformed SEI payload. ${a} is too small, only ${t} bytes left to parse.`);break}if (4 === s) {if (181 === i[e++]) {const t = wt(i, e);if (e += 2,49 === t) {const t = Et(i, e);if (e += 4,1195456820 === t) {const t = i[e++];if (3 === t) {const o = i[e++], a = 64 & o, c = a ? 2 + 3 * (31 & o) : 0, u = new Uint8Array(c);if (a) {u[0] = o;for (let t = 1; t < c; t++)u[t] = i[e++]}n.push({type: t,payloadType: s,pts: r,bytes: u})}}}}} else if (5 === s && a > 16) {const t = [];for (let r = 0; r < 16; r++) {const n = i[e++].toString(16);t.push(1 == n.length ? "0" + n : n),3 !== r && 5 !== r && 7 !== r && 9 !== r || t.push("-")}const o = a - 16, c = new Uint8Array(o);for (let t = 0; t < o; t++)c[t] = i[e++];n.push({payloadType: s,pts: r,uuid: t.join(""),userData: ht(c),userDataBytes: c})}}}function Bt(t) {const e = t.byteLength, r = [];let n = 1;for (; n < e - 2; )0 === t[n] && 0 === t[n + 1] && 3 === t[n + 2] ? (r.push(n + 2),n += 2) : n++;if (0 === r.length)return t;const i = e - r.length, o = new Uint8Array(i);let s = 0;for (n = 0; n < i; s++,n++)s === r[0] && (s++,r.shift()),o[n] = t[s];return o}function jt(t, e, r) {if (16 !== t.byteLength)throw new RangeError("Invalid system id");let n, i, o;if (e) {n = 1,i = new Uint8Array(16 * e.length);for (let t = 0; t < e.length; t++) {const r = e[t];if (16 !== r.byteLength)throw new RangeError("Invalid key");i.set(r, 16 * t)}} elsen = 0,i = new Uint8Array;n > 0 ? (o = new Uint8Array(4),e.length > 0 && new DataView(o.buffer).setUint32(0, e.length, !1)) : o = new Uint8Array;const s = new Uint8Array(4);return r && r.byteLength > 0 && new DataView(s.buffer).setUint32(0, r.byteLength, !1),function(t, ...e) {const r = e.length;let n = 8, i = r;for (; i--; )n += e[i].byteLength;const o = new Uint8Array(n);for (o[0] = n >> 24 & 255,o[1] = n >> 16 & 255,o[2] = n >> 8 & 255,o[3] = 255 & n,o.set(t, 4),i = 0,n = 8; i < r; i++)o.set(e[i], n),n += e[i].byteLength;return o}([112, 115, 115, 104], new Uint8Array([n, 0, 0, 0]), t, o, i, s, r || new Uint8Array)}function $t(t) {const e = t.getUint32(0), r = t.byteOffset, n = t.byteLength;if (n < e)return {offset: r,size: n};if (1886614376 !== t.getUint32(4))return {offset: r,size: e};const i = t.getUint32(8) >>> 24;if (0 !== i && 1 !== i)return {offset: r,size: e};const o = t.buffer, s = mt.hexDump(new Uint8Array(o,r + 12,16)), a = t.getUint32(28);let c = null, u = null;if (0 === i) {if (e - 32 < a || a < 22)return {offset: r,size: e};u = new Uint8Array(o,r + 32,a)} else if (1 === i) {if (!a || n < r + 32 + 16 * a + 16)return {offset: r,size: e};c = [];for (let t = 0; t < a; t++)c.push(new Uint8Array(o,r + 32 + 16 * t,16))}return {version: i,systemId: s,kids: c,data: u,offset: r,size: e}}let Ht = {};class Gt {static clearKeyUriToKeyIdMap() {Ht = {}}constructor(t, e, r, n=[1], i=null) {this.uri = void 0,this.method = void 0,this.keyFormat = void 0,this.keyFormatVersions = void 0,this.encrypted = void 0,this.isCommonEncryption = void 0,this.iv = null,this.key = null,this.keyId = null,this.pssh = null,this.method = t,this.uri = e,this.keyFormat = r,this.keyFormatVersions = n,this.iv = i,this.encrypted = !!t && "NONE" !== t,this.isCommonEncryption = this.encrypted && "AES-128" !== t}isSupported() {if (this.method) {if ("AES-128" === this.method || "NONE" === this.method)return !0;if ("identity" === this.keyFormat)return "SAMPLE-AES" === this.method;switch (this.keyFormat) {case j.FAIRPLAY:case j.WIDEVINE:case j.PLAYREADY:case j.CLEARKEY:return -1 !== ["ISO-23001-7", "SAMPLE-AES", "SAMPLE-AES-CENC", "SAMPLE-AES-CTR"].indexOf(this.method)}}return !1}getDecryptData(t) {if (!this.encrypted || !this.uri)return null;if ("AES-128" === this.method && this.uri && !this.iv) {"number" != typeof t && ("AES-128" !== this.method || this.iv || w.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t = 0);const e = function(t) {const e = new Uint8Array(16);for (let r = 12; r < 16; r++)e[r] = t >> 8 * (15 - r) & 255;return e}(t);return new Gt(this.method,this.uri,"identity",this.keyFormatVersions,e)}const e = U(this.uri);if (e)switch (this.keyFormat) {case j.WIDEVINE:this.pssh = e,e.length >= 22 && (this.keyId = e.subarray(e.length - 22, e.length - 6));break;case j.PLAYREADY:{const t = new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]);this.pssh = jt(t, null, e),this.keyId = X(e);break}default:{let t = e.subarray(0, 16);if (16 !== t.length) {const e = new Uint8Array(16);e.set(t, 16 - t.length),t = e}this.keyId = t;break}}if (!this.keyId || 16 !== this.keyId.byteLength) {let t = Ht[this.uri];if (!t) {const e = Object.keys(Ht).length % Number.MAX_SAFE_INTEGER;t = new Uint8Array(16);new DataView(t.buffer,12,4).setUint32(0, e),Ht[this.uri] = t}this.keyId = t}return this}}const Kt = /\{\$([a-zA-Z0-9-_]+)\}/g;function qt(t) {return Kt.test(t)}function Wt(t, e, r) {if (null !== t.variableList || t.hasVariableRefs)for (let n = r.length; n--; ) {const i = r[n], o = e[i];o && (e[i] = Vt(t, o))}}function Vt(t, e) {if (null !== t.variableList || t.hasVariableRefs) {const r = t.variableList;return e.replace(Kt, (e => {const n = e.substring(2, e.length - 1), i = null == r ? void 0 : r[n];return void 0 === i ? (t.playlistParsingError || (t.playlistParsingError = new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${n}"`)),e) : i}))}return e}function zt(t, e, r) {let n, i, o = t.variableList;if (o || (t.variableList = o = {}),"QUERYPARAM"in e) {n = e.QUERYPARAM;try {const t = new self.URL(r).searchParams;if (!t.has(n))throw new Error(`"${n}" does not match any query parameter in URI: "${r}"`);i = t.get(n)} catch (e) {t.playlistParsingError || (t.playlistParsingError = new Error(`EXT-X-DEFINE QUERYPARAM: ${e.message}`))}} elsen = e.NAME,i = e.VALUE;n in o ? t.playlistParsingError || (t.playlistParsingError = new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${n}"`)) : o[n] = i || ""}function Yt(t, e, r) {const n = e.IMPORT;if (r && n in r) {let e = t.variableList;e || (t.variableList = e = {}),e[n] = r[n]} elset.playlistParsingError || (t.playlistParsingError = new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}function Qt(t=!0) {if ("undefined" == typeof self)return;return (t || !self.MediaSource) && self.ManagedMediaSource || self.MediaSource || self.WebKitMediaSource}const Xt = {audio: {a3ds: 1,"ac-3": .95,"ac-4": 1,alac: .9,alaw: 1,dra1: 1,"dts+": 1,"dts-": 1,dtsc: 1,dtse: 1,dtsh: 1,"ec-3": .9,enca: 1,fLaC: .9,flac: .9,FLAC: .9,g719: 1,g726: 1,m4ae: 1,mha1: 1,mha2: 1,mhm1: 1,mhm2: 1,mlpa: 1,mp4a: 1,"raw ": 1,Opus: 1,opus: 1,samr: 1,sawb: 1,sawp: 1,sevc: 1,sqcp: 1,ssmv: 1,twos: 1,ulaw: 1},video: {avc1: 1,avc2: 1,avc3: 1,avc4: 1,avcp: 1,av01: .8,drac: 1,dva1: 1,dvav: 1,dvh1: .7,dvhe: .7,encv: 1,hev1: .75,hvc1: .75,mjp2: 1,mp4v: 1,mvc1: 1,mvc2: 1,mvc3: 1,mvc4: 1,resv: 1,rv60: 1,s263: 1,svc1: 1,svc2: 1,"vc-1": 1,vp08: 1,vp09: .9},text: {stpp: 1,wvtt: 1}};function Jt(t, e, r=!0) {return !t.split(",").some((t => !Zt(t, e, r)))}function Zt(t, e, r=!0) {var n;const i = Qt(r);return null != (n = null == i ? void 0 : i.isTypeSupported(te(t, e))) && n}function te(t, e) {return `${e}/mp4;codecs="${t}"`}function ee(t) {if (t) {const e = t.substring(0, 4);return Xt.video[e]}return 2}function re(t) {return t.split(",").reduce(( (t, e) => {const r = Xt.video[e];return r ? (2 * r + t) / (t ? 3 : 2) : (Xt.audio[e] + t) / (t ? 2 : 1)}), 0)}const ne = {};const ie = /flac|opus/i;function oe(t, e=!0) {return t.replace(ie, (t => function(t, e=!0) {if (ne[t])return ne[t];const r = {flac: ["flac", "fLaC", "FLAC"],opus: ["opus", "Opus"]}[t];for (let n = 0; n < r.length; n++)if (Zt(r[n], "audio", e))return ne[t] = r[n],r[n];return t}(t.toLowerCase(), e)))}function se(t, e) {return t && "mp4a" !== t ? t : e ? e.split(",")[0] : e}const ae = /#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g, ce = /#EXT-X-MEDIA:(.*)/g, ue = /^#EXT(?:INF|-X-TARGETDURATION):/m, le = new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source, /(?!#) *(\S[^\r\n]*)/.source, /#EXT-X-BYTERANGE:*(.+)/.source, /#EXT-X-PROGRAM-DATE-TIME:(.+)/.source, /#.*/.source].join("|"),"g"), de = new RegExp([/#(EXTM3U)/.source, /#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source, /#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source, /#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source, /(#)([^:]*):(.*)/.source, /(#)(.*)(?:.*)\r?\n?/.source].join("|"));class fe {static findGroup(t, e) {for (let r = 0; r < t.length; r++) {const n = t[r];if (n.id === e)return n}}static resolve(t, e) {return o.buildAbsoluteURL(e, t, {alwaysNormalize: !0})}static isMediaPlaylist(t) {return ue.test(t)}static parseMasterPlaylist(t, e) {const r = {contentSteering: null,levels: [],playlistParsingError: null,sessionData: null,sessionKeys: null,startTimeOffset: null,variableList: null,hasVariableRefs: qt(t)}, n = [];let i;for (ae.lastIndex = 0; null != (i = ae.exec(t)); )if (i[1]) {var o;const t = new S(i[1]);Wt(r, t, ["CODECS", "SUPPLEMENTAL-CODECS", "ALLOWED-CPC", "PATHWAY-ID", "STABLE-VARIANT-ID", "AUDIO", "VIDEO", "SUBTITLES", "CLOSED-CAPTIONS", "NAME"]);const s = Vt(r, i[2]), a = {attrs: t,bitrate: t.decimalInteger("BANDWIDTH") || t.decimalInteger("AVERAGE-BANDWIDTH"),name: t.NAME,url: fe.resolve(s, e)}, c = t.decimalResolution("RESOLUTION");c && (a.width = c.width,a.height = c.height),ge(t.CODECS, a),null != (o = a.unknownCodecs) && o.length || n.push(a),r.levels.push(a)} else if (i[3]) {const t = i[3], n = i[4];switch (t) {case "SESSION-DATA":{const t = new S(n);Wt(r, t, ["DATA-ID", "LANGUAGE", "VALUE", "URI"]);const e = t["DATA-ID"];e && (null === r.sessionData && (r.sessionData = {}),r.sessionData[e] = t);break}case "SESSION-KEY":{const t = he(n, e, r);t.encrypted && t.isSupported() ? (null === r.sessionKeys && (r.sessionKeys = []),r.sessionKeys.push(t)) : w.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${n}"`);break}case "DEFINE":{const t = new S(n);Wt(r, t, ["NAME", "VALUE", "QUERYPARAM"]),zt(r, t, e)}break;case "CONTENT-STEERING":{const t = new S(n);Wt(r, t, ["SERVER-URI", "PATHWAY-ID"]),r.contentSteering = {uri: fe.resolve(t["SERVER-URI"], e),pathwayId: t["PATHWAY-ID"] || "."};break}case "START":r.startTimeOffset = pe(n)}}const s = n.length > 0 && n.length < r.levels.length;return r.levels = s ? n : r.levels,0 === r.levels.length && (r.playlistParsingError = new Error("no levels found in manifest")),r}static parseMasterPlaylistMedia(t, e, r) {let n;const i = {}, o = r.levels, s = {AUDIO: o.map((t => ({id: t.attrs.AUDIO,audioCodec: t.audioCodec}))),SUBTITLES: o.map((t => ({id: t.attrs.SUBTITLES,textCodec: t.textCodec}))),"CLOSED-CAPTIONS": []};let a = 0;for (ce.lastIndex = 0; null !== (n = ce.exec(t)); ) {const t = new S(n[1]), o = t.TYPE;if (o) {const n = s[o], c = i[o] || [];i[o] = c,Wt(r, t, ["URI", "GROUP-ID", "LANGUAGE", "ASSOC-LANGUAGE", "STABLE-RENDITION-ID", "NAME", "INSTREAM-ID", "CHARACTERISTICS", "CHANNELS"]);const u = t.LANGUAGE, l = t["ASSOC-LANGUAGE"], d = t.CHANNELS, f = t.CHARACTERISTICS, h = t["INSTREAM-ID"], p = {attrs: t,bitrate: 0,id: a++,groupId: t["GROUP-ID"] || "",name: t.NAME || u || "",type: o,default: t.bool("DEFAULT"),autoselect: t.bool("AUTOSELECT"),forced: t.bool("FORCED"),lang: u,url: t.URI ? fe.resolve(t.URI, e) : ""};if (l && (p.assocLang = l),d && (p.channels = d),f && (p.characteristics = f),h && (p.instreamId = h),null != n && n.length) {const t = fe.findGroup(n, p.groupId) || n[0];me(p, t, "audioCodec"),me(p, t, "textCodec")}c.push(p)}}return i}static parseLevelPlaylist(t, e, r, n, i, o) {const s = new O(e), a = s.fragments;let c, u, f, h = null, p = 0, g = 0, m = 0, v = 0, y = null, _ = new P(n,e), b = -1, E = !1, T = null;for (le.lastIndex = 0,s.m3u8 = t,s.hasVariableRefs = qt(t); null !== (c = le.exec(t)); ) {E && (E = !1,_ = new P(n,e),_.start = m,_.sn = p,_.cc = v,_.level = r,h && (_.initSegment = h,_.rawProgramDateTime = h.rawProgramDateTime,h.rawProgramDateTime = null,T && (_.setByteRange(T),T = null)));const t = c[1];if (t) {_.duration = parseFloat(t);const e = (" " + c[2]).slice(1);_.title = e || null,_.tagList.push(e ? ["INF", t, e] : ["INF", t])} else if (c[3]) {if (d(_.duration)) {_.start = m,f && _e(_, f, s),_.sn = p,_.level = r,_.cc = v,a.push(_);const t = (" " + c[3]).slice(1);_.relurl = Vt(s, t),ve(_, y),y = _,m += _.duration,p++,g = 0,E = !0}} else if (c[4]) {const t = (" " + c[4]).slice(1);y ? _.setByteRange(t, y) : _.setByteRange(t)} else if (c[5])_.rawProgramDateTime = (" " + c[5]).slice(1),_.tagList.push(["PROGRAM-DATE-TIME", _.rawProgramDateTime]),-1 === b && (b = a.length);else {if (c = c[0].match(de),!c) {w.warn("No matches on slow regex match for level playlist!");continue}for (u = 1; u < c.length && void 0 === c[u]; u++);const t = (" " + c[u]).slice(1), i = (" " + c[u + 1]).slice(1), m = c[u + 2] ? (" " + c[u + 2]).slice(1) : "";switch (t) {case "PLAYLIST-TYPE":s.type = i.toUpperCase();break;case "MEDIA-SEQUENCE":p = s.startSN = parseInt(i);break;case "SKIP":{const t = new S(i);Wt(s, t, ["RECENTLY-REMOVED-DATERANGES"]);const e = t.decimalInteger("SKIPPED-SEGMENTS");if (d(e)) {s.skippedSegments = e;for (let t = e; t--; )a.unshift(null);p += e}const r = t.enumeratedString("RECENTLY-REMOVED-DATERANGES");r && (s.recentlyRemovedDateranges = r.split("\t"));break}case "TARGETDURATION":s.targetduration = Math.max(parseInt(i), 1);break;case "VERSION":s.version = parseInt(i);break;case "INDEPENDENT-SEGMENTS":case "EXTM3U":break;case "ENDLIST":s.live = !1;break;case "#":(i || m) && _.tagList.push(m ? [i, m] : [i]);break;case "DISCONTINUITY":v++,_.tagList.push(["DIS"]);break;case "GAP":_.gap = !0,_.tagList.push([t]);break;case "BITRATE":_.tagList.push([t, i]);break;case "DATERANGE":{const t = new S(i);Wt(s, t, ["ID", "CLASS", "START-DATE", "END-DATE", "SCTE35-CMD", "SCTE35-OUT", "SCTE35-IN"]),Wt(s, t, t.clientAttrs);const e = new I(t,s.dateRanges[t.ID]);e.isValid || s.skippedSegments ? s.dateRanges[e.id] = e : w.warn(`Ignoring invalid DATERANGE tag: "${i}"`),_.tagList.push(["EXT-X-DATERANGE", i]);break}case "DEFINE":{const t = new S(i);Wt(s, t, ["NAME", "VALUE", "IMPORT", "QUERYPARAM"]),"IMPORT"in t ? Yt(s, t, o) : zt(s, t, e)}break;case "DISCONTINUITY-SEQUENCE":v = parseInt(i);break;case "KEY":{const t = he(i, e, s);if (t.isSupported()) {if ("NONE" === t.method) {f = void 0;break}f || (f = {}),f[t.keyFormat] && (f = l({}, f)),f[t.keyFormat] = t} elsew.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${i}"`);break}case "START":s.startTimeOffset = pe(i);break;case "MAP":{const t = new S(i);if (Wt(s, t, ["BYTERANGE", "URI"]),_.duration) {const i = new P(n,e);ye(i, t, r, f),h = i,_.initSegment = h,h.rawProgramDateTime && !_.rawProgramDateTime && (_.rawProgramDateTime = h.rawProgramDateTime)} else {const e = _.byteRangeEndOffset;if (e) {const t = _.byteRangeStartOffset;T = `${e - t}@${t}`} elseT = null;ye(_, t, r, f),h = _,E = !0}break}case "SERVER-CONTROL":{const t = new S(i);s.canBlockReload = t.bool("CAN-BLOCK-RELOAD"),s.canSkipUntil = t.optionalFloat("CAN-SKIP-UNTIL", 0),s.canSkipDateRanges = s.canSkipUntil > 0 && t.bool("CAN-SKIP-DATERANGES"),s.partHoldBack = t.optionalFloat("PART-HOLD-BACK", 0),s.holdBack = t.optionalFloat("HOLD-BACK", 0);break}case "PART-INF":{const t = new S(i);s.partTarget = t.decimalFloatingPoint("PART-TARGET");break}case "PART":{let t = s.partList;t || (t = s.partList = []);const r = g > 0 ? t[t.length - 1] : void 0, n = g++, o = new S(i);Wt(s, o, ["BYTERANGE", "URI"]);const a = new D(o,_,e,n,r);t.push(a),_.duration += a.duration;break}case "PRELOAD-HINT":{const t = new S(i);Wt(s, t, ["URI"]),s.preloadHint = t;break}case "RENDITION-REPORT":{const t = new S(i);Wt(s, t, ["URI"]),s.renditionReports = s.renditionReports || [],s.renditionReports.push(t);break}default:w.warn(`line parsed but not handled: ${c}`)}}}y && !y.relurl ? (a.pop(),m -= y.duration,s.partList && (s.fragmentHint = y)) : s.partList && (ve(_, y),_.cc = v,s.fragmentHint = _,f && _e(_, f, s));const A = a.length, x = a[0], L = a[A - 1];if (m += s.skippedSegments * s.targetduration,m > 0 && A && L) {s.averagetargetduration = m / A;const t = L.sn;s.endSN = "initSegment" !== t ? t : 0,s.live || (L.endList = !0),x && (s.startCC = x.cc)} elses.endSN = 0,s.startCC = 0;return s.fragmentHint && (m += s.fragmentHint.duration),s.totalduration = m,s.endCC = v,b > 0 && function(t, e) {let r = t[e];for (let n = e; n--; ) {const e = t[n];if (!e)return;e.programDateTime = r.programDateTime - 1e3 * e.duration,r = e}}(a, b),s}}function he(t, e, r) {var n, i;const o = new S(t);Wt(r, o, ["KEYFORMAT", "KEYFORMATVERSIONS", "URI", "IV", "URI"]);const s = null != (n = o.METHOD) ? n : "", a = o.URI, c = o.hexadecimalInteger("IV"), u = o.KEYFORMATVERSIONS, l = null != (i = o.KEYFORMAT) ? i : "identity";a && o.IV && !c && w.error(`Invalid IV: ${o.IV}`);const d = a ? fe.resolve(a, e) : "", f = (u || "1").split("/").map(Number).filter(Number.isFinite);return new Gt(s,d,l,f,c)}function pe(t) {const e = new S(t).decimalFloatingPoint("TIME-OFFSET");return d(e) ? e : null}function ge(t, e) {let r = (t || "").split(/[ ,]+/).filter((t => t));["video", "audio", "text"].forEach((t => {const n = r.filter((e => function(t, e) {const r = Xt[e];return !!r && !!r[t.slice(0, 4)]}(e, t)));n.length && (e[`${t}Codec`] = n.join(","),r = r.filter((t => -1 === n.indexOf(t))))})),e.unknownCodecs = r}function me(t, e, r) {const n = e[r];n && (t[r] = n)}function ve(t, e) {t.rawProgramDateTime ? t.programDateTime = Date.parse(t.rawProgramDateTime) : null != e && e.programDateTime && (t.programDateTime = e.endProgramDateTime),d(t.programDateTime) || (t.programDateTime = null,t.rawProgramDateTime = null)}function ye(t, e, r, n) {t.relurl = e.URI,e.BYTERANGE && t.setByteRange(e.BYTERANGE),t.level = r,t.sn = "initSegment",n && (t.levelkeys = n),t.initSegment = null}function _e(t, e, r) {t.levelkeys = e;const {encryptedFragments: n} = r;n.length && n[n.length - 1].levelkeys === e || !Object.keys(e).some((t => e[t].isCommonEncryption)) || n.push(t)}var be = "manifest", we = "level", Ee = "audioTrack", Te = "subtitleTrack", Se = {MAIN: "main",AUDIO: "audio",SUBTITLE: "subtitle"};function Ae(t) {const {type: e} = t;switch (e) {case Ee:return Se.AUDIO;case Te:return Se.SUBTITLE;default:return Se.MAIN}}function Ie(t, e) {let r = t.url;return void 0 !== r && 0 !== r.indexOf("data:") || (r = e.url),r}class xe {constructor(t) {this.hls = void 0,this.loaders = Object.create(null),this.variableList = null,this.hls = t,this.registerListeners()}startLoad(t) {}stopLoad() {this.destroyInternalLoaders()}registerListeners() {const {hls: t} = this;t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.LEVEL_LOADING, this.onLevelLoading, this),t.on(p.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this),t.on(p.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this)}unregisterListeners() {const {hls: t} = this;t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.LEVEL_LOADING, this.onLevelLoading, this),t.off(p.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this),t.off(p.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this)}createInternalLoader(t) {const e = this.hls.config, r = e.pLoader, n = e.loader, i = new (r || n)(e);return this.loaders[t.type] = i,i}getInternalLoader(t) {return this.loaders[t.type]}resetInternalLoader(t) {this.loaders[t] && delete this.loaders[t]}destroyInternalLoaders() {for (const t in this.loaders) {const e = this.loaders[t];e && e.destroy(),this.resetInternalLoader(t)}}destroy() {this.variableList = null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(t, e) {const {url: r} = e;this.variableList = null,this.load({id: null,level: 0,responseType: "text",type: be,url: r,deliveryDirectives: null})}onLevelLoading(t, e) {const {id: r, level: n, pathwayId: i, url: o, deliveryDirectives: s} = e;this.load({id: r,level: n,pathwayId: i,responseType: "text",type: we,url: o,deliveryDirectives: s})}onAudioTrackLoading(t, e) {const {id: r, groupId: n, url: i, deliveryDirectives: o} = e;this.load({id: r,groupId: n,level: null,responseType: "text",type: Ee,url: i,deliveryDirectives: o})}onSubtitleTrackLoading(t, e) {const {id: r, groupId: n, url: i, deliveryDirectives: o} = e;this.load({id: r,groupId: n,level: null,responseType: "text",type: Te,url: i,deliveryDirectives: o})}load(t) {var e;const r = this.hls.config;let n, i = this.getInternalLoader(t);if (i) {const e = i.context;if (e && e.url === t.url && e.level === t.level)return void w.trace("[playlist-loader]: playlist request ongoing");w.log(`[playlist-loader]: aborting previous loader for type: ${t.type}`),i.abort()}if (n = t.type === be ? r.manifestLoadPolicy.default : l({}, r.playlistLoadPolicy.default, {timeoutRetry: null,errorRetry: null}),i = this.createInternalLoader(t),d(null == (e = t.deliveryDirectives) ? void 0 : e.part)) {let e;if (t.type === we && null !== t.level ? e = this.hls.levels[t.level].details : t.type === Ee && null !== t.id ? e = this.hls.audioTracks[t.id].details : t.type === Te && null !== t.id && (e = this.hls.subtitleTracks[t.id].details),e) {const t = e.partTarget, r = e.targetduration;if (t && r) {const e = 1e3 * Math.max(3 * t, .8 * r);n = l({}, n, {maxTimeToFirstByteMs: Math.min(e, n.maxTimeToFirstByteMs),maxLoadTimeMs: Math.min(e, n.maxTimeToFirstByteMs)})}}}const o = n.errorRetry || n.timeoutRetry || {}, s = {loadPolicy: n,timeout: n.maxLoadTimeMs,maxRetry: o.maxNumRetry || 0,retryDelay: o.retryDelayMs || 0,maxRetryDelay: o.maxRetryDelayMs || 0}, a = {onSuccess: (t, e, r, n) => {const i = this.getInternalLoader(r);this.resetInternalLoader(r.type);const o = t.data;0 === o.indexOf("#EXTM3U") ? (e.parsing.start = performance.now(),fe.isMediaPlaylist(o) ? this.handleTrackOrLevelPlaylist(t, e, r, n || null, i) : this.handleMasterPlaylist(t, e, r, n)) : this.handleManifestParsingError(t, r, new Error("no EXTM3U delimiter"), n || null, e)},onError: (t, e, r, n) => {this.handleNetworkError(e, r, !1, t, n)},onTimeout: (t, e, r) => {this.handleNetworkError(e, r, !0, void 0, t)}};i.load(t, s, a)}handleMasterPlaylist(t, e, r, n) {const i = this.hls, o = t.data, s = Ie(t, r), a = fe.parseMasterPlaylist(o, s);if (a.playlistParsingError)return void this.handleManifestParsingError(t, r, a.playlistParsingError, n, e);const {contentSteering: c, levels: u, sessionData: l, sessionKeys: d, startTimeOffset: f, variableList: h} = a;this.variableList = h;const {AUDIO: g=[], SUBTITLES: m, "CLOSED-CAPTIONS": v} = fe.parseMasterPlaylistMedia(o, s, a);if (g.length) {g.some((t => !t.url)) || !u[0].audioCodec || u[0].attrs.AUDIO || (w.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),g.unshift({type: "main",name: "main",groupId: "main",default: !1,autoselect: !1,forced: !1,id: -1,attrs: new S({}),bitrate: 0,url: ""}))}i.trigger(p.MANIFEST_LOADED, {levels: u,audioTracks: g,subtitles: m,captions: v,contentSteering: c,url: s,stats: e,networkDetails: n,sessionData: l,sessionKeys: d,startTimeOffset: f,variableList: h})}handleTrackOrLevelPlaylist(t, e, r, n, i) {const o = this.hls, {id: s, level: a, type: c} = r, u = Ie(t, r), l = d(a) ? a : d(s) ? s : 0, f = Ae(r), h = fe.parseLevelPlaylist(t.data, u, l, f, 0, this.variableList);if (c === be) {const t = {attrs: new S({}),bitrate: 0,details: h,name: "",url: u};o.trigger(p.MANIFEST_LOADED, {levels: [t],audioTracks: [],url: u,stats: e,networkDetails: n,sessionData: null,sessionKeys: null,contentSteering: null,startTimeOffset: null,variableList: null})}e.parsing.end = performance.now(),r.levelDetails = h,this.handlePlaylistLoaded(h, t, e, r, n, i)}handleManifestParsingError(t, e, r, n, i) {this.hls.trigger(p.ERROR, {type: g.NETWORK_ERROR,details: m.MANIFEST_PARSING_ERROR,fatal: e.type === be,url: t.url,err: r,error: r,reason: r.message,response: t,context: e,networkDetails: n,stats: i})}handleNetworkError(t, e, r=!1, n, i) {let o = `A network ${r ? "timeout" : "error" + (n ? " (status " + n.code + ")" : "")} occurred while loading ${t.type}`;t.type === we ? o += `: ${t.level} id: ${t.id}` : t.type !== Ee && t.type !== Te || (o += ` id: ${t.id} group-id: "${t.groupId}"`);const s = new Error(o);w.warn(`[playlist-loader]: ${o}`);let c = m.UNKNOWN, u = !1;const l = this.getInternalLoader(t);switch (t.type) {case be:c = r ? m.MANIFEST_LOAD_TIMEOUT : m.MANIFEST_LOAD_ERROR,u = !0;break;case we:c = r ? m.LEVEL_LOAD_TIMEOUT : m.LEVEL_LOAD_ERROR,u = !1;break;case Ee:c = r ? m.AUDIO_TRACK_LOAD_TIMEOUT : m.AUDIO_TRACK_LOAD_ERROR,u = !1;break;case Te:c = r ? m.SUBTITLE_TRACK_LOAD_TIMEOUT : m.SUBTITLE_LOAD_ERROR,u = !1}l && this.resetInternalLoader(t.type);const d = {type: g.NETWORK_ERROR,details: c,fatal: u,url: t.url,loader: l,context: t,error: s,networkDetails: e,stats: i};if (n) {const r = (null == e ? void 0 : e.url) || t.url;d.response = a({url: r,data: void 0}, n)}this.hls.trigger(p.ERROR, d)}handlePlaylistLoaded(t, e, r, n, i, o) {const s = this.hls, {type: a, level: c, id: u, groupId: l, deliveryDirectives: d} = n, f = Ie(e, n), h = Ae(n), v = "number" == typeof n.level && h === Se.MAIN ? c : void 0;if (!t.fragments.length) {const t = new Error("No Segments found in Playlist");return void s.trigger(p.ERROR, {type: g.NETWORK_ERROR,details: m.LEVEL_EMPTY_ERROR,fatal: !1,url: f,error: t,reason: t.message,response: e,context: n,level: v,parent: h,networkDetails: i,stats: r})}t.targetduration || (t.playlistParsingError = new Error("Missing Target Duration"));const y = t.playlistParsingError;if (y)s.trigger(p.ERROR, {type: g.NETWORK_ERROR,details: m.LEVEL_PARSING_ERROR,fatal: !1,url: f,error: y,reason: y.message,response: e,context: n,level: v,parent: h,networkDetails: i,stats: r});elseswitch (t.live && o && (o.getCacheAge && (t.ageHeader = o.getCacheAge() || 0),o.getCacheAge && !isNaN(t.ageHeader) || (t.ageHeader = 0)),a) {case be:case we:s.trigger(p.LEVEL_LOADED, {details: t,level: v || 0,id: u || 0,stats: r,networkDetails: i,deliveryDirectives: d});break;case Ee:s.trigger(p.AUDIO_TRACK_LOADED, {details: t,id: u || 0,groupId: l || "",stats: r,networkDetails: i,deliveryDirectives: d});break;case Te:s.trigger(p.SUBTITLE_TRACK_LOADED, {details: t,id: u || 0,groupId: l || "",stats: r,networkDetails: i,deliveryDirectives: d})}}}function Le(t, e) {let r;try {r = new Event("addtrack")} catch (t) {r = document.createEvent("Event"),r.initEvent("addtrack", !1, !1)}r.track = t,e.dispatchEvent(r)}function ke(t, e) {const r = t.mode;if ("disabled" === r && (t.mode = "hidden"),t.cues && !t.cues.getCueById(e.id))try {if (t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)} catch (r) {w.debug(`[texttrack-utils]: ${r}`);try {const r = new self.TextTrackCue(e.startTime,e.endTime,e.text);r.id = e.id,t.addCue(r)} catch (t) {w.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${t}`)}}"disabled" === r && (t.mode = r)}function Re(t) {const e = t.mode;if ("disabled" === e && (t.mode = "hidden"),t.cues)for (let e = t.cues.length; e--; )t.removeCue(t.cues[e]);"disabled" === e && (t.mode = e)}function Ce(t, e, r, n) {const i = t.mode;if ("disabled" === i && (t.mode = "hidden"),t.cues && t.cues.length > 0) {const i = function(t, e, r) {const n = [], i = function(t, e) {if (e < t[0].startTime)return 0;const r = t.length - 1;if (e > t[r].endTime)return -1;let n = 0, i = r;for (; n <= i; ) {const o = Math.floor((i + n) / 2);if (e < t[o].startTime)i = o - 1;else {if (!(e > t[o].startTime && n < r))return o;n = o + 1}}return t[n].startTime - e < e - t[i].startTime ? n : i}(t, e);if (i > -1)for (let o = i, s = t.length; o < s; o++) {const i = t[o];if (i.startTime >= e && i.endTime <= r)n.push(i);else if (i.startTime > r)return n}return n}(t.cues, e, r);for (let e = 0; e < i.length; e++)n && !n(i[e]) || t.removeCue(i[e])}"disabled" === i && (t.mode = i)}function Pe(t) {const e = [];for (let r = 0; r < t.length; r++) {const n = t[r];"subtitles" !== n.kind && "captions" !== n.kind || !n.label || e.push(t[r])}return e}var De = {audioId3: "org.id3",dateRange: "com.apple.quicktime.HLS",emsg: "https://aomedia.org/emsg/ID3"};function Oe() {if ("undefined" != typeof self)return self.VTTCue || self.TextTrackCue}function Me(t, e, r, n, i) {let o = new t(e,r,"");try {o.value = n,i && (o.type = i)} catch (s) {o = new t(e,r,JSON.stringify(i ? a({type: i}, n) : n))}return o}const Ue = ( () => {const t = Oe();try {t && new t(0,Number.POSITIVE_INFINITY,"")} catch (t) {return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Fe(t, e) {return t.getTime() / 1e3 - e}class Ne {constructor(t) {this.hls = void 0,this.id3Track = null,this.media = null,this.dateRangeCuesAppended = {},this.hls = t,this._registerListeners()}destroy() {this._unregisterListeners(),this.id3Track = null,this.media = null,this.dateRangeCuesAppended = {},this.hls = null}_registerListeners() {const {hls: t} = this;t.on(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.on(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this),t.on(p.BUFFER_FLUSHING, this.onBufferFlushing, this),t.on(p.LEVEL_UPDATED, this.onLevelUpdated, this)}_unregisterListeners() {const {hls: t} = this;t.off(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.off(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this),t.off(p.BUFFER_FLUSHING, this.onBufferFlushing, this),t.off(p.LEVEL_UPDATED, this.onLevelUpdated, this)}onMediaAttached(t, e) {this.media = e.media}onMediaDetaching() {this.id3Track && (Re(this.id3Track),this.id3Track = null,this.media = null,this.dateRangeCuesAppended = {})}onManifestLoading() {this.dateRangeCuesAppended = {}}createTrack(t) {const e = this.getID3Track(t.textTracks);return e.mode = "hidden",e}getID3Track(t) {if (this.media) {for (let e = 0; e < t.length; e++) {const r = t[e];if ("metadata" === r.kind && "id3" === r.label)return Le(r, this.media),r}return this.media.addTextTrack("metadata", "id3")}}onFragParsingMetadata(t, e) {if (!this.media)return;const {hls: {config: {enableEmsgMetadataCues: r, enableID3MetadataCues: n}}} = this;if (!r && !n)return;const {samples: i} = e;this.id3Track || (this.id3Track = this.createTrack(this.media));const o = Oe();if (o)for (let t = 0; t < i.length; t++) {const e = i[t].type;if (e === De.emsg && !r || !n)continue;const s = at(i[t].data);if (s) {const r = i[t].pts;let n = r + i[t].duration;n > Ue && (n = Ue);n - r <= 0 && (n = r + .25);for (let t = 0; t < s.length; t++) {const i = s[t];if (!ot(i)) {this.updateId3CueEnds(r, e);const t = Me(o, r, n, i, e);t && this.id3Track.addCue(t)}}}}}updateId3CueEnds(t, e) {var r;const n = null == (r = this.id3Track) ? void 0 : r.cues;if (n)for (let r = n.length; r--; ) {const i = n[r];i.type === e && i.startTime < t && i.endTime === Ue && (i.endTime = t)}}onBufferFlushing(t, {startOffset: e, endOffset: r, type: n}) {const {id3Track: i, hls: o} = this;if (!o)return;const {config: {enableEmsgMetadataCues: s, enableID3MetadataCues: a}} = o;if (i && (s || a)) {let t;t = "audio" === n ? t => t.type === De.audioId3 && a : "video" === n ? t => t.type === De.emsg && s : t => t.type === De.audioId3 && a || t.type === De.emsg && s,Ce(i, e, r, t)}}onLevelUpdated(t, {details: e}) {if (!this.media || !e.hasProgramDateTime || !this.hls.config.enableDateRangeMetadataCues)return;const {dateRangeCuesAppended: r, id3Track: n} = this, {dateRanges: i} = e, o = Object.keys(i);if (n) {const t = Object.keys(r).filter((t => !o.includes(t)));for (let e = t.length; e--; ) {const i = t[e];Object.keys(r[i].cues).forEach((t => {n.removeCue(r[i].cues[t])})),delete r[i]}}const s = e.fragments[e.fragments.length - 1];if (0 === o.length || !d(null == s ? void 0 : s.programDateTime))return;this.id3Track || (this.id3Track = this.createTrack(this.media));const a = s.programDateTime / 1e3 - s.start, c = Oe();for (let t = 0; t < o.length; t++) {const e = o[t], n = i[e], s = Fe(n.startDate, a), d = r[e], f = (null == d ? void 0 : d.cues) || {};let h = (null == d ? void 0 : d.durationKnown) || !1, p = Ue;const g = n.endDate;if (g)p = Fe(g, a),h = !0;else if (n.endOnNext && !h) {const t = o.reduce(( (t, e) => {if (e !== n.id) {const r = i[e];if (r.class === n.class && r.startDate > n.startDate && (!t || n.startDate < t.startDate))return r}return t}), null);t && (p = Fe(t.startDate, a),h = !0)}const m = Object.keys(n.attr);for (let t = 0; t < m.length; t++) {const r = m[t];if ("ID" === (l = r) || "CLASS" === l || "START-DATE" === l || "DURATION" === l || "END-DATE" === l || "END-ON-NEXT" === l)continue;const i = f[r];if (i)h && !d.durationKnown && (i.endTime = p);else if (c) {let t = n.attr[r];A(r) && (u = t,t = Uint8Array.from(u.replace(/^0x/, "").replace(/([\da-fA-F]{2}) ?/g, "0x$1 ").replace(/ +$/, "").split(" ")).buffer);const i = Me(c, s, p, {key: r,data: t}, De.dateRange);i && (i.id = e,this.id3Track.addCue(i),f[r] = i)}}r[e] = {cues: f,dateRange: n,durationKnown: h}}var u, l}}class Be {constructor(t) {this.hls = void 0,this.config = void 0,this.media = null,this.levelDetails = null,this.currentTime = 0,this.stallCount = 0,this._latency = null,this.timeupdateHandler = () => this.timeupdate(),this.hls = t,this.config = t.config,this.registerListeners()}get latency() {return this._latency || 0}get maxLatency() {const {config: t, levelDetails: e} = this;return void 0 !== t.liveMaxLatencyDuration ? t.liveMaxLatencyDuration : e ? t.liveMaxLatencyDurationCount * e.targetduration : 0}get targetLatency() {const {levelDetails: t} = this;if (null === t)return null;const {holdBack: e, partHoldBack: r, targetduration: n} = t, {liveSyncDuration: i, liveSyncDurationCount: o, lowLatencyMode: s} = this.config, a = this.hls.userConfig;let c = s && r || e;(a.liveSyncDuration || a.liveSyncDurationCount || 0 === c) && (c = void 0 !== i ? i : o * n);const u = n;return c + Math.min(1 * this.stallCount, u)}get liveSyncPosition() {const t = this.estimateLiveEdge(), e = this.targetLatency, r = this.levelDetails;if (null === t || null === e || null === r)return null;const n = r.edge, i = t - e - this.edgeStalled, o = n - r.totalduration, s = n - (this.config.lowLatencyMode && r.partTarget || r.targetduration);return Math.min(Math.max(o, i), s)}get drift() {const {levelDetails: t} = this;return null === t ? 1 : t.drift}get edgeStalled() {const {levelDetails: t} = this;if (null === t)return 0;const e = 3 * (this.config.lowLatencyMode && t.partTarget || t.targetduration);return Math.max(t.age - e, 0)}get forwardBufferLength() {const {media: t, levelDetails: e} = this;if (!t || !e)return 0;const r = t.buffered.length;return (r ? t.buffered.end(r - 1) : e.edge) - this.currentTime}destroy() {this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails = null,this.hls = this.timeupdateHandler = null}registerListeners() {this.hls.on(p.MEDIA_ATTACHED, this.onMediaAttached, this),this.hls.on(p.MEDIA_DETACHING, this.onMediaDetaching, this),this.hls.on(p.MANIFEST_LOADING, this.onManifestLoading, this),this.hls.on(p.LEVEL_UPDATED, this.onLevelUpdated, this),this.hls.on(p.ERROR, this.onError, this)}unregisterListeners() {this.hls.off(p.MEDIA_ATTACHED, this.onMediaAttached, this),this.hls.off(p.MEDIA_DETACHING, this.onMediaDetaching, this),this.hls.off(p.MANIFEST_LOADING, this.onManifestLoading, this),this.hls.off(p.LEVEL_UPDATED, this.onLevelUpdated, this),this.hls.off(p.ERROR, this.onError, this)}onMediaAttached(t, e) {this.media = e.media,this.media.addEventListener("timeupdate", this.timeupdateHandler)}onMediaDetaching() {this.media && (this.media.removeEventListener("timeupdate", this.timeupdateHandler),this.media = null)}onManifestLoading() {this.levelDetails = null,this._latency = null,this.stallCount = 0}onLevelUpdated(t, {details: e}) {this.levelDetails = e,e.advanced && this.timeupdate(),!e.live && this.media && this.media.removeEventListener("timeupdate", this.timeupdateHandler)}onError(t, e) {var r;e.details === m.BUFFER_STALLED_ERROR && (this.stallCount++,null != (r = this.levelDetails) && r.live && w.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate() {const {media: t, levelDetails: e} = this;if (!t || !e)return;this.currentTime = t.currentTime;const r = this.computeLatency();if (null === r)return;this._latency = r;const {lowLatencyMode: n, maxLiveSyncPlaybackRate: i} = this.config;if (!n || 1 === i || !e.live)return;const o = this.targetLatency;if (null === o)return;const s = r - o;if (s < Math.min(this.maxLatency, o + e.targetduration) && s > .05 && this.forwardBufferLength > 1) {const e = Math.min(2, Math.max(1, i)), r = Math.round(2 / (1 + Math.exp(-.75 * s - this.edgeStalled)) * 20) / 20;t.playbackRate = Math.min(e, Math.max(1, r))} else1 !== t.playbackRate && 0 !== t.playbackRate && (t.playbackRate = 1)}estimateLiveEdge() {const {levelDetails: t} = this;return null === t ? null : t.edge + t.age}computeLatency() {const t = this.estimateLiveEdge();return null === t ? null : t - this.currentTime}}const je = ["NONE", "TYPE-0", "TYPE-1", null];const $e = ["SDR", "PQ", "HLG"];var He = {No: "",Yes: "YES",v2: "v2"};function Ge(t) {const {canSkipUntil: e, canSkipDateRanges: r, age: n} = t;return e && n < e / 2 ? r ? He.v2 : He.Yes : He.No}class Ke {constructor(t, e, r) {this.msn = void 0,this.part = void 0,this.skip = void 0,this.msn = t,this.part = e,this.skip = r}addDirectives(t) {const e = new self.URL(t);return void 0 !== this.msn && e.searchParams.set("_HLS_msn", this.msn.toString()),void 0 !== this.part && e.searchParams.set("_HLS_part", this.part.toString()),this.skip && e.searchParams.set("_HLS_skip", this.skip),e.href}}class qe {constructor(t) {this._attrs = void 0,this.audioCodec = void 0,this.bitrate = void 0,this.codecSet = void 0,this.url = void 0,this.frameRate = void 0,this.height = void 0,this.id = void 0,this.name = void 0,this.videoCodec = void 0,this.width = void 0,this.details = void 0,this.fragmentError = 0,this.loadError = 0,this.loaded = void 0,this.realBitrate = 0,this.supportedPromise = void 0,this.supportedResult = void 0,this._avgBitrate = 0,this._audioGroups = void 0,this._subtitleGroups = void 0,this._urlId = 0,this.url = [t.url],this._attrs = [t.attrs],this.bitrate = t.bitrate,t.details && (this.details = t.details),this.id = t.id || 0,this.name = t.name,this.width = t.width || 0,this.height = t.height || 0,this.frameRate = t.attrs.optionalFloat("FRAME-RATE", 0),this._avgBitrate = t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec = t.audioCodec,this.videoCodec = t.videoCodec,this.codecSet = [t.videoCodec, t.audioCodec].filter((t => !!t)).map((t => t.substring(0, 4))).join(","),this.addGroupId("audio", t.attrs.AUDIO),this.addGroupId("text", t.attrs.SUBTITLES)}get maxBitrate() {return Math.max(this.realBitrate, this.bitrate)}get averageBitrate() {return this._avgBitrate || this.realBitrate || this.bitrate}get attrs() {return this._attrs[0]}get codecs() {return this.attrs.CODECS || ""}get pathwayId() {return this.attrs["PATHWAY-ID"] || "."}get videoRange() {return this.attrs["VIDEO-RANGE"] || "SDR"}get score() {return this.attrs.optionalFloat("SCORE", 0)}get uri() {return this.url[0] || ""}hasAudioGroup(t) {return We(this._audioGroups, t)}hasSubtitleGroup(t) {return We(this._subtitleGroups, t)}get audioGroups() {return this._audioGroups}get subtitleGroups() {return this._subtitleGroups}addGroupId(t, e) {if (e)if ("audio" === t) {let t = this._audioGroups;t || (t = this._audioGroups = []),-1 === t.indexOf(e) && t.push(e)} else if ("text" === t) {let t = this._subtitleGroups;t || (t = this._subtitleGroups = []),-1 === t.indexOf(e) && t.push(e)}}get urlId() {return 0}set urlId(t) {}get audioGroupIds() {return this.audioGroups ? [this.audioGroupId] : void 0}get textGroupIds() {return this.subtitleGroups ? [this.textGroupId] : void 0}get audioGroupId() {var t;return null == (t = this.audioGroups) ? void 0 : t[0]}get textGroupId() {var t;return null == (t = this.subtitleGroups) ? void 0 : t[0]}addFallback() {}}function We(t, e) {return !(!e || !t) && -1 !== t.indexOf(e)}function Ve(t, e) {const r = e.startPTS;if (d(r)) {let n, i = 0;e.sn > t.sn ? (i = r - t.start,n = t) : (i = t.start - r,n = e),n.duration !== i && (n.duration = i)} else if (e.sn > t.sn) {t.cc === e.cc && t.minEndPTS ? e.start = t.start + (t.minEndPTS - t.start) : e.start = t.start + t.duration} elsee.start = Math.max(t.start - e.duration, 0)}function ze(t, e, r, n, i, o) {n - r <= 0 && (w.warn("Fragment should have a positive duration", e),n = r + e.duration,o = i + e.duration);let s = r, a = n;const c = e.startPTS, u = e.endPTS;if (d(c)) {const t = Math.abs(c - r);d(e.deltaPTS) ? e.deltaPTS = Math.max(t, e.deltaPTS) : e.deltaPTS = t,s = Math.max(r, c),r = Math.min(r, c),i = Math.min(i, e.startDTS),a = Math.min(n, u),n = Math.max(n, u),o = Math.max(o, e.endDTS)}const l = r - e.start;0 !== e.start && (e.start = r),e.duration = n - e.start,e.startPTS = r,e.maxStartPTS = s,e.startDTS = i,e.endPTS = n,e.minEndPTS = a,e.endDTS = o;const f = e.sn;if (!t || f < t.startSN || f > t.endSN)return 0;let h;const p = f - t.startSN, g = t.fragments;for (g[p] = e,h = p; h > 0; h--)Ve(g[h], g[h - 1]);for (h = p; h < g.length - 1; h++)Ve(g[h], g[h + 1]);return t.fragmentHint && Ve(g[g.length - 1], t.fragmentHint),t.PTSKnown = t.alignedSliding = !0,l}function Ye(t, e) {let r = null;const n = t.fragments;for (let t = n.length - 1; t >= 0; t--) {const e = n[t].initSegment;if (e) {r = e;break}}let i;t.fragmentHint && delete t.fragmentHint.endPTS,function(t, e, r) {const n = e.skippedSegments, i = Math.max(t.startSN, e.startSN) - e.startSN, o = (t.fragmentHint ? 1 : 0) + (n ? e.endSN : Math.min(t.endSN, e.endSN)) - e.startSN, s = e.startSN - t.startSN, a = e.fragmentHint ? e.fragments.concat(e.fragmentHint) : e.fragments, c = t.fragmentHint ? t.fragments.concat(t.fragmentHint) : t.fragments;for (let t = i; t <= o; t++) {const i = c[s + t];let o = a[t];n && !o && t < n && (o = e.fragments[t] = i),i && o && r(i, o, t, a)}}(t, e, ( (t, n, o, s) => {if (e.skippedSegments && n.cc !== t.cc) {const e = t.cc - n.cc;for (let t = o; t < s.length; t++)s[t].cc += e}d(t.startPTS) && d(t.endPTS) && (n.start = n.startPTS = t.startPTS,n.startDTS = t.startDTS,n.maxStartPTS = t.maxStartPTS,n.endPTS = t.endPTS,n.endDTS = t.endDTS,n.minEndPTS = t.minEndPTS,n.duration = t.endPTS - t.startPTS,n.duration && (i = n),e.PTSKnown = e.alignedSliding = !0),n.elementaryStreams = t.elementaryStreams,n.loader = t.loader,n.stats = t.stats,t.initSegment && (n.initSegment = t.initSegment,r = t.initSegment)}));const o = e.fragments;if (r) {(e.fragmentHint ? o.concat(e.fragmentHint) : o).forEach((t => {var e;!t || t.initSegment && t.initSegment.relurl !== (null == (e = r) ? void 0 : e.relurl) || (t.initSegment = r)}))}if (e.skippedSegments) {if (e.deltaUpdateFailed = o.some((t => !t)),e.deltaUpdateFailed) {w.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for (let t = e.skippedSegments; t--; )o.shift();e.startSN = o[0].sn} elsee.canSkipDateRanges && (e.dateRanges = function(t, e, r) {const n = l({}, t);r && r.forEach((t => {delete n[t]}));return Object.keys(e).forEach((t => {const r = new I(e[t].attr,n[t]);r.isValid ? n[t] = r : w.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[t].attr)}"`)})),n}(t.dateRanges, e.dateRanges, e.recentlyRemovedDateranges));e.startCC = e.fragments[0].cc,e.endCC = o[o.length - 1].cc}!function(t, e, r) {if (t && e) {let n = 0;for (let i = 0, o = t.length; i <= o; i++) {const o = t[i], s = e[i + n];o && s && o.index === s.index && o.fragment.sn === s.fragment.sn ? r(o, s) : n--}}}(t.partList, e.partList, ( (t, e) => {e.elementaryStreams = t.elementaryStreams,e.stats = t.stats})),i ? ze(e, i, i.startPTS, i.endPTS, i.startDTS, i.endDTS) : Qe(t, e),o.length && (e.totalduration = e.edge - o[0].start),e.driftStartTime = t.driftStartTime,e.driftStart = t.driftStart;const s = e.advancedDateTime;if (e.advanced && s) {const t = e.edge;e.driftStart || (e.driftStartTime = s,e.driftStart = t),e.driftEndTime = s,e.driftEnd = t} elsee.driftEndTime = t.driftEndTime,e.driftEnd = t.driftEnd,e.advancedDateTime = t.advancedDateTime}function Qe(t, e) {const r = e.startSN + e.skippedSegments - t.startSN, n = t.fragments;r < 0 || r >= n.length || Xe(e, n[r].start)}function Xe(t, e) {if (e) {const r = t.fragments;for (let n = t.skippedSegments; n < r.length; n++)r[n].start += e;t.fragmentHint && (t.fragmentHint.start += e)}}function Je(t, e, r) {var n;return null != t && t.details ? Ze(null == (n = t.details) ? void 0 : n.partList, e, r) : null}function Ze(t, e, r) {if (t)for (let n = t.length; n--; ) {const i = t[n];if (i.index === r && i.fragment.sn === e)return i}return null}function tr(t) {t.forEach(( (t, e) => {const {details: r} = t;null != r && r.fragments && r.fragments.forEach((t => {t.level = e}))}))}function er(t) {switch (t.details) {case m.FRAG_LOAD_TIMEOUT:case m.KEY_LOAD_TIMEOUT:case m.LEVEL_LOAD_TIMEOUT:case m.MANIFEST_LOAD_TIMEOUT:return !0}return !1}function rr(t, e) {const r = er(e);return t.default[(r ? "timeout" : "error") + "Retry"]}function nr(t, e) {const r = "linear" === t.backoff ? 1 : Math.pow(2, e);return Math.min(r * t.retryDelayMs, t.maxRetryDelayMs)}function ir(t) {return a(a({}, t), {errorRetry: null,timeoutRetry: null})}function or(t, e, r, n) {if (!t)return !1;const i = null == n ? void 0 : n.code, o = e < t.maxNumRetry && (function(t) {return 0 === t && !1 === navigator.onLine || !!t && (t < 400 || t > 499)}(i) || !!r);return t.shouldRetry ? t.shouldRetry(t, e, r, n, o) : o}const sr = function(t, e) {let r = 0, n = t.length - 1, i = null, o = null;for (; r <= n; ) {i = (r + n) / 2 | 0,o = t[i];const s = e(o);if (s > 0)r = i + 1;else {if (!(s < 0))return o;n = i - 1}}return null};function ar(t, e, r=0, n=0, i=.005) {let o = null;if (t) {o = e[t.sn - e[0].sn + 1] || null;const n = t.endDTS - r;n > 0 && n < 15e-7 && (r += 15e-7)} else0 === r && 0 === e[0].start && (o = e[0]);if (o && ((!t || t.level === o.level) && 0 === cr(r, n, o) || function(t, e, r) {if (e && 0 === e.start && e.level < t.level && (e.endPTS || 0) > 0) {const n = e.tagList.reduce(( (t, e) => ("INF" === e[0] && (t += parseFloat(e[1])),t)), r);return t.start <= n}return !1}(o, t, Math.min(i, n))))return o;const s = sr(e, cr.bind(null, r, n));return !s || s === t && o ? o : s}function cr(t=0, e=0, r) {if (r.start <= t && r.start + r.duration > t)return 0;const n = Math.min(e, r.duration + (r.deltaPTS ? r.deltaPTS : 0));return r.start + r.duration - n <= t ? 1 : r.start - n > t && r.start ? -1 : 0}function ur(t, e, r) {const n = 1e3 * Math.min(e, r.duration + (r.deltaPTS ? r.deltaPTS : 0));return (r.endProgramDateTime || 0) - n > t}var lr = {DoNothing: 0,SendEndCallback: 1,SendAlternateToPenaltyBox: 2,RemoveAlternatePermanently: 3,InsertDiscontinuity: 4,RetryRequest: 5}, dr = {None: 0,MoveAllAlternatesMatchingHost: 1,MoveAllAlternatesMatchingHDCP: 2,SwitchToSDR: 4};class fr {constructor(t) {this.hls = void 0,this.playlistError = 0,this.penalizedRenditions = {},this.log = void 0,this.warn = void 0,this.error = void 0,this.hls = t,this.log = w.log.bind(w, "[info]:"),this.warn = w.warn.bind(w, "[warning]:"),this.error = w.error.bind(w, "[error]:"),this.registerListeners()}registerListeners() {const t = this.hls;t.on(p.ERROR, this.onError, this),t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.LEVEL_UPDATED, this.onLevelUpdated, this)}unregisterListeners() {const t = this.hls;t && (t.off(p.ERROR, this.onError, this),t.off(p.ERROR, this.onErrorOut, this),t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.LEVEL_UPDATED, this.onLevelUpdated, this))}destroy() {this.unregisterListeners(),this.hls = null,this.penalizedRenditions = {}}startLoad(t) {}stopLoad() {this.playlistError = 0}getVariantLevelIndex(t) {return (null == t ? void 0 : t.type) === Se.MAIN ? t.level : this.hls.loadLevel}onManifestLoading() {this.playlistError = 0,this.penalizedRenditions = {}}onLevelUpdated() {this.playlistError = 0}onError(t, e) {var r, n;if (e.fatal)return;const i = this.hls, o = e.context;switch (e.details) {case m.FRAG_LOAD_ERROR:case m.FRAG_LOAD_TIMEOUT:case m.KEY_LOAD_ERROR:case m.KEY_LOAD_TIMEOUT:return void (e.errorAction = this.getFragRetryOrSwitchAction(e));case m.FRAG_PARSING_ERROR:if (null != (r = e.frag) && r.gap)return void (e.errorAction = {action: lr.DoNothing,flags: dr.None});case m.FRAG_GAP:case m.FRAG_DECRYPT_ERROR:return e.errorAction = this.getFragRetryOrSwitchAction(e),void (e.errorAction.action = lr.SendAlternateToPenaltyBox);case m.LEVEL_EMPTY_ERROR:case m.LEVEL_PARSING_ERROR:{var s, a;const t = e.parent === Se.MAIN ? e.level : i.loadLevel;e.details === m.LEVEL_EMPTY_ERROR && null != (s = e.context) && null != (a = s.levelDetails) && a.live ? e.errorAction = this.getPlaylistRetryOrSwitchAction(e, t) : (e.levelRetry = !1,e.errorAction = this.getLevelSwitchAction(e, t))}return;case m.LEVEL_LOAD_ERROR:case m.LEVEL_LOAD_TIMEOUT:return void ("number" == typeof (null == o ? void 0 : o.level) && (e.errorAction = this.getPlaylistRetryOrSwitchAction(e, o.level)));case m.AUDIO_TRACK_LOAD_ERROR:case m.AUDIO_TRACK_LOAD_TIMEOUT:case m.SUBTITLE_LOAD_ERROR:case m.SUBTITLE_TRACK_LOAD_TIMEOUT:if (o) {const t = i.levels[i.loadLevel];if (t && (o.type === Ee && t.hasAudioGroup(o.groupId) || o.type === Te && t.hasSubtitleGroup(o.groupId)))return e.errorAction = this.getPlaylistRetryOrSwitchAction(e, i.loadLevel),e.errorAction.action = lr.SendAlternateToPenaltyBox,void (e.errorAction.flags = dr.MoveAllAlternatesMatchingHost)}return;case m.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const t = i.levels[i.loadLevel], r = null == t ? void 0 : t.attrs["HDCP-LEVEL"];r ? e.errorAction = {action: lr.SendAlternateToPenaltyBox,flags: dr.MoveAllAlternatesMatchingHDCP,hdcpLevel: r} : this.keySystemError(e)}return;case m.BUFFER_ADD_CODEC_ERROR:case m.REMUX_ALLOC_ERROR:case m.BUFFER_APPEND_ERROR:return void (e.errorAction = this.getLevelSwitchAction(e, null != (n = e.level) ? n : i.loadLevel));case m.INTERNAL_EXCEPTION:case m.BUFFER_APPENDING_ERROR:case m.BUFFER_FULL_ERROR:case m.LEVEL_SWITCH_ERROR:case m.BUFFER_STALLED_ERROR:case m.BUFFER_SEEK_OVER_HOLE:case m.BUFFER_NUDGE_ON_STALL:return void (e.errorAction = {action: lr.DoNothing,flags: dr.None})}e.type === g.KEY_SYSTEM_ERROR && this.keySystemError(e)}keySystemError(t) {const e = this.getVariantLevelIndex(t.frag);t.levelRetry = !1,t.errorAction = this.getLevelSwitchAction(t, e)}getPlaylistRetryOrSwitchAction(t, e) {const r = rr(this.hls.config.playlistLoadPolicy, t), n = this.playlistError++;if (or(r, n, er(t), t.response))return {action: lr.RetryRequest,flags: dr.None,retryConfig: r,retryCount: n};const i = this.getLevelSwitchAction(t, e);return r && (i.retryConfig = r,i.retryCount = n),i}getFragRetryOrSwitchAction(t) {const e = this.hls, r = this.getVariantLevelIndex(t.frag), n = e.levels[r], {fragLoadPolicy: i, keyLoadPolicy: o} = e.config, s = rr(t.details.startsWith("key") ? o : i, t), a = e.levels.reduce(( (t, e) => t + e.fragmentError), 0);if (n) {t.details !== m.FRAG_GAP && n.fragmentError++;if (or(s, a, er(t), t.response))return {action: lr.RetryRequest,flags: dr.None,retryConfig: s,retryCount: a}}const c = this.getLevelSwitchAction(t, r);return s && (c.retryConfig = s,c.retryCount = a),c}getLevelSwitchAction(t, e) {const r = this.hls;null == e && (e = r.loadLevel);const n = this.hls.levels[e];if (n) {var i, o;const e = t.details;n.loadError++,e === m.BUFFER_APPEND_ERROR && n.fragmentError++;let c = -1;const {levels: u, loadLevel: l, minAutoLevel: d, maxAutoLevel: f} = r;r.autoLevelEnabled || (r.loadLevel = -1);const h = null == (i = t.frag) ? void 0 : i.type, p = (h === Se.AUDIO && e === m.FRAG_PARSING_ERROR || "audio" === t.sourceBufferName && (e === m.BUFFER_ADD_CODEC_ERROR || e === m.BUFFER_APPEND_ERROR)) && u.some(( ({audioCodec: t}) => n.audioCodec !== t)), g = "video" === t.sourceBufferName && (e === m.BUFFER_ADD_CODEC_ERROR || e === m.BUFFER_APPEND_ERROR) && u.some(( ({codecSet: t, audioCodec: e}) => n.codecSet !== t && n.audioCodec === e)), {type: v, groupId: y} = null != (o = t.context) ? o : {};for (let r = u.length; r--; ) {const i = (r + l) % u.length;if (i !== l && i >= d && i <= f && 0 === u[i].loadError) {var s, a;const r = u[i];if (e === m.FRAG_GAP && h === Se.MAIN && t.frag) {const e = u[i].details;if (e) {const r = ar(t.frag, e.fragments, t.frag.start);if (null != r && r.gap)continue}} else {if (v === Ee && r.hasAudioGroup(y) || v === Te && r.hasSubtitleGroup(y))continue;if (h === Se.AUDIO && null != (s = n.audioGroups) && s.some((t => r.hasAudioGroup(t))) || h === Se.SUBTITLE && null != (a = n.subtitleGroups) && a.some((t => r.hasSubtitleGroup(t))) || p && n.audioCodec === r.audioCodec || !p && n.audioCodec !== r.audioCodec || g && n.codecSet === r.codecSet)continue}c = i;break}}if (c > -1 && r.loadLevel !== c)return t.levelRetry = !0,this.playlistError = 0,{action: lr.SendAlternateToPenaltyBox,flags: dr.None,nextAutoLevel: c}}return {action: lr.SendAlternateToPenaltyBox,flags: dr.MoveAllAlternatesMatchingHost}}onErrorOut(t, e) {var r;switch (null == (r = e.errorAction) ? void 0 : r.action) {case lr.DoNothing:break;case lr.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved || e.details === m.FRAG_GAP ? /MediaSource readyState: ended/.test(e.error.message) && (this.warn(`MediaSource ended after "${e.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError()) : e.fatal = !0;case lr.RetryRequest:}e.fatal && this.hls.stopLoad()}sendAlternateToPenaltyBox(t) {const e = this.hls, r = t.errorAction;if (!r)return;const {flags: n, hdcpLevel: i, nextAutoLevel: o} = r;switch (n) {case dr.None:this.switchLevel(t, o);break;case dr.MoveAllAlternatesMatchingHDCP:i && (e.maxHdcpLevel = je[je.indexOf(i) - 1],r.resolved = !0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}r.resolved || this.switchLevel(t, o)}switchLevel(t, e) {void 0 !== e && t.errorAction && (this.warn(`switching to level ${e} after ${t.details}`),this.hls.nextAutoLevel = e,t.errorAction.resolved = !0,this.hls.nextLoadLevel = this.hls.nextAutoLevel)}}class hr {constructor(t, e) {this.hls = void 0,this.timer = -1,this.requestScheduled = -1,this.canLoad = !1,this.log = void 0,this.warn = void 0,this.log = w.log.bind(w, `${e}:`),this.warn = w.warn.bind(w, `${e}:`),this.hls = t}destroy() {this.clearTimer(),this.hls = this.log = this.warn = null}clearTimer() {-1 !== this.timer && (self.clearTimeout(this.timer),this.timer = -1)}startLoad() {this.canLoad = !0,this.requestScheduled = -1,this.loadPlaylist()}stopLoad() {this.canLoad = !1,this.clearTimer()}switchParams(t, e, r) {const n = null == e ? void 0 : e.renditionReports;if (n) {let i = -1;for (let r = 0; r < n.length; r++) {const o = n[r];let s;try {s = new self.URL(o.URI,e.url).href} catch (t) {w.warn(`Could not construct new URL for Rendition Report: ${t}`),s = o.URI || ""}if (s === t) {i = r;break}s === t.substring(0, s.length) && (i = r)}if (-1 !== i) {const t = n[i], o = parseInt(t["LAST-MSN"]) || (null == e ? void 0 : e.lastPartSn);let s = parseInt(t["LAST-PART"]) || (null == e ? void 0 : e.lastPartIndex);if (this.hls.config.lowLatencyMode) {const t = Math.min(e.age - e.partTarget, e.targetduration);s >= 0 && t > e.partTarget && (s += 1)}const a = r && Ge(r);return new Ke(o,s >= 0 ? s : void 0,a)}}}loadPlaylist(t) {-1 === this.requestScheduled && (this.requestScheduled = self.performance.now())}shouldLoadPlaylist(t) {return this.canLoad && !!t && !!t.url && (!t.details || t.details.live)}shouldReloadPlaylist(t) {return -1 === this.timer && -1 === this.requestScheduled && this.shouldLoadPlaylist(t)}playlistLoaded(t, e, r) {const {details: n, stats: i} = e, o = self.performance.now(), s = i.loading.first ? Math.max(0, o - i.loading.first) : 0;if (n.advancedDateTime = Date.now() - s,n.live || null != r && r.live) {if (n.reloaded(r),r && this.log(`live playlist ${t} ${n.advanced ? "REFRESHED " + n.lastPartSn + "-" + n.lastPartIndex : n.updated ? "UPDATED" : "MISSED"}`),r && n.fragments.length > 0 && Ye(r, n),!this.canLoad || !n.live)return;let s, a, c;if (n.canBlockReload && n.endSN && n.advanced) {const t = this.hls.config.lowLatencyMode, i = n.lastPartSn, o = n.endSN, u = n.lastPartIndex, l = i === o;-1 !== u ? (a = l ? o + 1 : i,c = l ? t ? 0 : u : u + 1) : a = o + 1;const d = n.age, f = d + n.ageHeader;let h = Math.min(f - n.partTarget, 1.5 * n.targetduration);if (h > 0) {if (r && h > r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${h} with playlist age: ${n.age}`),h = 0;else {const t = Math.floor(h / n.targetduration);if (a += t,void 0 !== c) {c += Math.round(h % n.targetduration / n.partTarget)}this.log(`CDN Tune-in age: ${n.ageHeader}s last advanced ${d.toFixed(2)}s goal: ${h} skip sn ${t} to part ${c}`)}n.tuneInGoal = h}if (s = this.getDeliveryDirectives(n, e.deliveryDirectives, a, c),t || !l)return void this.loadPlaylist(s)} else(n.canBlockReload || n.canSkipUntil) && (s = this.getDeliveryDirectives(n, e.deliveryDirectives, a, c));const u = this.hls.mainForwardBufferInfo, l = u ? u.end - u.len : 0, d = function(t, e=1 / 0) {let r = 1e3 * t.targetduration;if (t.updated) {const n = t.fragments, i = 4;if (n.length && r * i > e) {const t = 1e3 * n[n.length - 1].duration;t < r && (r = t)}} elser /= 2;return Math.round(r)}(n, 1e3 * (n.edge - l));n.updated && o > this.requestScheduled + d && (this.requestScheduled = i.loading.start),void 0 !== a && n.canBlockReload ? this.requestScheduled = i.loading.first + d - (1e3 * n.partTarget || 1e3) : -1 === this.requestScheduled || this.requestScheduled + d < o ? this.requestScheduled = o : this.requestScheduled - o <= 0 && (this.requestScheduled += d);let f = this.requestScheduled - o;f = Math.max(0, f),this.log(`reload live playlist ${t} in ${Math.round(f)} ms`),this.timer = self.setTimeout(( () => this.loadPlaylist(s)), f)} elsethis.clearTimer()}getDeliveryDirectives(t, e, r, n) {let i = Ge(t);return null != e && e.skip && t.deltaUpdateFailed && (r = e.msn,n = e.part,i = He.No),new Ke(r,n,i)}checkRetry(t) {const e = t.details, r = er(t), n = t.errorAction, {action: i, retryCount: o=0, retryConfig: s} = n || {}, a = !!n && !!s && (i === lr.RetryRequest || !n.resolved && i === lr.SendAlternateToPenaltyBox);if (a) {var c;if (this.requestScheduled = -1,o >= s.maxNumRetry)return !1;if (r && null != (c = t.context) && c.deliveryDirectives)this.warn(`Retrying playlist loading ${o + 1}/${s.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else {const t = nr(s, o);this.timer = self.setTimeout(( () => this.loadPlaylist()), t),this.warn(`Retrying playlist loading ${o + 1}/${s.maxNumRetry} after "${e}" in ${t}ms`)}t.levelRetry = !0,n.resolved = !0}return a}}class pr {constructor(t, e=0, r=0) {this.halfLife = void 0,this.alpha_ = void 0,this.estimate_ = void 0,this.totalWeight_ = void 0,this.halfLife = t,this.alpha_ = t ? Math.exp(Math.log(.5) / t) : 0,this.estimate_ = e,this.totalWeight_ = r}sample(t, e) {const r = Math.pow(this.alpha_, t);this.estimate_ = e * (1 - r) + r * this.estimate_,this.totalWeight_ += t}getTotalWeight() {return this.totalWeight_}getEstimate() {if (this.alpha_) {const t = 1 - Math.pow(this.alpha_, this.totalWeight_);if (t)return this.estimate_ / t}return this.estimate_}}class gr {constructor(t, e, r, n=100) {this.defaultEstimate_ = void 0,this.minWeight_ = void 0,this.minDelayMs_ = void 0,this.slow_ = void 0,this.fast_ = void 0,this.defaultTTFB_ = void 0,this.ttfb_ = void 0,this.defaultEstimate_ = r,this.minWeight_ = .001,this.minDelayMs_ = 50,this.slow_ = new pr(t),this.fast_ = new pr(e),this.defaultTTFB_ = n,this.ttfb_ = new pr(t)}update(t, e) {const {slow_: r, fast_: n, ttfb_: i} = this;r.halfLife !== t && (this.slow_ = new pr(t,r.getEstimate(),r.getTotalWeight())),n.halfLife !== e && (this.fast_ = new pr(e,n.getEstimate(),n.getTotalWeight())),i.halfLife !== t && (this.ttfb_ = new pr(t,i.getEstimate(),i.getTotalWeight()))}sample(t, e) {const r = (t = Math.max(t, this.minDelayMs_)) / 1e3, n = 8 * e / r;this.fast_.sample(r, n),this.slow_.sample(r, n)}sampleTTFB(t) {const e = t / 1e3, r = Math.sqrt(2) * Math.exp(-Math.pow(e, 2) / 2);this.ttfb_.sample(r, Math.max(t, 5))}canEstimate() {return this.fast_.getTotalWeight() >= this.minWeight_}getEstimate() {return this.canEstimate() ? Math.min(this.fast_.getEstimate(), this.slow_.getEstimate()) : this.defaultEstimate_}getEstimateTTFB() {return this.ttfb_.getTotalWeight() >= this.minWeight_ ? this.ttfb_.getEstimate() : this.defaultTTFB_}destroy() {}}const mr = {supported: !0,configurations: [],decodingInfoResults: [{supported: !0,powerEfficient: !0,smooth: !0}]}, vr = {};function yr(t, e, r, n, i, o) {const s = t.audioCodec ? t.audioGroups : null, a = null == o ? void 0 : o.audioCodec, c = null == o ? void 0 : o.channels, u = c ? parseInt(c) : a ? 1 / 0 : 2;let l = null;if (null != s && s.length)try {l = 1 === s.length && s[0] ? e.groups[s[0]].channels : s.reduce(( (t, r) => {if (r) {const n = e.groups[r];if (!n)throw new Error(`Audio track group ${r} not found`);Object.keys(n.channels).forEach((e => {t[e] = (t[e] || 0) + n.channels[e]}))}return t}), {2: 0})} catch (t) {return !0}return void 0 !== t.videoCodec && (t.width > 1920 && t.height > 1088 || t.height > 1920 && t.width > 1088 || t.frameRate > Math.max(n, 30) || "SDR" !== t.videoRange && t.videoRange !== r || t.bitrate > Math.max(i, 8e6)) || !!l && d(u) && Object.keys(l).some((t => parseInt(t) > u))}function _r(t, e, r) {const n = t.videoCodec, i = t.audioCodec;if (!n || !i || !r)return Promise.resolve(mr);const o = {width: t.width,height: t.height,bitrate: Math.ceil(Math.max(.9 * t.bitrate, t.averageBitrate)),framerate: t.frameRate || 30}, s = t.videoRange;"SDR" !== s && (o.transferFunction = s.toLowerCase());const c = n.split(",").map((t => ({type: "media-source",video: a(a({}, o), {}, {contentType: te(t, "video")})})));return i && t.audioGroups && t.audioGroups.forEach((t => {var r;t && (null == (r = e.groups[t]) || r.tracks.forEach((e => {if (e.groupId === t) {const t = e.channels || "", r = parseFloat(t);d(r) && r > 2 && c.push.apply(c, i.split(",").map((t => ({type: "media-source",audio: {contentType: te(t, "audio"),channels: "" + r}}))))}})))})),Promise.all(c.map((t => {const e = function(t) {const {audio: e, video: r} = t, n = r || e;if (n) {const t = n.contentType.split('"')[1];if (r)return `r${r.height}x${r.width}f${Math.ceil(r.framerate)}${r.transferFunction || "sd"}_${t}_${Math.ceil(r.bitrate / 1e5)}`;if (e)return `c${e.channels}${e.spatialRendering ? "s" : "n"}_${t}`}return ""}(t);return vr[e] || (vr[e] = r.decodingInfo(t))}))).then((t => ({supported: !t.some((t => !t.supported)),configurations: c,decodingInfoResults: t}))).catch((t => ({supported: !1,configurations: c,decodingInfoResults: [],error: t})))}function br(t, e) {let r = !1, n = [];return t && (r = "SDR" !== t,n = [t]),e && (n = e.allowedVideoRanges || $e.slice(0),r = void 0 !== e.preferHDR ? e.preferHDR : function() {if ("function" == typeof matchMedia) {const t = matchMedia("(dynamic-range: high)"), e = matchMedia("bad query");if (t.media !== e.media)return !0 === t.matches}return !1}(),n = r ? n.filter((t => "SDR" !== t)) : ["SDR"]),{preferHDR: r,allowedVideoRanges: n}}function wr(t, e) {w.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function Er(t, e, r) {if ("attrs"in t) {const r = e.indexOf(t);if (-1 !== r)return r}for (let n = 0; n < e.length; n++) {if (Tr(t, e[n], r))return n}return -1}function Tr(t, e, r) {const {groupId: n, name: i, lang: o, assocLang: s, default: a} = t, c = t.forced;return (void 0 === n || e.groupId === n) && (void 0 === i || e.name === i) && (void 0 === o || e.lang === o) && (void 0 === o || e.assocLang === s) && (void 0 === a || e.default === a) && (void 0 === c || e.forced === c) && (!("characteristics"in t) || function(t, e="") {const r = t.split(","), n = e.split(",");return r.length === n.length && !r.some((t => -1 === n.indexOf(t)))}(t.characteristics || "", e.characteristics)) && (void 0 === r || r(t, e))}function Sr(t, e) {const {audioCodec: r, channels: n} = t;return !(void 0 !== r && (e.audioCodec || "").substring(0, 4) !== r.substring(0, 4) || void 0 !== n && n !== (e.channels || "2"))}function Ar(t, e, r) {for (let n = e; n > -1; n--)if (r(t[n]))return n;for (let n = e + 1; n < t.length; n++)if (r(t[n]))return n;return -1}class Ir {constructor(t) {this.hls = void 0,this.lastLevelLoadSec = 0,this.lastLoadedFragLevel = -1,this.firstSelection = -1,this._nextAutoLevel = -1,this.nextAutoLevelKey = "",this.audioTracksByGroup = null,this.codecTiers = null,this.timer = -1,this.fragCurrent = null,this.partCurrent = null,this.bitrateTestDelay = 0,this.bwEstimator = void 0,this._abandonRulesCheck = () => {const {fragCurrent: t, partCurrent: e, hls: r} = this, {autoLevelEnabled: n, media: i} = r;if (!t || !i)return;const o = performance.now(), s = e ? e.stats : t.stats, a = e ? e.duration : t.duration, c = o - s.loading.start, u = r.minAutoLevel;if (s.aborted || s.loaded && s.loaded === s.total || t.level <= u)return this.clearTimer(),void (this._nextAutoLevel = -1);if (!n || i.paused || !i.playbackRate || !i.readyState)return;const l = r.mainForwardBufferInfo;if (null === l)return;const f = this.bwEstimator.getEstimateTTFB(), h = Math.abs(i.playbackRate);if (c <= Math.max(f, a / (2 * h) * 1e3))return;const g = l.len / h, m = s.loading.first ? s.loading.first - s.loading.start : -1, v = s.loaded && m > -1, y = this.getBwEstimate(), _ = r.levels, b = _[t.level], E = s.total || Math.max(s.loaded, Math.round(a * b.averageBitrate / 8));let T = v ? c - m : c;T < 1 && v && (T = Math.min(c, 8 * s.loaded / y));const S = v ? 1e3 * s.loaded / T : 0, A = S ? (E - s.loaded) / S : 8 * E / y + f / 1e3;if (A <= g)return;const I = S ? 8 * S : y;let x, L = Number.POSITIVE_INFINITY;for (x = t.level - 1; x > u; x--) {const t = _[x].maxBitrate;if (L = this.getTimeToLoadFrag(f / 1e3, I, a * t, !_[x].details),L < g)break}if (L >= A)return;if (L > 10 * a)return;r.nextLoadLevel = r.nextAutoLevel = x,v ? this.bwEstimator.sample(c - Math.min(f, m), s.loaded) : this.bwEstimator.sampleTTFB(c);const k = _[x].maxBitrate;this.getBwEstimate() * this.hls.config.abrBandWidthUpFactor > k && this.resetEstimator(k),this.clearTimer(),w.warn(`[abr] Fragment ${t.sn}${e ? " part " + e.index : ""} of level ${t.level} is loading too slowly;\n      Time to underbuffer: ${g.toFixed(3)} s\n      Estimated load time for current fragment: ${A.toFixed(3)} s\n      Estimated load time for down switch fragment: ${L.toFixed(3)} s\n      TTFB estimate: ${0 | m} ms\n      Current BW estimate: ${d(y) ? 0 | y : "Unknown"} bps\n      New BW estimate: ${0 | this.getBwEstimate()} bps\n      Switching to level ${x} @ ${0 | k} bps`),r.trigger(p.FRAG_LOAD_EMERGENCY_ABORTED, {frag: t,part: e,stats: s})},this.hls = t,this.bwEstimator = this.initEstimator(),this.registerListeners()}resetEstimator(t) {t && (w.log(`setting initial bwe to ${t}`),this.hls.config.abrEwmaDefaultEstimate = t),this.firstSelection = -1,this.bwEstimator = this.initEstimator()}initEstimator() {const t = this.hls.config;return new gr(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)}registerListeners() {const {hls: t} = this;t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.FRAG_LOADING, this.onFragLoading, this),t.on(p.FRAG_LOADED, this.onFragLoaded, this),t.on(p.FRAG_BUFFERED, this.onFragBuffered, this),t.on(p.LEVEL_SWITCHING, this.onLevelSwitching, this),t.on(p.LEVEL_LOADED, this.onLevelLoaded, this),t.on(p.LEVELS_UPDATED, this.onLevelsUpdated, this),t.on(p.MAX_AUTO_LEVEL_UPDATED, this.onMaxAutoLevelUpdated, this),t.on(p.ERROR, this.onError, this)}unregisterListeners() {const {hls: t} = this;t && (t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.FRAG_LOADING, this.onFragLoading, this),t.off(p.FRAG_LOADED, this.onFragLoaded, this),t.off(p.FRAG_BUFFERED, this.onFragBuffered, this),t.off(p.LEVEL_SWITCHING, this.onLevelSwitching, this),t.off(p.LEVEL_LOADED, this.onLevelLoaded, this),t.off(p.LEVELS_UPDATED, this.onLevelsUpdated, this),t.off(p.MAX_AUTO_LEVEL_UPDATED, this.onMaxAutoLevelUpdated, this),t.off(p.ERROR, this.onError, this))}destroy() {this.unregisterListeners(),this.clearTimer(),this.hls = this._abandonRulesCheck = null,this.fragCurrent = this.partCurrent = null}onManifestLoading(t, e) {this.lastLoadedFragLevel = -1,this.firstSelection = -1,this.lastLevelLoadSec = 0,this.fragCurrent = this.partCurrent = null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated() {this.lastLoadedFragLevel > -1 && this.fragCurrent && (this.lastLoadedFragLevel = this.fragCurrent.level),this._nextAutoLevel = -1,this.onMaxAutoLevelUpdated(),this.codecTiers = null,this.audioTracksByGroup = null}onMaxAutoLevelUpdated() {this.firstSelection = -1,this.nextAutoLevelKey = ""}onFragLoading(t, e) {const r = e.frag;if (!this.ignoreFragment(r)) {var n;if (!r.bitrateTest)this.fragCurrent = r,this.partCurrent = null != (n = e.part) ? n : null;this.clearTimer(),this.timer = self.setInterval(this._abandonRulesCheck, 100)}}onLevelSwitching(t, e) {this.clearTimer()}onError(t, e) {if (!e.fatal)switch (e.details) {case m.BUFFER_ADD_CODEC_ERROR:case m.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel = -1,this.firstSelection = -1;break;case m.FRAG_LOAD_TIMEOUT:{const t = e.frag, {fragCurrent: r, partCurrent: n} = this;if (t && r && t.sn === r.sn && t.level === r.level) {const e = performance.now(), r = n ? n.stats : t.stats, i = e - r.loading.start, o = r.loading.first ? r.loading.first - r.loading.start : -1;if (r.loaded && o > -1) {const t = this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(i - Math.min(t, o), r.loaded)} elsethis.bwEstimator.sampleTTFB(i)}break}}}getTimeToLoadFrag(t, e, r, n) {return t + r / e + (n ? this.lastLevelLoadSec : 0)}onLevelLoaded(t, e) {const r = this.hls.config, {loading: n} = e.stats, i = n.end - n.start;d(i) && (this.lastLevelLoadSec = i / 1e3),e.details.live ? this.bwEstimator.update(r.abrEwmaSlowLive, r.abrEwmaFastLive) : this.bwEstimator.update(r.abrEwmaSlowVoD, r.abrEwmaFastVoD)}onFragLoaded(t, {frag: e, part: r}) {const n = r ? r.stats : e.stats;if (e.type === Se.MAIN && this.bwEstimator.sampleTTFB(n.loading.first - n.loading.start),!this.ignoreFragment(e)) {if (this.clearTimer(),e.level === this._nextAutoLevel && (this._nextAutoLevel = -1),this.firstSelection = -1,this.hls.config.abrMaxWithRealBitrate) {const t = r ? r.duration : e.duration, i = this.hls.levels[e.level], o = (i.loaded ? i.loaded.bytes : 0) + n.loaded, s = (i.loaded ? i.loaded.duration : 0) + t;i.loaded = {bytes: o,duration: s},i.realBitrate = Math.round(8 * o / s)}if (e.bitrateTest) {const t = {stats: n,frag: e,part: r,id: e.type};this.onFragBuffered(p.FRAG_BUFFERED, t),e.bitrateTest = !1} elsethis.lastLoadedFragLevel = e.level}}onFragBuffered(t, e) {const {frag: r, part: n} = e, i = null != n && n.stats.loaded ? n.stats : r.stats;if (i.aborted)return;if (this.ignoreFragment(r))return;const o = i.parsing.end - i.loading.start - Math.min(i.loading.first - i.loading.start, this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o, i.loaded),i.bwEstimate = this.getBwEstimate(),r.bitrateTest ? this.bitrateTestDelay = o / 1e3 : this.bitrateTestDelay = 0}ignoreFragment(t) {return t.type !== Se.MAIN || "initSegment" === t.sn}clearTimer() {this.timer > -1 && (self.clearInterval(this.timer),this.timer = -1)}get firstAutoLevel() {const {maxAutoLevel: t, minAutoLevel: e} = this.hls, r = this.getBwEstimate(), n = this.hls.config.maxStarvationDelay, i = this.findBestLevel(r, e, t, 0, n, 1, 1);if (i > -1)return i;const o = this.hls.firstLevel, s = Math.min(Math.max(o, e), t);return w.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${s}`),s}get forcedAutoLevel() {return this.nextAutoLevelKey ? -1 : this._nextAutoLevel}get nextAutoLevel() {const t = this.forcedAutoLevel, e = this.bwEstimator.canEstimate(), r = this.lastLoadedFragLevel > -1;if (!(-1 === t || e && r && this.nextAutoLevelKey !== this.getAutoLevelKey()))return t;const n = e && r ? this.getNextABRAutoLevel() : this.firstAutoLevel;if (-1 !== t) {const e = this.hls.levels;if (e.length > Math.max(t, n) && e[t].loadError <= e[n].loadError)return t}return this._nextAutoLevel = n,this.nextAutoLevelKey = this.getAutoLevelKey(),n}getAutoLevelKey() {return `${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel() {const {fragCurrent: t, partCurrent: e, hls: r} = this, {maxAutoLevel: n, config: i, minAutoLevel: o} = r, s = e ? e.duration : t ? t.duration : 0, a = this.getBwEstimate(), c = this.getStarvationDelay();let u = i.abrBandWidthFactor, l = i.abrBandWidthUpFactor;if (c) {const t = this.findBestLevel(a, o, n, c, 0, u, l);if (t >= 0)return t}let d = s ? Math.min(s, i.maxStarvationDelay) : i.maxStarvationDelay;if (!c) {const t = this.bitrateTestDelay;if (t) {d = (s ? Math.min(s, i.maxLoadingDelay) : i.maxLoadingDelay) - t,w.info(`[abr] bitrate test took ${Math.round(1e3 * t)}ms, set first fragment max fetchDuration to ${Math.round(1e3 * d)} ms`),u = l = 1}}const f = this.findBestLevel(a, o, n, c, d, u, l);if (w.info(`[abr] ${c ? "rebuffering expected" : "buffer is empty"}, optimal quality level ${f}`),f > -1)return f;const h = r.levels[o], p = r.levels[r.loadLevel];return (null == h ? void 0 : h.bitrate) < (null == p ? void 0 : p.bitrate) ? o : r.loadLevel}getStarvationDelay() {const t = this.hls, e = t.media;if (!e)return 1 / 0;const r = e && 0 !== e.playbackRate ? Math.abs(e.playbackRate) : 1, n = t.mainForwardBufferInfo;return (n ? n.len : 0) / r}getBwEstimate() {return this.bwEstimator.canEstimate() ? this.bwEstimator.getEstimate() : this.hls.config.abrEwmaDefaultEstimate}findBestLevel(t, e, r, n, i, o, s) {var a;const c = n + i, u = this.lastLoadedFragLevel, l = -1 === u ? this.hls.firstLevel : u, {fragCurrent: f, partCurrent: h} = this, {levels: p, allAudioTracks: g, loadLevel: m, config: v} = this.hls;if (1 === p.length)return 0;const y = p[l], _ = !(null == y || null == (a = y.details) || !a.live), b = -1 === m || -1 === u;let E, T = "SDR", S = (null == y ? void 0 : y.frameRate) || 0;const {audioPreference: A, videoPreference: I} = v, x = this.audioTracksByGroup || (this.audioTracksByGroup = function(t) {return t.reduce(( (t, e) => {let r = t.groups[e.groupId];r || (r = t.groups[e.groupId] = {tracks: [],channels: {2: 0},hasDefault: !1,hasAutoSelect: !1}),r.tracks.push(e);const n = e.channels || "2";return r.channels[n] = (r.channels[n] || 0) + 1,r.hasDefault = r.hasDefault || e.default,r.hasAutoSelect = r.hasAutoSelect || e.autoselect,r.hasDefault && (t.hasDefaultAudio = !0),r.hasAutoSelect && (t.hasAutoSelectAudio = !0),t}), {hasDefaultAudio: !1,hasAutoSelectAudio: !1,groups: {}})}(g));if (b) {if (-1 !== this.firstSelection)return this.firstSelection;const n = this.codecTiers || (this.codecTiers = function(t, e, r, n) {return t.slice(r, n + 1).reduce(( (t, r) => {if (!r.codecSet)return t;const n = r.audioGroups;let i = t[r.codecSet];i || (t[r.codecSet] = i = {minBitrate: 1 / 0,minHeight: 1 / 0,minFramerate: 1 / 0,maxScore: 0,videoRanges: {SDR: 0},channels: {2: 0},hasDefaultAudio: !n,fragmentError: 0}),i.minBitrate = Math.min(i.minBitrate, r.bitrate);const o = Math.min(r.height, r.width);return i.minHeight = Math.min(i.minHeight, o),i.minFramerate = Math.min(i.minFramerate, r.frameRate),i.maxScore = Math.max(i.maxScore, r.score),i.fragmentError += r.fragmentError,i.videoRanges[r.videoRange] = (i.videoRanges[r.videoRange] || 0) + 1,n && n.forEach((t => {if (!t)return;const r = e.groups[t];r && (i.hasDefaultAudio = i.hasDefaultAudio || e.hasDefaultAudio ? r.hasDefault : r.hasAutoSelect || !e.hasDefaultAudio && !e.hasAutoSelectAudio,Object.keys(r.channels).forEach((t => {i.channels[t] = (i.channels[t] || 0) + r.channels[t]})))})),t}), {})}(p, x, e, r)), i = function(t, e, r, n, i) {const o = Object.keys(t), s = null == n ? void 0 : n.channels, a = null == n ? void 0 : n.audioCodec, c = s && 2 === parseInt(s);let u = !0, l = !1, f = 1 / 0, h = 1 / 0, p = 1 / 0, g = 0, m = [];const {preferHDR: v, allowedVideoRanges: y} = br(e, i);for (let e = o.length; e--; ) {const r = t[o[e]];u = r.channels[2] > 0,f = Math.min(f, r.minHeight),h = Math.min(h, r.minFramerate),p = Math.min(p, r.minBitrate);const n = y.filter((t => r.videoRanges[t] > 0));n.length > 0 && (l = !0,m = n)}f = d(f) ? f : 0,h = d(h) ? h : 0;const _ = Math.max(1080, f), b = Math.max(30, h);return p = d(p) ? p : r,r = Math.max(p, r),l || (e = void 0,m = []),{codecSet: o.reduce(( (e, n) => {const i = t[n];if (n === e)return e;if (i.minBitrate > r)return wr(n, `min bitrate of ${i.minBitrate} > current estimate of ${r}`),e;if (!i.hasDefaultAudio)return wr(n, "no renditions with default or auto-select sound found"),e;if (a && n.indexOf(a.substring(0, 4)) % 5 != 0)return wr(n, `audio codec preference "${a}" not found`),e;if (s && !c) {if (!i.channels[s])return wr(n, `no renditions with ${s} channel sound found (channels options: ${Object.keys(i.channels)})`),e} else if ((!a || c) && u && 0 === i.channels[2])return wr(n, "no renditions with stereo sound found"),e;return i.minHeight > _ ? (wr(n, `min resolution of ${i.minHeight} > maximum of ${_}`),e) : i.minFramerate > b ? (wr(n, `min framerate of ${i.minFramerate} > maximum of ${b}`),e) : m.some((t => i.videoRanges[t] > 0)) ? i.maxScore < g ? (wr(n, `max score of ${i.maxScore} < selected max of ${g}`),e) : e && (re(n) >= re(e) || i.fragmentError > t[e].fragmentError) ? e : (g = i.maxScore,n) : (wr(n, `no variants with VIDEO-RANGE of ${JSON.stringify(m)} found`),e)}), void 0),videoRanges: m,preferHDR: v,minFramerate: h,minBitrate: p}}(n, T, t, A, I), {codecSet: o, videoRanges: s, minFramerate: a, minBitrate: c, preferHDR: u} = i;E = o,T = u ? s[s.length - 1] : s[0],S = a,t = Math.max(t, c),w.log(`[abr] picked start tier ${JSON.stringify(i)}`)} elseE = null == y ? void 0 : y.codecSet,T = null == y ? void 0 : y.videoRange;const L = h ? h.duration : f ? f.duration : 0, k = this.bwEstimator.getEstimateTTFB() / 1e3, R = [];for (let a = r; a >= e; a--) {var C;const e = p[a], f = a > l;if (!e)continue;if (v.useMediaCapabilities && !e.supportedResult && !e.supportedPromise) {const r = navigator.mediaCapabilities;"function" == typeof (null == r ? void 0 : r.decodingInfo) && yr(e, x, T, S, t, A) ? (e.supportedPromise = _r(e, x, r),e.supportedPromise.then((t => {if (!this.hls)return;e.supportedResult = t;const r = this.hls.levels, n = r.indexOf(e);t.error ? w.warn(`[abr] MediaCapabilities decodingInfo error: "${t.error}" for level ${n} ${JSON.stringify(t)}`) : t.supported || (w.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${n} ${JSON.stringify(t)}`),n > -1 && r.length > 1 && (w.log(`[abr] Removing unsupported level ${n}`),this.hls.removeLevel(n)))}))) : e.supportedResult = mr}if (E && e.codecSet !== E || T && e.videoRange !== T || f && S > e.frameRate || !f && S > 0 && S < e.frameRate || e.supportedResult && (null == (C = e.supportedResult.decodingInfoResults) || !C[0].smooth)) {R.push(a);continue}const g = e.details, I = (h ? null == g ? void 0 : g.partTarget : null == g ? void 0 : g.averagetargetduration) || L;let P;P = f ? s * t : o * t;const D = L && n >= 2 * L && 0 === i ? p[a].averageBitrate : p[a].maxBitrate, O = this.getTimeToLoadFrag(k, P, D * I, void 0 === g);if (P >= D && (a === u || 0 === e.loadError && 0 === e.fragmentError) && (O <= k || !d(O) || _ && !this.bitrateTestDelay || O < c)) {const t = this.forcedAutoLevel;return a === m || -1 !== t && t === m || (R.length && w.trace(`[abr] Skipped level(s) ${R.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${p[R[0]].codecs}" ${p[R[0]].videoRange}; not compatible with "${y.codecs}" ${T}`),w.info(`[abr] switch candidate:${l}->${a} adjustedbw(${Math.round(P)})-bitrate=${Math.round(P - D)} ttfb:${k.toFixed(1)} avgDuration:${I.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${O.toFixed(1)} firstSelection:${b} codecSet:${E} videoRange:${T} hls.loadLevel:${m}`)),b && (this.firstSelection = a),a}}return -1}set nextAutoLevel(t) {const {maxAutoLevel: e, minAutoLevel: r} = this.hls, n = Math.min(Math.max(t, r), e);this._nextAutoLevel !== n && (this.nextAutoLevelKey = "",this._nextAutoLevel = n)}}class xr {constructor() {this._boundTick = void 0,this._tickTimer = null,this._tickInterval = null,this._tickCallCount = 0,this._boundTick = this.tick.bind(this)}destroy() {this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying() {this.clearNextTick(),this.clearInterval()}onHandlerDestroyed() {}hasInterval() {return !!this._tickInterval}hasNextTick() {return !!this._tickTimer}setInterval(t) {return !this._tickInterval && (this._tickCallCount = 0,this._tickInterval = self.setInterval(this._boundTick, t),!0)}clearInterval() {return !!this._tickInterval && (self.clearInterval(this._tickInterval),this._tickInterval = null,!0)}clearNextTick() {return !!this._tickTimer && (self.clearTimeout(this._tickTimer),this._tickTimer = null,!0)}tick() {this._tickCallCount++,1 === this._tickCallCount && (this.doTick(),this._tickCallCount > 1 && this.tickImmediate(),this._tickCallCount = 0)}tickImmediate() {this.clearNextTick(),this._tickTimer = self.setTimeout(this._boundTick, 0)}doTick() {}}var Lr = "NOT_LOADED", kr = "APPENDING", Rr = "PARTIAL", Cr = "OK";class Pr {constructor(t) {this.activePartLists = Object.create(null),this.endListFragments = Object.create(null),this.fragments = Object.create(null),this.timeRanges = Object.create(null),this.bufferPadding = .2,this.hls = void 0,this.hasGaps = !1,this.hls = t,this._registerListeners()}_registerListeners() {const {hls: t} = this;t.on(p.BUFFER_APPENDED, this.onBufferAppended, this),t.on(p.FRAG_BUFFERED, this.onFragBuffered, this),t.on(p.FRAG_LOADED, this.onFragLoaded, this)}_unregisterListeners() {const {hls: t} = this;t.off(p.BUFFER_APPENDED, this.onBufferAppended, this),t.off(p.FRAG_BUFFERED, this.onFragBuffered, this),t.off(p.FRAG_LOADED, this.onFragLoaded, this)}destroy() {this._unregisterListeners(),this.fragments = this.activePartLists = this.endListFragments = this.timeRanges = null}getAppendedFrag(t, e) {const r = this.activePartLists[e];if (r)for (let e = r.length; e--; ) {const n = r[e];if (!n)break;const i = n.end;if (n.start <= t && null !== i && t <= i)return n}return this.getBufferedFrag(t, e)}getBufferedFrag(t, e) {const {fragments: r} = this, n = Object.keys(r);for (let i = n.length; i--; ) {const o = r[n[i]];if ((null == o ? void 0 : o.body.type) === e && o.buffered) {const e = o.body;if (e.start <= t && t <= e.end)return e}}return null}detectEvictedFragments(t, e, r, n) {this.timeRanges && (this.timeRanges[t] = e);const i = (null == n ? void 0 : n.fragment.sn) || -1;Object.keys(this.fragments).forEach((n => {const o = this.fragments[n];if (!o)return;if (i >= o.body.sn)return;if (!o.buffered && !o.loaded)return void (o.body.type === r && this.removeFragment(o.body));const s = o.range[t];s && s.time.some((t => {const r = !this.isTimeBuffered(t.startPTS, t.endPTS, e);return r && this.removeFragment(o.body),r}))}))}detectPartialFragments(t) {const e = this.timeRanges, {frag: r, part: n} = t;if (!e || "initSegment" === r.sn)return;const i = Or(r), o = this.fragments[i];if (!o || o.buffered && r.gap)return;const s = !r.relurl;if (Object.keys(e).forEach((t => {const i = r.elementaryStreams[t];if (!i)return;const a = e[t], c = s || !0 === i.partial;o.range[t] = this.getBufferedTimes(r, n, c, a)})),o.loaded = null,Object.keys(o.range).length) {o.buffered = !0;(o.body.endList = r.endList || o.body.endList) && (this.endListFragments[o.body.type] = o),Dr(o) || this.removeParts(r.sn - 1, r.type)} elsethis.removeFragment(o.body)}removeParts(t, e) {const r = this.activePartLists[e];r && (this.activePartLists[e] = r.filter((e => e.fragment.sn >= t)))}fragBuffered(t, e) {const r = Or(t);let n = this.fragments[r];!n && e && (n = this.fragments[r] = {body: t,appendedPTS: null,loaded: null,buffered: !1,range: Object.create(null)},t.gap && (this.hasGaps = !0)),n && (n.loaded = null,n.buffered = !0)}getBufferedTimes(t, e, r, n) {const i = {time: [],partial: r}, o = t.start, s = t.end, a = t.minEndPTS || s, c = t.maxStartPTS || o;for (let t = 0; t < n.length; t++) {const e = n.start(t) - this.bufferPadding, r = n.end(t) + this.bufferPadding;if (c >= e && a <= r) {i.time.push({startPTS: Math.max(o, n.start(t)),endPTS: Math.min(s, n.end(t))});break}if (o < r && s > e) {const e = Math.max(o, n.start(t)), r = Math.min(s, n.end(t));r > e && (i.partial = !0,i.time.push({startPTS: e,endPTS: r}))} else if (s <= e)break}return i}getPartialFragment(t) {let e, r, n, i = null, o = 0;const {bufferPadding: s, fragments: a} = this;return Object.keys(a).forEach((c => {const u = a[c];u && Dr(u) && (r = u.body.start - s,n = u.body.end + s,t >= r && t <= n && (e = Math.min(t - r, n - t),o <= e && (i = u.body,o = e)))})),i}isEndListAppended(t) {const e = this.endListFragments[t];return void 0 !== e && (e.buffered || Dr(e))}getState(t) {const e = Or(t), r = this.fragments[e];return r ? r.buffered ? Dr(r) ? Rr : Cr : kr : Lr}isTimeBuffered(t, e, r) {let n, i;for (let o = 0; o < r.length; o++) {if (n = r.start(o) - this.bufferPadding,i = r.end(o) + this.bufferPadding,t >= n && e <= i)return !0;if (e <= n)return !1}return !1}onFragLoaded(t, e) {const {frag: r, part: n} = e;if ("initSegment" === r.sn || r.bitrateTest)return;const i = n ? null : e, o = Or(r);this.fragments[o] = {body: r,appendedPTS: null,loaded: i,buffered: !1,range: Object.create(null)}}onBufferAppended(t, e) {const {frag: r, part: n, timeRanges: i} = e;if ("initSegment" === r.sn)return;const o = r.type;if (n) {let t = this.activePartLists[o];t || (this.activePartLists[o] = t = []),t.push(n)}this.timeRanges = i,Object.keys(i).forEach((t => {const e = i[t];this.detectEvictedFragments(t, e, o, n)}))}onFragBuffered(t, e) {this.detectPartialFragments(e)}hasFragment(t) {const e = Or(t);return !!this.fragments[e]}hasParts(t) {var e;return !(null == (e = this.activePartLists[t]) || !e.length)}removeFragmentsInRange(t, e, r, n, i) {n && !this.hasGaps || Object.keys(this.fragments).forEach((o => {const s = this.fragments[o];if (!s)return;const a = s.body;a.type !== r || n && !a.gap || a.start < e && a.end > t && (s.buffered || i) && this.removeFragment(a)}))}removeFragment(t) {const e = Or(t);t.stats.loaded = 0,t.clearElementaryStreamInfo();const r = this.activePartLists[t.type];if (r) {const e = t.sn;this.activePartLists[t.type] = r.filter((t => t.fragment.sn !== e))}delete this.fragments[e],t.endList && delete this.endListFragments[t.type]}removeAllFragments() {this.fragments = Object.create(null),this.endListFragments = Object.create(null),this.activePartLists = Object.create(null),this.hasGaps = !1}}function Dr(t) {var e, r, n;return t.buffered && (t.body.gap || (null == (e = t.range.video) ? void 0 : e.partial) || (null == (r = t.range.audio) ? void 0 : r.partial) || (null == (n = t.range.audiovideo) ? void 0 : n.partial))}function Or(t) {return `${t.type}_${t.level}_${t.sn}`}const Mr = {length: 0,start: () => 0,end: () => 0};class Ur {static isBuffered(t, e) {try {if (t) {const r = Ur.getBuffered(t);for (let t = 0; t < r.length; t++)if (e >= r.start(t) && e <= r.end(t))return !0}} catch (t) {}return !1}static bufferInfo(t, e, r) {try {if (t) {const n = Ur.getBuffered(t), i = [];let o;for (o = 0; o < n.length; o++)i.push({start: n.start(o),end: n.end(o)});return this.bufferedInfo(i, e, r)}} catch (t) {}return {len: 0,start: e,end: e,nextStart: void 0}}static bufferedInfo(t, e, r) {e = Math.max(0, e),t.sort((function(t, e) {const r = t.start - e.start;return r || e.end - t.end}));let n = [];if (r)for (let e = 0; e < t.length; e++) {const i = n.length;if (i) {const o = n[i - 1].end;t[e].start - o < r ? t[e].end > o && (n[i - 1].end = t[e].end) : n.push(t[e])} elsen.push(t[e])}elsen = t;let i, o = 0, s = e, a = e;for (let t = 0; t < n.length; t++) {const c = n[t].start, u = n[t].end;if (e + r >= c && e < u)s = c,a = u,o = a - e;else if (e + r < c) {i = c;break}}return {len: o,start: s || 0,end: a || 0,nextStart: i}}static getBuffered(t) {try {return t.buffered} catch (t) {return w.log("failed to get media.buffered", t),Mr}}}class Fr {constructor(t, e, r, n=0, i=-1, o=!1) {this.level = void 0,this.sn = void 0,this.part = void 0,this.id = void 0,this.size = void 0,this.partial = void 0,this.transmuxing = {start: 0,executeStart: 0,executeEnd: 0,end: 0},this.buffering = {audio: {start: 0,executeStart: 0,executeEnd: 0,end: 0},video: {start: 0,executeStart: 0,executeEnd: 0,end: 0},audiovideo: {start: 0,executeStart: 0,executeEnd: 0,end: 0}},this.level = t,this.sn = e,this.id = r,this.size = n,this.part = i,this.partial = o}}function Nr(t, e) {for (let n = 0, i = t.length; n < i; n++) {var r;if ((null == (r = t[n]) ? void 0 : r.cc) === e)return t[n]}return null}function Br(t, e) {if (t) {const r = t.start + e;t.start = t.startPTS = r,t.endPTS = r + t.duration}}function jr(t, e) {const r = e.fragments;for (let e = 0, n = r.length; e < n; e++)Br(r[e], t);e.fragmentHint && Br(e.fragmentHint, t),e.alignedSliding = !0}function $r(t, e, r) {e && (!function(t, e, r) {if (function(t, e, r) {return !(!e || !(r.endCC > r.startCC || t && t.cc < r.startCC))}(t, r, e)) {const t = function(t, e) {const r = t.fragments, n = e.fragments;if (!n.length || !r.length)return void w.log("No fragments to align");const i = Nr(r, n[0].cc);if (i && (!i || i.startPTS))return i;w.log("No frag in previous level to align on")}(r, e);t && d(t.start) && (w.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),jr(t.start, e))}}(t, r, e),!r.alignedSliding && e && Hr(r, e),r.alignedSliding || !e || r.skippedSegments || Qe(e, r))}function Hr(t, e) {if (!t.hasProgramDateTime || !e.hasProgramDateTime)return;const r = t.fragments, n = e.fragments;if (!r.length || !n.length)return;let i, o;const s = Math.min(e.endCC, t.endCC);e.startCC < s && t.startCC < s && (i = Nr(n, s),o = Nr(r, s)),i && o || (i = n[Math.floor(n.length / 2)],o = Nr(r, i.cc) || r[Math.floor(r.length / 2)]);const a = i.programDateTime, c = o.programDateTime;if (!a || !c)return;jr((c - a) / 1e3 - (o.start - i.start), t)}const Gr = Math.pow(2, 17);class Kr {constructor(t) {this.config = void 0,this.loader = null,this.partLoadTimeout = -1,this.config = t}destroy() {this.loader && (this.loader.destroy(),this.loader = null)}abort() {this.loader && this.loader.abort()}load(t, e) {const r = t.url;if (!r)return Promise.reject(new Vr({type: g.NETWORK_ERROR,details: m.FRAG_LOAD_ERROR,fatal: !1,frag: t,error: new Error("Fragment does not have a " + (r ? "part list" : "url")),networkDetails: null}));this.abort();const n = this.config, i = n.fLoader, o = n.loader;return new Promise(( (s, c) => {if (this.loader && this.loader.destroy(),t.gap) {if (t.tagList.some((t => "GAP" === t[0])))return void c(Wr(t));t.gap = !1}const u = this.loader = t.loader = i ? new i(n) : new o(n), l = qr(t), d = ir(n.fragLoadPolicy.default), f = {loadPolicy: d,timeout: d.maxLoadTimeMs,maxRetry: 0,retryDelay: 0,maxRetryDelay: 0,highWaterMark: "initSegment" === t.sn ? 1 / 0 : Gr};t.stats = u.stats,u.load(l, f, {onSuccess: (e, r, n, i) => {this.resetLoader(t, u);let o = e.data;n.resetIV && t.decryptdata && (t.decryptdata.iv = new Uint8Array(o.slice(0, 16)),o = o.slice(16)),s({frag: t,part: null,payload: o,networkDetails: i})},onError: (e, n, i, o) => {this.resetLoader(t, u),c(new Vr({type: g.NETWORK_ERROR,details: m.FRAG_LOAD_ERROR,fatal: !1,frag: t,response: a({url: r,data: void 0}, e),error: new Error(`HTTP Error ${e.code} ${e.text}`),networkDetails: i,stats: o}))},onAbort: (e, r, n) => {this.resetLoader(t, u),c(new Vr({type: g.NETWORK_ERROR,details: m.INTERNAL_ABORTED,fatal: !1,frag: t,error: new Error("Aborted"),networkDetails: n,stats: e}))},onTimeout: (e, r, n) => {this.resetLoader(t, u),c(new Vr({type: g.NETWORK_ERROR,details: m.FRAG_LOAD_TIMEOUT,fatal: !1,frag: t,error: new Error(`Timeout after ${f.timeout}ms`),networkDetails: n,stats: e}))},onProgress: (r, n, i, o) => {e && e({frag: t,part: null,payload: i,networkDetails: o})}})}))}loadPart(t, e, r) {this.abort();const n = this.config, i = n.fLoader, o = n.loader;return new Promise(( (s, c) => {if (this.loader && this.loader.destroy(),t.gap || e.gap)return void c(Wr(t, e));const u = this.loader = t.loader = i ? new i(n) : new o(n), l = qr(t, e), d = ir(n.fragLoadPolicy.default), f = {loadPolicy: d,timeout: d.maxLoadTimeMs,maxRetry: 0,retryDelay: 0,maxRetryDelay: 0,highWaterMark: Gr};e.stats = u.stats,u.load(l, f, {onSuccess: (n, i, o, a) => {this.resetLoader(t, u),this.updateStatsFromPart(t, e);const c = {frag: t,part: e,payload: n.data,networkDetails: a};r(c),s(c)},onError: (r, n, i, o) => {this.resetLoader(t, u),c(new Vr({type: g.NETWORK_ERROR,details: m.FRAG_LOAD_ERROR,fatal: !1,frag: t,part: e,response: a({url: l.url,data: void 0}, r),error: new Error(`HTTP Error ${r.code} ${r.text}`),networkDetails: i,stats: o}))},onAbort: (r, n, i) => {t.stats.aborted = e.stats.aborted,this.resetLoader(t, u),c(new Vr({type: g.NETWORK_ERROR,details: m.INTERNAL_ABORTED,fatal: !1,frag: t,part: e,error: new Error("Aborted"),networkDetails: i,stats: r}))},onTimeout: (r, n, i) => {this.resetLoader(t, u),c(new Vr({type: g.NETWORK_ERROR,details: m.FRAG_LOAD_TIMEOUT,fatal: !1,frag: t,part: e,error: new Error(`Timeout after ${f.timeout}ms`),networkDetails: i,stats: r}))}})}))}updateStatsFromPart(t, e) {const r = t.stats, n = e.stats, i = n.total;if (r.loaded += n.loaded,i) {const n = Math.round(t.duration / e.duration), o = Math.min(Math.round(r.loaded / i), n), s = (n - o) * Math.round(r.loaded / o);r.total = r.loaded + s} elser.total = Math.max(r.loaded, r.total);const o = r.loading, s = n.loading;o.start ? o.first += s.first - s.start : (o.start = s.start,o.first = s.first),o.end = s.end}resetLoader(t, e) {t.loader = null,this.loader === e && (self.clearTimeout(this.partLoadTimeout),this.loader = null),e.destroy()}}function qr(t, e=null) {const r = e || t, n = {frag: t,part: e,responseType: "arraybuffer",url: r.url,headers: {},rangeStart: 0,rangeEnd: 0}, i = r.byteRangeStartOffset, o = r.byteRangeEndOffset;if (d(i) && d(o)) {var s;let e = i, r = o;if ("initSegment" === t.sn && "AES-128" === (null == (s = t.decryptdata) ? void 0 : s.method)) {const t = o - i;t % 16 && (r = o + (16 - t % 16)),0 !== i && (n.resetIV = !0,e = i - 16)}n.rangeStart = e,n.rangeEnd = r}return n}function Wr(t, e) {const r = new Error(`GAP ${t.gap ? "tag" : "attribute"} found`), n = {type: g.MEDIA_ERROR,details: m.FRAG_GAP,fatal: !1,frag: t,error: r,networkDetails: null};return e && (n.part = e),(e || t).stats.aborted = !0,new Vr(n)}class Vr extends Error {constructor(t) {super(t.error.message),this.data = void 0,this.data = t}}class zr {constructor(t, e) {this.subtle = void 0,this.aesIV = void 0,this.subtle = t,this.aesIV = e}decrypt(t, e) {return this.subtle.decrypt({name: "AES-CBC",iv: this.aesIV}, e, t)}}class Yr {constructor(t, e) {this.subtle = void 0,this.key = void 0,this.subtle = t,this.key = e}expandKey() {return this.subtle.importKey("raw", this.key, {name: "AES-CBC"}, !1, ["encrypt", "decrypt"])}}class Qr {constructor() {this.rcon = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54],this.subMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)],this.invSubMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)],this.sBox = new Uint32Array(256),this.invSBox = new Uint32Array(256),this.key = new Uint32Array(0),this.ksRows = 0,this.keySize = 0,this.keySchedule = void 0,this.invKeySchedule = void 0,this.initTable()}uint8ArrayToUint32Array_(t) {const e = new DataView(t), r = new Uint32Array(4);for (let t = 0; t < 4; t++)r[t] = e.getUint32(4 * t);return r}initTable() {const t = this.sBox, e = this.invSBox, r = this.subMix, n = r[0], i = r[1], o = r[2], s = r[3], a = this.invSubMix, c = a[0], u = a[1], l = a[2], d = a[3], f = new Uint32Array(256);let h = 0, p = 0, g = 0;for (g = 0; g < 256; g++)f[g] = g < 128 ? g << 1 : g << 1 ^ 283;for (g = 0; g < 256; g++) {let r = p ^ p << 1 ^ p << 2 ^ p << 3 ^ p << 4;r = r >>> 8 ^ 255 & r ^ 99,t[h] = r,e[r] = h;const a = f[h], g = f[a], m = f[g];let v = 257 * f[r] ^ 16843008 * r;n[h] = v << 24 | v >>> 8,i[h] = v << 16 | v >>> 16,o[h] = v << 8 | v >>> 24,s[h] = v,v = 16843009 * m ^ 65537 * g ^ 257 * a ^ 16843008 * h,c[r] = v << 24 | v >>> 8,u[r] = v << 16 | v >>> 16,l[r] = v << 8 | v >>> 24,d[r] = v,h ? (h = a ^ f[f[f[m ^ a]]],p ^= f[f[p]]) : h = p = 1}}expandKey(t) {const e = this.uint8ArrayToUint32Array_(t);let r = !0, n = 0;for (; n < e.length && r; )r = e[n] === this.key[n],n++;if (r)return;this.key = e;const i = this.keySize = e.length;if (4 !== i && 6 !== i && 8 !== i)throw new Error("Invalid aes key size=" + i);const o = this.ksRows = 4 * (i + 6 + 1);let s, a;const c = this.keySchedule = new Uint32Array(o), u = this.invKeySchedule = new Uint32Array(o), l = this.sBox, d = this.rcon, f = this.invSubMix, h = f[0], p = f[1], g = f[2], m = f[3];let v, y;for (s = 0; s < o; s++)s < i ? v = c[s] = e[s] : (y = v,s % i == 0 ? (y = y << 8 | y >>> 24,y = l[y >>> 24] << 24 | l[y >>> 16 & 255] << 16 | l[y >>> 8 & 255] << 8 | l[255 & y],y ^= d[s / i | 0] << 24) : i > 6 && s % i == 4 && (y = l[y >>> 24] << 24 | l[y >>> 16 & 255] << 16 | l[y >>> 8 & 255] << 8 | l[255 & y]),c[s] = v = (c[s - i] ^ y) >>> 0);for (a = 0; a < o; a++)s = o - a,y = 3 & a ? c[s] : c[s - 4],u[a] = a < 4 || s <= 4 ? y : h[l[y >>> 24]] ^ p[l[y >>> 16 & 255]] ^ g[l[y >>> 8 & 255]] ^ m[l[255 & y]],u[a] = u[a] >>> 0}networkToHostOrderSwap(t) {return t << 24 | (65280 & t) << 8 | (16711680 & t) >> 8 | t >>> 24}decrypt(t, e, r) {const n = this.keySize + 6, i = this.invKeySchedule, o = this.invSBox, s = this.invSubMix, a = s[0], c = s[1], u = s[2], l = s[3], d = this.uint8ArrayToUint32Array_(r);let f = d[0], h = d[1], p = d[2], g = d[3];const m = new Int32Array(t), v = new Int32Array(m.length);let y, _, b, w, E, T, S, A, I, x, L, k, R, C;const P = this.networkToHostOrderSwap;for (; e < m.length; ) {for (I = P(m[e]),x = P(m[e + 1]),L = P(m[e + 2]),k = P(m[e + 3]),E = I ^ i[0],T = k ^ i[1],S = L ^ i[2],A = x ^ i[3],R = 4,C = 1; C < n; C++)y = a[E >>> 24] ^ c[T >> 16 & 255] ^ u[S >> 8 & 255] ^ l[255 & A] ^ i[R],_ = a[T >>> 24] ^ c[S >> 16 & 255] ^ u[A >> 8 & 255] ^ l[255 & E] ^ i[R + 1],b = a[S >>> 24] ^ c[A >> 16 & 255] ^ u[E >> 8 & 255] ^ l[255 & T] ^ i[R + 2],w = a[A >>> 24] ^ c[E >> 16 & 255] ^ u[T >> 8 & 255] ^ l[255 & S] ^ i[R + 3],E = y,T = _,S = b,A = w,R += 4;y = o[E >>> 24] << 24 ^ o[T >> 16 & 255] << 16 ^ o[S >> 8 & 255] << 8 ^ o[255 & A] ^ i[R],_ = o[T >>> 24] << 24 ^ o[S >> 16 & 255] << 16 ^ o[A >> 8 & 255] << 8 ^ o[255 & E] ^ i[R + 1],b = o[S >>> 24] << 24 ^ o[A >> 16 & 255] << 16 ^ o[E >> 8 & 255] << 8 ^ o[255 & T] ^ i[R + 2],w = o[A >>> 24] << 24 ^ o[E >> 16 & 255] << 16 ^ o[T >> 8 & 255] << 8 ^ o[255 & S] ^ i[R + 3],v[e] = P(y ^ f),v[e + 1] = P(w ^ h),v[e + 2] = P(b ^ p),v[e + 3] = P(_ ^ g),f = I,h = x,p = L,g = k,e += 4}return v.buffer}}class Xr {constructor(t, {removePKCS7Padding: e=!0}={}) {if (this.logEnabled = !0,this.removePKCS7Padding = void 0,this.subtle = null,this.softwareDecrypter = null,this.key = null,this.fastAesKey = null,this.remainderData = null,this.currentIV = null,this.currentResult = null,this.useSoftware = void 0,this.useSoftware = t.enableSoftwareAES,this.removePKCS7Padding = e,e)try {const t = self.crypto;t && (this.subtle = t.subtle || t.webkitSubtle)} catch (t) {}this.useSoftware = !this.subtle}destroy() {this.subtle = null,this.softwareDecrypter = null,this.key = null,this.fastAesKey = null,this.remainderData = null,this.currentIV = null,this.currentResult = null}isSync() {return this.useSoftware}flush() {const {currentResult: t, remainderData: e} = this;if (!t || e)return this.reset(),null;const r = new Uint8Array(t);return this.reset(),this.removePKCS7Padding ? function(t) {const e = t.byteLength, r = e && new DataView(t.buffer).getUint8(e - 1);return r ? J(t, 0, e - r) : t}(r) : r}reset() {this.currentResult = null,this.currentIV = null,this.remainderData = null,this.softwareDecrypter && (this.softwareDecrypter = null)}decrypt(t, e, r) {return this.useSoftware ? new Promise(( (n, i) => {this.softwareDecrypt(new Uint8Array(t), e, r);const o = this.flush();o ? n(o.buffer) : i(new Error("[softwareDecrypt] Failed to decrypt data"))})) : this.webCryptoDecrypt(new Uint8Array(t), e, r)}softwareDecrypt(t, e, r) {const {currentIV: n, currentResult: i, remainderData: o} = this;this.logOnce("JS AES decrypt"),o && (t = Mt(o, t),this.remainderData = null);const s = this.getValidChunk(t);if (!s.length)return null;n && (r = n);let a = this.softwareDecrypter;a || (a = this.softwareDecrypter = new Qr),a.expandKey(e);const c = i;return this.currentResult = a.decrypt(s.buffer, 0, r),this.currentIV = J(s, -16).buffer,c || null}webCryptoDecrypt(t, e, r) {if (this.key !== e || !this.fastAesKey) {if (!this.subtle)return Promise.resolve(this.onWebCryptoError(t, e, r));this.key = e,this.fastAesKey = new Yr(this.subtle,e)}return this.fastAesKey.expandKey().then((e => {if (!this.subtle)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new zr(this.subtle,new Uint8Array(r)).decrypt(t.buffer, e)})).catch((n => (w.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${n.name}: ${n.message}`),this.onWebCryptoError(t, e, r))))}onWebCryptoError(t, e, r) {this.useSoftware = !0,this.logEnabled = !0,this.softwareDecrypt(t, e, r);const n = this.flush();if (n)return n.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(t) {let e = t;const r = t.length - t.length % 16;return r !== t.length && (e = J(t, 0, r),this.remainderData = J(t, r)),e}logOnce(t) {this.logEnabled && (w.log(`[decrypter]: ${t}`),this.logEnabled = !1)}}const Jr = function(t) {let e = "";const r = t.length;for (let n = 0; n < r; n++)e += `[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}, Zr = "STOPPED", tn = "IDLE", en = "KEY_LOADING", rn = "FRAG_LOADING", nn = "FRAG_LOADING_WAITING_RETRY", on = "WAITING_TRACK", sn = "PARSING", an = "PARSED", cn = "ENDED", un = "ERROR", ln = "WAITING_INIT_PTS", dn = "WAITING_LEVEL";class fn extends xr {constructor(t, e, r, n, i) {super(),this.hls = void 0,this.fragPrevious = null,this.fragCurrent = null,this.fragmentTracker = void 0,this.transmuxer = null,this._state = Zr,this.playlistType = void 0,this.media = null,this.mediaBuffer = null,this.config = void 0,this.bitrateTest = !1,this.lastCurrentTime = 0,this.nextLoadPosition = 0,this.startPosition = 0,this.startTimeOffset = null,this.loadedmetadata = !1,this.retryDate = 0,this.levels = null,this.fragmentLoader = void 0,this.keyLoader = void 0,this.levelLastLoaded = null,this.startFragRequested = !1,this.decrypter = void 0,this.initPTS = [],this.buffering = !0,this.onvseeking = null,this.onvended = null,this.logPrefix = "",this.log = void 0,this.warn = void 0,this.playlistType = i,this.logPrefix = n,this.log = w.log.bind(w, `${n}:`),this.warn = w.warn.bind(w, `${n}:`),this.hls = t,this.fragmentLoader = new Kr(t.config),this.keyLoader = r,this.fragmentTracker = e,this.config = t.config,this.decrypter = new Xr(t.config),t.on(p.MANIFEST_LOADED, this.onManifestLoaded, this)}doTick() {this.onTickEnd()}onTickEnd() {}startLoad(t) {}stopLoad() {this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t = this.fragCurrent;null != t && t.loader && (t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent = null,this.fragPrevious = null,this.clearInterval(),this.clearNextTick(),this.state = Zr}pauseBuffering() {this.buffering = !1}resumeBuffering() {this.buffering = !0}_streamEnded(t, e) {if (e.live || t.nextStart || !t.end || !this.media)return !1;const r = e.partList;if (null != r && r.length) {const t = r[r.length - 1];return Ur.isBuffered(this.media, t.start + t.duration / 2)}const n = e.fragments[e.fragments.length - 1].type;return this.fragmentTracker.isEndListAppended(n)}getLevelDetails() {var t;if (this.levels && null !== this.levelLastLoaded)return null == (t = this.levelLastLoaded) ? void 0 : t.details}onMediaAttached(t, e) {const r = this.media = this.mediaBuffer = e.media;this.onvseeking = this.onMediaSeeking.bind(this),this.onvended = this.onMediaEnded.bind(this),r.addEventListener("seeking", this.onvseeking),r.addEventListener("ended", this.onvended);const n = this.config;this.levels && n.autoStartLoad && this.state === Zr && this.startLoad(n.startPosition)}onMediaDetaching() {const t = this.media;null != t && t.ended && (this.log("MSE detaching and video ended, reset startPosition"),this.startPosition = this.lastCurrentTime = 0),t && this.onvseeking && this.onvended && (t.removeEventListener("seeking", this.onvseeking),t.removeEventListener("ended", this.onvended),this.onvseeking = this.onvended = null),this.keyLoader && this.keyLoader.detach(),this.media = this.mediaBuffer = null,this.loadedmetadata = !1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking() {const {config: t, fragCurrent: e, media: r, mediaBuffer: n, state: i} = this, o = r ? r.currentTime : 0, s = Ur.bufferInfo(n || r, o, t.maxBufferHole);if (this.log(`media seeking to ${d(o) ? o.toFixed(3) : o}, state: ${i}`),this.state === cn)this.resetLoadingState();else if (e) {const r = t.maxFragLookUpTolerance, n = e.start - r, i = e.start + e.duration + r;if (!s.len || i < s.start || n > s.end) {const t = o > i;(o < n || t) && (t && e.loader && (this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious = null)}}r && (this.fragmentTracker.removeFragmentsInRange(o, 1 / 0, this.playlistType, !0),this.lastCurrentTime = o),this.loadedmetadata || s.len || (this.nextLoadPosition = this.startPosition = o),this.tickImmediate()}onMediaEnded() {this.startPosition = this.lastCurrentTime = 0}onManifestLoaded(t, e) {this.startTimeOffset = e.startTimeOffset,this.initPTS = []}onHandlerDestroying() {this.hls.off(p.MANIFEST_LOADED, this.onManifestLoaded, this),this.stopLoad(),super.onHandlerDestroying(),this.hls = null}onHandlerDestroyed() {this.state = Zr,this.fragmentLoader && this.fragmentLoader.destroy(),this.keyLoader && this.keyLoader.destroy(),this.decrypter && this.decrypter.destroy(),this.hls = this.log = this.warn = this.decrypter = this.keyLoader = this.fragmentLoader = this.fragmentTracker = null,super.onHandlerDestroyed()}loadFragment(t, e, r) {this._loadFragForPlayback(t, e, r)}_loadFragForPlayback(t, e, r) {this._doFragLoad(t, e, r, (e => {if (this.fragContextChanged(t))return this.warn(`Fragment ${t.sn}${e.part ? " p: " + e.part.index : ""} of level ${t.level} was dropped during download.`),void this.fragmentTracker.removeFragment(t);t.stats.chunkCount++,this._handleFragmentLoadProgress(e)})).then((e => {if (!e)return;const r = this.state;this.fragContextChanged(t) ? (r === rn || !this.fragCurrent && r === sn) && (this.fragmentTracker.removeFragment(t),this.state = tn) : ("payload"in e && (this.log(`Loaded fragment ${t.sn} of level ${t.level}`),this.hls.trigger(p.FRAG_LOADED, e)),this._handleFragmentLoadComplete(e))})).catch((e => {this.state !== Zr && this.state !== un && (this.warn(`Frag error: ${(null == e ? void 0 : e.message) || e}`),this.resetFragmentLoading(t))}))}clearTrackerIfNeeded(t) {var e;const {fragmentTracker: r} = this;if (r.getState(t) === kr) {const e = t.type, n = this.getFwdBufferInfo(this.mediaBuffer, e), i = Math.max(t.duration, n ? n.len : this.config.maxBufferLength), o = this.backtrackFragment;(1 === (o ? t.sn - o.sn : 0) || this.reduceMaxBufferLength(i, t.duration)) && r.removeFragment(t)} else0 === (null == (e = this.mediaBuffer) ? void 0 : e.buffered.length) ? r.removeAllFragments() : r.hasParts(t.type) && (r.detectPartialFragments({frag: t,part: null,stats: t.stats,id: t.type}),r.getState(t) === Rr && r.removeFragment(t))}checkLiveUpdate(t) {if (t.updated && !t.live) {const e = t.fragments[t.fragments.length - 1];this.fragmentTracker.detectPartialFragments({frag: e,part: null,stats: e.stats,id: e.type})}t.fragments[0] || (t.deltaUpdateFailed = !0)}flushMainBuffer(t, e, r=null) {if (!(t - e))return;const n = {startOffset: t,endOffset: e,type: r};this.hls.trigger(p.BUFFER_FLUSHING, n)}_loadInitSegment(t, e) {this._doFragLoad(t, e).then((e => {if (!e || this.fragContextChanged(t) || !this.levels)throw new Error("init load aborted");return e})).then((e => {const {hls: r} = this, {payload: n} = e, i = t.decryptdata;if (n && n.byteLength > 0 && null != i && i.key && i.iv && "AES-128" === i.method) {const o = self.performance.now();return this.decrypter.decrypt(new Uint8Array(n), i.key.buffer, i.iv.buffer).catch((e => {throw r.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.FRAG_DECRYPT_ERROR,fatal: !1,error: e,reason: e.message,frag: t}),e})).then((n => {const i = self.performance.now();return r.trigger(p.FRAG_DECRYPTED, {frag: t,payload: n,stats: {tstart: o,tdecrypt: i}}),e.payload = n,this.completeInitSegmentLoad(e)}))}return this.completeInitSegmentLoad(e)})).catch((e => {this.state !== Zr && this.state !== un && (this.warn(e),this.resetFragmentLoading(t))}))}completeInitSegmentLoad(t) {const {levels: e} = this;if (!e)throw new Error("init load aborted, missing levels");const r = t.frag.stats;this.state = tn,t.frag.data = new Uint8Array(t.payload),r.parsing.start = r.buffering.start = self.performance.now(),r.parsing.end = r.buffering.end = self.performance.now(),this.tick()}fragContextChanged(t) {const {fragCurrent: e} = this;return !t || !e || t.sn !== e.sn || t.level !== e.level}fragBufferedComplete(t, e) {var r, n, i, o;const s = this.mediaBuffer ? this.mediaBuffer : this.media;if (this.log(`Buffered ${t.type} sn: ${t.sn}${e ? " part: " + e.index : ""} of ${this.playlistType === Se.MAIN ? "level" : "track"} ${t.level} (frag:[${(null != (r = t.startPTS) ? r : NaN).toFixed(3)}-${(null != (n = t.endPTS) ? n : NaN).toFixed(3)}] > buffer:${s ? Jr(Ur.getBuffered(s)) : "(detached)"})`),"initSegment" !== t.sn) {var a;if (t.type !== Se.SUBTITLE) {const e = t.elementaryStreams;if (!Object.keys(e).some((t => !!e[t])))return void (this.state = tn)}const e = null == (a = this.levels) ? void 0 : a[t.level];null != e && e.fragmentError && (this.log(`Resetting level fragment error count of ${e.fragmentError} on frag buffered`),e.fragmentError = 0)}this.state = tn,s && (!this.loadedmetadata && t.type == Se.MAIN && s.buffered.length && (null == (i = this.fragCurrent) ? void 0 : i.sn) === (null == (o = this.fragPrevious) ? void 0 : o.sn) && (this.loadedmetadata = !0,this.seekToStartPos()),this.tick())}seekToStartPos() {}_handleFragmentLoadComplete(t) {const {transmuxer: e} = this;if (!e)return;const {frag: r, part: n, partsLoaded: i} = t, o = !i || 0 === i.length || i.some((t => !t)), s = new Fr(r.level,r.sn,r.stats.chunkCount + 1,0,n ? n.index : -1,!o);e.flush(s)}_handleFragmentLoadProgress(t) {}_doFragLoad(t, e, r=null, n) {var i;const o = null == e ? void 0 : e.details;if (!this.levels || !o)throw new Error(`frag load aborted, missing level${o ? "" : " detail"}s`);let s = null;if (!t.encrypted || null != (i = t.decryptdata) && i.key ? !t.encrypted && o.encryptedFragments.length && this.keyLoader.loadClear(t, o.encryptedFragments) : (this.log(`Loading key for ${t.sn} of [${o.startSN}-${o.endSN}], ${"[stream-controller]" === this.logPrefix ? "level" : "track"} ${t.level}`),this.state = en,this.fragCurrent = t,s = this.keyLoader.load(t).then((t => {if (!this.fragContextChanged(t.frag))return this.hls.trigger(p.KEY_LOADED, t),this.state === en && (this.state = tn),t})),this.hls.trigger(p.KEY_LOADING, {frag: t}),null === this.fragCurrent && (s = Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),r = Math.max(t.start, r || 0),this.config.lowLatencyMode && "initSegment" !== t.sn) {const i = o.partList;if (i && n) {r > t.end && o.fragmentHint && (t = o.fragmentHint);const a = this.getNextPart(i, t, r);if (a > -1) {const c = i[a];let u;return this.log(`Loading part sn: ${t.sn} p: ${c.index} cc: ${t.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${a}-${i.length - 1}] ${"[stream-controller]" === this.logPrefix ? "level" : "track"}: ${t.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition = c.start + c.duration,this.state = rn,u = s ? s.then((r => !r || this.fragContextChanged(r.frag) ? null : this.doFragPartsLoad(t, c, e, n))).catch((t => this.handleFragLoadError(t))) : this.doFragPartsLoad(t, c, e, n).catch((t => this.handleFragLoadError(t))),this.hls.trigger(p.FRAG_LOADING, {frag: t,part: c,targetBufferTime: r}),null === this.fragCurrent ? Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")) : u}if (!t.url || this.loadedEndOfParts(i, r))return Promise.resolve(null)}}this.log(`Loading fragment ${t.sn} cc: ${t.cc} ${o ? "of [" + o.startSN + "-" + o.endSN + "] " : ""}${"[stream-controller]" === this.logPrefix ? "level" : "track"}: ${t.level}, target: ${parseFloat(r.toFixed(3))}`),d(t.sn) && !this.bitrateTest && (this.nextLoadPosition = t.start + t.duration),this.state = rn;const a = this.config.progressive;let c;return c = a && s ? s.then((e => !e || this.fragContextChanged(null == e ? void 0 : e.frag) ? null : this.fragmentLoader.load(t, n))).catch((t => this.handleFragLoadError(t))) : Promise.all([this.fragmentLoader.load(t, a ? n : void 0), s]).then(( ([t]) => (!a && t && n && n(t),t))).catch((t => this.handleFragLoadError(t))),this.hls.trigger(p.FRAG_LOADING, {frag: t,targetBufferTime: r}),null === this.fragCurrent ? Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")) : c}doFragPartsLoad(t, e, r, n) {return new Promise(( (i, o) => {var s;const a = [], c = null == (s = r.details) ? void 0 : s.partList, u = e => {this.fragmentLoader.loadPart(t, e, n).then((n => {a[e.index] = n;const o = n.part;this.hls.trigger(p.FRAG_LOADED, n);const s = Je(r, t.sn, e.index + 1) || Ze(c, t.sn, e.index + 1);if (!s)return i({frag: t,part: o,partsLoaded: a});u(s)})).catch(o)};u(e)}))}handleFragLoadError(t) {if ("data"in t) {const e = t.data;t.data && e.details === m.INTERNAL_ABORTED ? this.handleFragLoadAborted(e.frag, e.part) : this.hls.trigger(p.ERROR, e)} elsethis.hls.trigger(p.ERROR, {type: g.OTHER_ERROR,details: m.INTERNAL_EXCEPTION,err: t,error: t,fatal: !0});return null}_handleTransmuxerFlush(t) {const e = this.getCurrentContext(t);if (!e || this.state !== sn)return void (this.fragCurrent || this.state === Zr || this.state === un || (this.state = tn));const {frag: r, part: n, level: i} = e, o = self.performance.now();r.stats.parsing.end = o,n && (n.stats.parsing.end = o),this.updateLevelTiming(r, n, i, t.partial)}getCurrentContext(t) {const {levels: e, fragCurrent: r} = this, {level: n, sn: i, part: o} = t;if (null == e || !e[n])return this.warn(`Levels object was unset while buffering fragment ${i} of level ${n}. The current chunk will not be buffered.`),null;const s = e[n], a = o > -1 ? Je(s, i, o) : null, c = a ? a.fragment : function(t, e, r) {if (null == t || !t.details)return null;const n = t.details;let i = n.fragments[e - n.startSN];return i || (i = n.fragmentHint,i && i.sn === e ? i : e < n.startSN && r && r.sn === e ? r : null)}(s, i, r);return c ? (r && r !== c && (c.stats = r.stats),{frag: c,part: a,level: s}) : null}bufferFragmentData(t, e, r, n, i) {var o;if (!t || this.state !== sn)return;const {data1: s, data2: a} = t;let c = s;if (s && a && (c = Mt(s, a)),null == (o = c) || !o.length)return;const u = {type: t.type,frag: e,part: r,chunkMeta: n,parent: e.type,data: c};if (this.hls.trigger(p.BUFFER_APPENDING, u),t.dropped && t.independent && !r) {if (i)return;this.flushBufferGap(e)}}flushBufferGap(t) {const e = this.media;if (!e)return;if (!Ur.isBuffered(e, e.currentTime))return void this.flushMainBuffer(0, t.start);const r = e.currentTime, n = Ur.bufferInfo(e, r, 0), i = t.duration, o = Math.min(2 * this.config.maxFragLookUpTolerance, .25 * i), s = Math.max(Math.min(t.start - o, n.end - o), r + o);t.start - s > o && this.flushMainBuffer(s, t.start)}getFwdBufferInfo(t, e) {const r = this.getLoadPosition();return d(r) ? this.getFwdBufferInfoAtPos(t, r, e) : null}getFwdBufferInfoAtPos(t, e, r) {const {config: {maxBufferHole: n}} = this, i = Ur.bufferInfo(t, e, n);if (0 === i.len && void 0 !== i.nextStart) {const o = this.fragmentTracker.getBufferedFrag(e, r);if (o && i.nextStart < o.end)return Ur.bufferInfo(t, e, Math.max(i.nextStart, n))}return i}getMaxBufferLength(t) {const {config: e} = this;let r;return r = t ? Math.max(8 * e.maxBufferSize / t, e.maxBufferLength) : e.maxBufferLength,Math.min(r, e.maxMaxBufferLength)}reduceMaxBufferLength(t, e) {const r = this.config, n = Math.max(Math.min(t - e, r.maxBufferLength), e), i = Math.max(t - 3 * e, r.maxMaxBufferLength / 2, n);return i >= n && (r.maxMaxBufferLength = i,this.warn(`Reduce max buffer length to ${i}s`),!0)}getAppendedFrag(t, e=Se.MAIN) {const r = this.fragmentTracker.getAppendedFrag(t, Se.MAIN);return r && "fragment"in r ? r.fragment : r}getNextFragment(t, e) {const r = e.fragments, n = r.length;if (!n)return null;const {config: i} = this, o = r[0].start;let s;if (e.live) {const a = i.initialLiveManifestSize;if (n < a)return this.warn(`Not enough fragments to start playback (have: ${n}, need: ${a})`),null;(!e.PTSKnown && !this.startFragRequested && -1 === this.startPosition || t < o) && (s = this.getInitialLiveFragment(e, r),this.startPosition = this.nextLoadPosition = s ? this.hls.liveSyncPosition || s.start : t)} elset <= o && (s = r[0]);if (!s) {const r = i.lowLatencyMode ? e.partEnd : e.fragmentEnd;s = this.getFragmentAtPosition(t, r, e)}return this.mapToInitFragWhenRequired(s)}isLoopLoading(t, e) {const r = this.fragmentTracker.getState(t);return (r === Cr || r === Rr && !!t.gap) && this.nextLoadPosition > e}getNextFragmentLoopLoading(t, e, r, n, i) {const o = t.gap, s = this.getNextFragment(this.nextLoadPosition, e);if (null === s)return s;if (t = s,o && t && !t.gap && r.nextStart) {const e = this.getFwdBufferInfoAtPos(this.mediaBuffer ? this.mediaBuffer : this.media, r.nextStart, n);if (null !== e && r.len + e.len >= i)return this.log(`buffer full after gaps in "${n}" playlist starting at sn: ${t.sn}`),null}return t}mapToInitFragWhenRequired(t) {return null == t || !t.initSegment || null != t && t.initSegment.data || this.bitrateTest ? t : t.initSegment}getNextPart(t, e, r) {let n = -1, i = !1, o = !0;for (let s = 0, a = t.length; s < a; s++) {const a = t[s];if (o = o && !a.independent,n > -1 && r < a.start)break;const c = a.loaded;c ? n = -1 : (i || a.independent || o) && a.fragment === e && (n = s),i = c}return n}loadedEndOfParts(t, e) {const r = t[t.length - 1];return r && e > r.start && r.loaded}getInitialLiveFragment(t, e) {const r = this.fragPrevious;let n = null;if (r) {if (t.hasProgramDateTime && (this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),n = function(t, e, r) {if (null === e || !Array.isArray(t) || !t.length || !d(e))return null;if (e < (t[0].programDateTime || 0))return null;if (e >= (t[t.length - 1].endProgramDateTime || 0))return null;r = r || 0;for (let n = 0; n < t.length; ++n) {const i = t[n];if (ur(e, r, i))return i}return null}(e, r.endProgramDateTime, this.config.maxFragLookUpTolerance)),!n) {const i = r.sn + 1;if (i >= t.startSN && i <= t.endSN) {const o = e[i - t.startSN];r.cc === o.cc && (n = o,this.log(`Live playlist, switching playlist, load frag with next SN: ${n.sn}`))}n || (n = function(t, e) {return sr(t, (t => t.cc < e ? 1 : t.cc > e ? -1 : 0))}(e, r.cc),n && this.log(`Live playlist, switching playlist, load frag with same CC: ${n.sn}`))}} else {const e = this.hls.liveSyncPosition;null !== e && (n = this.getFragmentAtPosition(e, this.bitrateTest ? t.fragmentEnd : t.edge, t))}return n}getFragmentAtPosition(t, e, r) {const {config: n} = this;let {fragPrevious: i} = this, {fragments: o, endSN: s} = r;const {fragmentHint: a} = r, {maxFragLookUpTolerance: c} = n, u = r.partList, l = !!(n.lowLatencyMode && null != u && u.length && a);let d;if (l && a && !this.bitrateTest && (o = o.concat(a),s = a.sn),t < e) {d = ar(i, o, t, t > e - c ? 0 : c)} elsed = o[o.length - 1];if (d) {const t = d.sn - r.startSN, e = this.fragmentTracker.getState(d);if ((e === Cr || e === Rr && d.gap) && (i = d),i && d.sn === i.sn && (!l || u[0].fragment.sn > d.sn)) {if (i && d.level === i.level) {const e = o[t + 1];d = d.sn < s && this.fragmentTracker.getState(e) !== Cr ? e : null}}}return d}synchronizeToLiveEdge(t) {const {config: e, media: r} = this;if (!r)return;const n = this.hls.liveSyncPosition, i = r.currentTime, o = t.fragments[0].start, s = t.edge, a = i >= o - e.maxFragLookUpTolerance && i <= s;if (null !== n && r.duration > n && (i < n || !a)) {const o = void 0 !== e.liveMaxLatencyDuration ? e.liveMaxLatencyDuration : e.liveMaxLatencyDurationCount * t.targetduration;(!a && r.readyState < 4 || i < s - o) && (this.loadedmetadata || (this.nextLoadPosition = n),r.readyState && (this.warn(`Playback: ${i.toFixed(3)} is located too far from the end of live sliding playlist: ${s}, reset currentTime to : ${n.toFixed(3)}`),r.currentTime = n))}}alignPlaylists(t, e, r) {const n = t.fragments.length;if (!n)return this.warn("No fragments in live playlist"),0;const i = t.fragments[0].start, o = !e, s = t.alignedSliding && d(i);if (o || !s && !i) {const {fragPrevious: i} = this;$r(i, r, t);const o = t.fragments[0].start;return this.log(`Live playlist sliding: ${o.toFixed(2)} start-sn: ${e ? e.startSN : "na"}->${t.startSN} prev-sn: ${i ? i.sn : "na"} fragments: ${n}`),o}return i}waitForCdnTuneIn(t) {return t.live && t.canBlockReload && t.partTarget && t.tuneInGoal > Math.max(t.partHoldBack, 3 * t.partTarget)}setStartPosition(t, e) {let r = this.startPosition;if (r < e && (r = -1),-1 === r || -1 === this.lastCurrentTime) {const n = null !== this.startTimeOffset, i = n ? this.startTimeOffset : t.startTimeOffset;null !== i && d(i) ? (r = e + i,i < 0 && (r += t.totalduration),r = Math.min(Math.max(e, r), e + t.totalduration),this.log(`Start time offset ${i} found in ${n ? "multivariant" : "media"} playlist, adjust startPosition to ${r}`),this.startPosition = r) : t.live ? r = this.hls.liveSyncPosition || e : this.startPosition = r = 0,this.lastCurrentTime = r}this.nextLoadPosition = r}getLoadPosition() {const {media: t} = this;let e = 0;return this.loadedmetadata && t ? e = t.currentTime : this.nextLoadPosition && (e = this.nextLoadPosition),e}handleFragLoadAborted(t, e) {this.transmuxer && "initSegment" !== t.sn && t.stats.aborted && (this.warn(`Fragment ${t.sn}${e ? " part " + e.index : ""} of level ${t.level} was aborted`),this.resetFragmentLoading(t))}resetFragmentLoading(t) {this.fragCurrent && (this.fragContextChanged(t) || this.state === nn) || (this.state = tn)}onFragmentOrKeyLoadError(t, e) {if (e.chunkMeta && !e.frag) {const t = this.getCurrentContext(e.chunkMeta);t && (e.frag = t.frag)}const r = e.frag;if (!r || r.type !== t || !this.levels)return;var n;if (this.fragContextChanged(r))return void this.warn(`Frag load error must match current frag to retry ${r.url} > ${null == (n = this.fragCurrent) ? void 0 : n.url}`);const i = e.details === m.FRAG_GAP;i && this.fragmentTracker.fragBuffered(r, !0);const o = e.errorAction, {action: s, retryCount: a=0, retryConfig: c} = o || {};if (o && s === lr.RetryRequest && c) {this.resetStartWhenNotLoaded(this.levelLastLoaded);const n = nr(c, a);this.warn(`Fragment ${r.sn} of ${t} ${r.level} errored with ${e.details}, retrying loading ${a + 1}/${c.maxNumRetry} in ${n}ms`),o.resolved = !0,this.retryDate = self.performance.now() + n,this.state = nn} else if (c && o) {if (this.resetFragmentErrors(t),!(a < c.maxNumRetry))return void w.warn(`${e.details} reached or exceeded max retry (${a})`);i || s === lr.RemoveAlternatePermanently || (o.resolved = !0)} else(null == o ? void 0 : o.action) === lr.SendAlternateToPenaltyBox ? this.state = dn : this.state = un;this.tickImmediate()}reduceLengthAndFlushBuffer(t) {if (this.state === sn || this.state === an) {const e = t.frag, r = t.parent, n = this.getFwdBufferInfo(this.mediaBuffer, r), i = n && n.len > .5;i && this.reduceMaxBufferLength(n.len, (null == e ? void 0 : e.duration) || 10);const o = !i;return o && this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),e && (this.fragmentTracker.removeFragment(e),this.nextLoadPosition = e.start),this.resetLoadingState(),o}return !1}resetFragmentErrors(t) {t === Se.AUDIO && (this.fragCurrent = null),this.loadedmetadata || (this.startFragRequested = !1),this.state !== Zr && (this.state = tn)}afterBufferFlushed(t, e, r) {if (!t)return;const n = Ur.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e, n, r),this.state === cn && this.resetLoadingState()}resetLoadingState() {this.log("Reset loading state"),this.fragCurrent = null,this.fragPrevious = null,this.state = tn}resetStartWhenNotLoaded(t) {if (!this.loadedmetadata) {this.startFragRequested = !1;const e = t ? t.details : null;null != e && e.live ? (this.startPosition = -1,this.setStartPosition(e, 0),this.resetLoadingState()) : this.nextLoadPosition = this.startPosition}}resetWhenMissingContext(t) {this.warn(`The loading context changed while buffering fragment ${t.sn} of level ${t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(t=0) {this.fragmentTracker.removeFragmentsInRange(t, 1 / 0, this.playlistType, !1, !0)}updateLevelTiming(t, e, r, n) {var i;const o = r.details;if (!o)return void this.warn("level.details undefined");if (!Object.keys(t.elementaryStreams).reduce(( (e, i) => {const s = t.elementaryStreams[i];if (s) {const a = s.endPTS - s.startPTS;if (a <= 0)return this.warn(`Could not parse fragment ${t.sn} ${i} duration reliably (${a})`),e || !1;const c = n ? 0 : ze(o, t, s.startPTS, s.endPTS, s.startDTS, s.endDTS);return this.hls.trigger(p.LEVEL_PTS_UPDATED, {details: o,level: r,drift: c,type: i,frag: t,start: s.startPTS,end: s.endPTS}),!0}return e}), !1) && null === (null == (i = this.transmuxer) ? void 0 : i.error)) {const e = new Error(`Found no media in fragment ${t.sn} of level ${t.level} resetting transmuxer to fallback to playlist timing`);if (0 === r.fragmentError && (r.fragmentError++,t.gap = !0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t, !0)),this.warn(e.message),this.hls.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.FRAG_PARSING_ERROR,fatal: !1,error: e,frag: t,reason: `Found no media in msn ${t.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state = an,this.hls.trigger(p.FRAG_PARSED, {frag: t,part: e})}resetTransmuxer() {this.transmuxer && (this.transmuxer.destroy(),this.transmuxer = null)}recoverWorkerError(t) {"demuxerWorker" === t.event && (this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(t) {const e = this._state;e !== t && (this._state = t,this.log(`${e}->${t}`))}get state() {return this._state}}class hn {constructor() {this.chunks = [],this.dataLength = 0}push(t) {this.chunks.push(t),this.dataLength += t.length}flush() {const {chunks: t, dataLength: e} = this;let r;return t.length ? (r = 1 === t.length ? t[0] : function(t, e) {const r = new Uint8Array(e);let n = 0;for (let e = 0; e < t.length; e++) {const i = t[e];r.set(i, n),n += i.length}return r}(t, e),this.reset(),r) : new Uint8Array(0)}reset() {this.chunks.length = 0,this.dataLength = 0}}function pn(t="", e=9e4) {return {type: t,id: -1,pid: -1,inputTimeScale: e,sequenceNumber: -1,samples: [],dropped: 0}}class gn {constructor() {this._audioTrack = void 0,this._id3Track = void 0,this.frameIndex = 0,this.cachedData = null,this.basePTS = null,this.initPTS = null,this.lastPTS = null}resetInitSegment(t, e, r, n) {this._id3Track = {type: "id3",id: 3,pid: -1,inputTimeScale: 9e4,sequenceNumber: 0,samples: [],dropped: 0}}resetTimeStamp(t) {this.initPTS = t,this.resetContiguity()}resetContiguity() {this.basePTS = null,this.lastPTS = null,this.frameIndex = 0}canParse(t, e) {return !1}appendFrame(t, e, r) {}demux(t, e) {this.cachedData && (t = Mt(this.cachedData, t),this.cachedData = null);let r, n = et(t, 0), i = n ? n.length : 0;const o = this._audioTrack, s = this._id3Track, a = n ? it(n) : void 0, c = t.length;for ((null === this.basePTS || 0 === this.frameIndex && d(a)) && (this.basePTS = mn(a, e, this.initPTS),this.lastPTS = this.basePTS),null === this.lastPTS && (this.lastPTS = this.basePTS),n && n.length > 0 && s.samples.push({pts: this.lastPTS,dts: this.lastPTS,data: n,type: De.audioId3,duration: Number.POSITIVE_INFINITY}); i < c; ) {if (this.canParse(t, i)) {const e = this.appendFrame(o, t, i);e ? (this.frameIndex++,this.lastPTS = e.sample.pts,i += e.length,r = i) : i = c} elsent(t, i) ? (n = et(t, i),s.samples.push({pts: this.lastPTS,dts: this.lastPTS,data: n,type: De.audioId3,duration: Number.POSITIVE_INFINITY}),i += n.length,r = i) : i++;if (i === c && r !== c) {const e = J(t, r);this.cachedData ? this.cachedData = Mt(this.cachedData, e) : this.cachedData = e}}return {audioTrack: o,videoTrack: pn(),id3Track: s,textTrack: pn()}}demuxSampleAes(t, e, r) {return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t) {const e = this.cachedData;return e && (this.cachedData = null,this.demux(e, 0)),{audioTrack: this._audioTrack,videoTrack: pn(),id3Track: this._id3Track,textTrack: pn()}}destroy() {}}const mn = (t, e, r) => {if (d(t))return 90 * t;return 9e4 * e + (r ? 9e4 * r.baseTime / r.timescale : 0)};function vn(t, e) {return 255 === t[e] && 240 == (246 & t[e + 1])}function yn(t, e) {return 1 & t[e + 1] ? 7 : 9}function _n(t, e) {return (3 & t[e + 3]) << 11 | t[e + 4] << 3 | (224 & t[e + 5]) >>> 5}function bn(t, e) {return e + 1 < t.length && vn(t, e)}function wn(t, e) {if (bn(t, e)) {const r = yn(t, e);if (e + r >= t.length)return !1;const n = _n(t, e);if (n <= r)return !1;const i = e + n;return i === t.length || bn(t, i)}return !1}function En(t, e, r, n, i) {if (!t.samplerate) {const o = function(t, e, r, n) {let i, o, s, a;const c = navigator.userAgent.toLowerCase(), u = n, l = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];i = 1 + ((192 & e[r + 2]) >>> 6);const d = (60 & e[r + 2]) >>> 2;if (!(d > l.length - 1))return s = (1 & e[r + 2]) << 2,s |= (192 & e[r + 3]) >>> 6,w.log(`manifest codec:${n}, ADTS type:${i}, samplingIndex:${d}`),/firefox/i.test(c) ? d >= 6 ? (i = 5,a = new Array(4),o = d - 3) : (i = 2,a = new Array(2),o = d) : -1 !== c.indexOf("android") ? (i = 2,a = new Array(2),o = d) : (i = 5,a = new Array(4),n && (-1 !== n.indexOf("mp4a.40.29") || -1 !== n.indexOf("mp4a.40.5")) || !n && d >= 6 ? o = d - 3 : ((n && -1 !== n.indexOf("mp4a.40.2") && (d >= 6 && 1 === s || /vivaldi/i.test(c)) || !n && 1 === s) && (i = 2,a = new Array(2)),o = d)),a[0] = i << 3,a[0] |= (14 & d) >> 1,a[1] |= (1 & d) << 7,a[1] |= s << 3,5 === i && (a[1] |= (14 & o) >> 1,a[2] = (1 & o) << 7,a[2] |= 8,a[3] = 0),{config: a,samplerate: l[d],channelCount: s,codec: "mp4a.40." + i,manifestCodec: u};{const e = new Error(`invalid ADTS sampling index:${d}`);t.emit(p.ERROR, p.ERROR, {type: g.MEDIA_ERROR,details: m.FRAG_PARSING_ERROR,fatal: !0,error: e,reason: e.message})}}(e, r, n, i);if (!o)return;t.config = o.config,t.samplerate = o.samplerate,t.channelCount = o.channelCount,t.codec = o.codec,t.manifestCodec = o.manifestCodec,w.log(`parsed codec:${t.codec}, rate:${o.samplerate}, channels:${o.channelCount}`)}}function Tn(t) {return 9216e4 / t}function Sn(t, e, r, n, i) {const o = n + i * Tn(t.samplerate), s = function(t, e) {const r = yn(t, e);if (e + r <= t.length) {const n = _n(t, e) - r;if (n > 0)return {headerLength: r,frameLength: n}}}(e, r);let a;if (s) {const {frameLength: n, headerLength: i} = s, c = i + n, u = Math.max(0, r + c - e.length);u ? (a = new Uint8Array(c - i),a.set(e.subarray(r + i, e.length), 0)) : a = e.subarray(r + i, r + c);const l = {unit: a,pts: o};return u || t.samples.push(l),{sample: l,length: c,missing: u}}const c = e.length - r;a = new Uint8Array(c),a.set(e.subarray(r, e.length), 0);return {sample: {unit: a,pts: o},length: c,missing: -1}}let An = null;const In = [32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160], xn = [44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3], Ln = [[0, 72, 144, 12], [0, 0, 0, 0], [0, 72, 144, 12], [0, 144, 144, 12]], kn = [0, 1, 1, 4];function Rn(t, e, r, n, i) {if (r + 24 > e.length)return;const o = Cn(e, r);if (o && r + o.frameLength <= e.length) {const s = n + i * (9e4 * o.samplesPerFrame / o.sampleRate), a = {unit: e.subarray(r, r + o.frameLength),pts: s,dts: s};return t.config = [],t.channelCount = o.channelCount,t.samplerate = o.sampleRate,t.samples.push(a),{sample: a,length: o.frameLength,missing: 0}}}function Cn(t, e) {const r = t[e + 1] >> 3 & 3, n = t[e + 1] >> 1 & 3, i = t[e + 2] >> 4 & 15, o = t[e + 2] >> 2 & 3;if (1 !== r && 0 !== i && 15 !== i && 3 !== o) {const s = t[e + 2] >> 1 & 1, a = t[e + 3] >> 6, c = 1e3 * In[14 * (3 === r ? 3 - n : 3 === n ? 3 : 4) + i - 1], u = xn[3 * (3 === r ? 0 : 2 === r ? 1 : 2) + o], l = 3 === a ? 1 : 2, d = Ln[r][n], f = kn[n], h = 8 * d * f, p = Math.floor(d * c / u + s) * f;if (null === An) {const t = (navigator.userAgent || "").match(/Chrome\/(\d+)/i);An = t ? parseInt(t[1]) : 0}return !!An && An <= 87 && 2 === n && c >= 224e3 && 0 === a && (t[e + 3] = 128 | t[e + 3]),{sampleRate: u,channelCount: l,frameLength: p,samplesPerFrame: h}}}function Pn(t, e) {return !(255 !== t[e] || 224 & ~t[e + 1] || !(6 & t[e + 1]))}function Dn(t, e) {return e + 1 < t.length && Pn(t, e)}function On(t, e) {if (e + 1 < t.length && Pn(t, e)) {const r = 4, n = Cn(t, e);let i = r;null != n && n.frameLength && (i = n.frameLength);const o = e + i;return o === t.length || Dn(t, o)}return !1}const Mn = /\/emsg[-/]ID3/i;const Un = (t, e) => {let r = 0, n = 5;e += n;const i = new Uint32Array(1), o = new Uint32Array(1), s = new Uint8Array(1);for (; n > 0; ) {s[0] = t[e];const a = Math.min(n, 8), c = 8 - a;o[0] = 4278190080 >>> 24 + c << c,i[0] = (s[0] & o[0]) >> c,r = r ? r << a | i[0] : i[0],e += 1,n -= a}return r};class Fn extends gn {constructor(t) {super(),this.observer = void 0,this.observer = t}resetInitSegment(t, e, r, n) {super.resetInitSegment(t, e, r, n),this._audioTrack = {container: "audio/ac-3",type: "audio",id: 2,pid: -1,sequenceNumber: 0,segmentCodec: "ac3",samples: [],manifestCodec: e,duration: n,inputTimeScale: 9e4,dropped: 0}}canParse(t, e) {return e + 64 < t.length}appendFrame(t, e, r) {const n = Nn(t, e, r, this.basePTS, this.frameIndex);if (-1 !== n) {return {sample: t.samples[t.samples.length - 1],length: n,missing: 0}}}static probe(t) {if (!t)return !1;const e = et(t, 0);if (!e)return !1;const r = e.length;return 11 === t[r] && 119 === t[r + 1] && void 0 !== it(e) && Un(t, r) < 16}}function Nn(t, e, r, n, i) {if (r + 8 > e.length)return -1;if (11 !== e[r] || 119 !== e[r + 1])return -1;const o = e[r + 4] >> 6;if (o >= 3)return -1;const s = [48e3, 44100, 32e3][o], a = 63 & e[r + 4], c = 2 * [64, 69, 96, 64, 70, 96, 80, 87, 120, 80, 88, 120, 96, 104, 144, 96, 105, 144, 112, 121, 168, 112, 122, 168, 128, 139, 192, 128, 140, 192, 160, 174, 240, 160, 175, 240, 192, 208, 288, 192, 209, 288, 224, 243, 336, 224, 244, 336, 256, 278, 384, 256, 279, 384, 320, 348, 480, 320, 349, 480, 384, 417, 576, 384, 418, 576, 448, 487, 672, 448, 488, 672, 512, 557, 768, 512, 558, 768, 640, 696, 960, 640, 697, 960, 768, 835, 1152, 768, 836, 1152, 896, 975, 1344, 896, 976, 1344, 1024, 1114, 1536, 1024, 1115, 1536, 1152, 1253, 1728, 1152, 1254, 1728, 1280, 1393, 1920, 1280, 1394, 1920][3 * a + o];if (r + c > e.length)return -1;const u = e[r + 6] >> 5;let l = 0;2 === u ? l += 2 : (1 & u && 1 !== u && (l += 2),4 & u && (l += 2));const d = (e[r + 6] << 8 | e[r + 7]) >> 12 - l & 1, f = [2, 1, 2, 3, 3, 4, 4, 5][u] + d, h = e[r + 5] >> 3, p = 7 & e[r + 5], g = new Uint8Array([o << 6 | h << 1 | p >> 2, (3 & p) << 6 | u << 3 | d << 2 | a >> 4, a << 4 & 224]), m = n + i * (1536 / s * 9e4), v = e.subarray(r, r + c);return t.config = g,t.channelCount = f,t.samplerate = s,t.samples.push({unit: v,pts: m}),c}class Bn {constructor() {this.VideoSample = null}createVideoSample(t, e, r, n) {return {key: t,frame: !1,pts: e,dts: r,units: [],debug: n,length: 0}}getLastNalUnit(t) {var e;let r, n = this.VideoSample;if (n && 0 !== n.units.length || (n = t[t.length - 1]),null != (e = n) && e.units) {const t = n.units;r = t[t.length - 1]}return r}pushAccessUnit(t, e) {if (t.units.length && t.frame) {if (void 0 === t.pts) {const r = e.samples, n = r.length;if (!n)return void e.dropped++;{const e = r[n - 1];t.pts = e.pts,t.dts = e.dts}}e.samples.push(t)}t.debug.length && w.log(t.pts + "/" + t.dts + ":" + t.debug)}}class jn {constructor(t) {this.data = void 0,this.bytesAvailable = void 0,this.word = void 0,this.bitsAvailable = void 0,this.data = t,this.bytesAvailable = t.byteLength,this.word = 0,this.bitsAvailable = 0}loadWord() {const t = this.data, e = this.bytesAvailable, r = t.byteLength - e, n = new Uint8Array(4), i = Math.min(4, e);if (0 === i)throw new Error("no bytes available");n.set(t.subarray(r, r + i)),this.word = new DataView(n.buffer).getUint32(0),this.bitsAvailable = 8 * i,this.bytesAvailable -= i}skipBits(t) {let e;t = Math.min(t, 8 * this.bytesAvailable + this.bitsAvailable),this.bitsAvailable > t ? (this.word <<= t,this.bitsAvailable -= t) : (e = (t -= this.bitsAvailable) >> 3,t -= e << 3,this.bytesAvailable -= e,this.loadWord(),this.word <<= t,this.bitsAvailable -= t)}readBits(t) {let e = Math.min(this.bitsAvailable, t);const r = this.word >>> 32 - e;if (t > 32 && w.error("Cannot read more than 32 bits at a time"),this.bitsAvailable -= e,this.bitsAvailable > 0)this.word <<= e;else {if (!(this.bytesAvailable > 0))throw new Error("no bits available");this.loadWord()}return e = t - e,e > 0 && this.bitsAvailable ? r << e | this.readBits(e) : r}skipLZ() {let t;for (t = 0; t < this.bitsAvailable; ++t)if (this.word & 2147483648 >>> t)return this.word <<= t,this.bitsAvailable -= t,t;return this.loadWord(),t + this.skipLZ()}skipUEG() {this.skipBits(1 + this.skipLZ())}skipEG() {this.skipBits(1 + this.skipLZ())}readUEG() {const t = this.skipLZ();return this.readBits(t + 1) - 1}readEG() {const t = this.readUEG();return 1 & t ? 1 + t >>> 1 : -1 * (t >>> 1)}readBoolean() {return 1 === this.readBits(1)}readUByte() {return this.readBits(8)}readUShort() {return this.readBits(16)}readUInt() {return this.readBits(32)}skipScalingList(t) {let e, r = 8, n = 8;for (let i = 0; i < t; i++)0 !== n && (e = this.readEG(),n = (r + e + 256) % 256),r = 0 === n ? r : n}readSPS() {let t, e, r, n = 0, i = 0, o = 0, s = 0;const a = this.readUByte.bind(this), c = this.readBits.bind(this), u = this.readUEG.bind(this), l = this.readBoolean.bind(this), d = this.skipBits.bind(this), f = this.skipEG.bind(this), h = this.skipUEG.bind(this), p = this.skipScalingList.bind(this);a();const g = a();if (c(5),d(3),a(),h(),100 === g || 110 === g || 122 === g || 244 === g || 44 === g || 83 === g || 86 === g || 118 === g || 128 === g) {const t = u();if (3 === t && d(1),h(),h(),d(1),l())for (e = 3 !== t ? 8 : 12,r = 0; r < e; r++)l() && p(r < 6 ? 16 : 64)}h();const m = u();if (0 === m)u();else if (1 === m)for (d(1),f(),f(),t = u(),r = 0; r < t; r++)f();h(),d(1);const v = u(), y = u(), _ = c(1);0 === _ && d(1),d(1),l() && (n = u(),i = u(),o = u(),s = u());let b = [1, 1];if (l() && l()) {switch (a()) {case 1:b = [1, 1];break;case 2:b = [12, 11];break;case 3:b = [10, 11];break;case 4:b = [16, 11];break;case 5:b = [40, 33];break;case 6:b = [24, 11];break;case 7:b = [20, 11];break;case 8:b = [32, 11];break;case 9:b = [80, 33];break;case 10:b = [18, 11];break;case 11:b = [15, 11];break;case 12:b = [64, 33];break;case 13:b = [160, 99];break;case 14:b = [4, 3];break;case 15:b = [3, 2];break;case 16:b = [2, 1];break;case 255:b = [a() << 8 | a(), a() << 8 | a()]}}return {width: Math.ceil(16 * (v + 1) - 2 * n - 2 * i),height: (2 - _) * (y + 1) * 16 - (_ ? 2 : 4) * (o + s),pixelRatio: b}}readSliceType() {return this.readUByte(),this.readUEG(),this.readUEG()}}class $n extends Bn {parseAVCPES(t, e, r, n, i) {const o = this.parseAVCNALu(t, r.data);let s, a = this.VideoSample, c = !1;r.data = null,a && o.length && !t.audFound && (this.pushAccessUnit(a, t),a = this.VideoSample = this.createVideoSample(!1, r.pts, r.dts, "")),o.forEach((n => {var o;switch (n.type) {case 1:{let e = !1;s = !0;const i = n.data;if (c && i.length > 4) {const t = new jn(i).readSliceType();2 !== t && 4 !== t && 7 !== t && 9 !== t || (e = !0)}var u;if (e)null != (u = a) && u.frame && !a.key && (this.pushAccessUnit(a, t),a = this.VideoSample = null);a || (a = this.VideoSample = this.createVideoSample(!0, r.pts, r.dts, "")),a.frame = !0,a.key = e;break}case 5:s = !0,null != (o = a) && o.frame && !a.key && (this.pushAccessUnit(a, t),a = this.VideoSample = null),a || (a = this.VideoSample = this.createVideoSample(!0, r.pts, r.dts, "")),a.key = !0,a.frame = !0;break;case 6:s = !0,Nt(n.data, 1, r.pts, e.samples);break;case 7:{var l, d;s = !0,c = !0;const e = n.data, r = new jn(e).readSPS();if (!t.sps || t.width !== r.width || t.height !== r.height || (null == (l = t.pixelRatio) ? void 0 : l[0]) !== r.pixelRatio[0] || (null == (d = t.pixelRatio) ? void 0 : d[1]) !== r.pixelRatio[1]) {t.width = r.width,t.height = r.height,t.pixelRatio = r.pixelRatio,t.sps = [e],t.duration = i;const n = e.subarray(1, 4);let o = "avc1.";for (let t = 0; t < 3; t++) {let e = n[t].toString(16);e.length < 2 && (e = "0" + e),o += e}t.codec = o}break}case 8:s = !0,t.pps = [n.data];break;case 9:s = !0,t.audFound = !0,a && this.pushAccessUnit(a, t),a = this.VideoSample = this.createVideoSample(!1, r.pts, r.dts, "");break;case 12:s = !0;break;default:s = !1,a && (a.debug += "unknown NAL " + n.type + " ")}if (a && s) {a.units.push(n)}})),n && a && (this.pushAccessUnit(a, t),this.VideoSample = null)}parseAVCNALu(t, e) {const r = e.byteLength;let n = t.naluState || 0;const i = n, o = [];let s, a, c, u = 0, l = -1, d = 0;for (-1 === n && (l = 0,d = 31 & e[0],n = 0,u = 1); u < r; )if (s = e[u++],n)if (1 !== n)if (s)if (1 === s) {if (a = u - n - 1,l >= 0) {const t = {data: e.subarray(l, a),type: d};o.push(t)} else {const r = this.getLastNalUnit(t.samples);r && (i && u <= 4 - i && r.state && (r.data = r.data.subarray(0, r.data.byteLength - i)),a > 0 && (r.data = Mt(r.data, e.subarray(0, a)),r.state = 0))}u < r ? (c = 31 & e[u],l = u,d = c,n = 0) : n = -1} elsen = 0;elsen = 3;elsen = s ? 0 : 2;elsen = s ? 0 : 1;if (l >= 0 && n >= 0) {const t = {data: e.subarray(l, r),type: d,state: n};o.push(t)}if (0 === o.length) {const r = this.getLastNalUnit(t.samples);r && (r.data = Mt(r.data, e))}return t.naluState = n,o}}class Hn {constructor(t, e, r) {this.keyData = void 0,this.decrypter = void 0,this.keyData = r,this.decrypter = new Xr(e,{removePKCS7Padding: !1})}decryptBuffer(t) {return this.decrypter.decrypt(t, this.keyData.key.buffer, this.keyData.iv.buffer)}decryptAacSample(t, e, r) {const n = t[e].unit;if (n.length <= 16)return;const i = n.subarray(16, n.length - n.length % 16), o = i.buffer.slice(i.byteOffset, i.byteOffset + i.length);this.decryptBuffer(o).then((i => {const o = new Uint8Array(i);n.set(o, 16),this.decrypter.isSync() || this.decryptAacSamples(t, e + 1, r)}))}decryptAacSamples(t, e, r) {for (; ; e++) {if (e >= t.length)return void r();if (!(t[e].unit.length < 32) && (this.decryptAacSample(t, e, r),!this.decrypter.isSync()))return}}getAvcEncryptedData(t) {const e = 16 * Math.floor((t.length - 48) / 160) + 16, r = new Int8Array(e);let n = 0;for (let e = 32; e < t.length - 16; e += 160,n += 16)r.set(t.subarray(e, e + 16), n);return r}getAvcDecryptedUnit(t, e) {const r = new Uint8Array(e);let n = 0;for (let e = 32; e < t.length - 16; e += 160,n += 16)t.set(r.subarray(n, n + 16), e);return t}decryptAvcSample(t, e, r, n, i) {const o = Bt(i.data), s = this.getAvcEncryptedData(o);this.decryptBuffer(s.buffer).then((s => {i.data = this.getAvcDecryptedUnit(o, s),this.decrypter.isSync() || this.decryptAvcSamples(t, e, r + 1, n)}))}decryptAvcSamples(t, e, r, n) {if (t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for (; ; e++,r = 0) {if (e >= t.length)return void n();const i = t[e].units;for (; !(r >= i.length); r++) {const o = i[r];if (!(o.data.length <= 48 || 1 !== o.type && 5 !== o.type || (this.decryptAvcSample(t, e, r, n, o),this.decrypter.isSync())))return}}}}const Gn = 188;class Kn {constructor(t, e, r) {this.observer = void 0,this.config = void 0,this.typeSupported = void 0,this.sampleAes = null,this.pmtParsed = !1,this.audioCodec = void 0,this.videoCodec = void 0,this._duration = 0,this._pmtId = -1,this._videoTrack = void 0,this._audioTrack = void 0,this._id3Track = void 0,this._txtTrack = void 0,this.aacOverFlow = null,this.remainderData = null,this.videoParser = void 0,this.observer = t,this.config = e,this.typeSupported = r,this.videoParser = new $n}static probe(t) {const e = Kn.syncOffset(t);return e > 0 && w.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1 !== e}static syncOffset(t) {const e = t.length;let r = Math.min(940, e - Gn) + 1, n = 0;for (; n < r; ) {let i = !1, o = -1, s = 0;for (let a = n; a < e; a += Gn) {if (71 !== t[a] || e - a !== Gn && 71 !== t[a + Gn]) {if (s)return -1;break}if (s++,-1 === o && (o = a,0 !== o && (r = Math.min(o + 18612, t.length - Gn) + 1)),i || (i = 0 === qn(t, a)),i && s > 1 && (0 === o && s > 2 || a + Gn > r))return o}n++}return -1}static createTrack(t, e) {return {container: "video" === t || "audio" === t ? "video/mp2t" : void 0,type: t,id: _t[t],pid: -1,inputTimeScale: 9e4,sequenceNumber: 0,samples: [],dropped: 0,duration: "audio" === t ? e : void 0}}resetInitSegment(t, e, r, n) {this.pmtParsed = !1,this._pmtId = -1,this._videoTrack = Kn.createTrack("video"),this._audioTrack = Kn.createTrack("audio", n),this._id3Track = Kn.createTrack("id3"),this._txtTrack = Kn.createTrack("text"),this._audioTrack.segmentCodec = "aac",this.aacOverFlow = null,this.remainderData = null,this.audioCodec = e,this.videoCodec = r,this._duration = n}resetTimeStamp() {}resetContiguity() {const {_audioTrack: t, _videoTrack: e, _id3Track: r} = this;t && (t.pesData = null),e && (e.pesData = null),r && (r.pesData = null),this.aacOverFlow = null,this.remainderData = null}demux(t, e, r=!1, n=!1) {let i;r || (this.sampleAes = null);const o = this._videoTrack, s = this._audioTrack, a = this._id3Track, c = this._txtTrack;let u = o.pid, l = o.pesData, d = s.pid, f = a.pid, h = s.pesData, p = a.pesData, g = null, m = this.pmtParsed, v = this._pmtId, y = t.length;if (this.remainderData && (y = (t = Mt(this.remainderData, t)).length,this.remainderData = null),y < Gn && !n)return this.remainderData = t,{audioTrack: s,videoTrack: o,id3Track: a,textTrack: c};const _ = Math.max(0, Kn.syncOffset(t));y -= (y - _) % Gn,y < t.byteLength && !n && (this.remainderData = new Uint8Array(t.buffer,y,t.buffer.byteLength - y));let b = 0;for (let e = _; e < y; e += Gn)if (71 === t[e]) {const n = !!(64 & t[e + 1]), y = qn(t, e);let b;if ((48 & t[e + 3]) >> 4 > 1) {if (b = e + 5 + t[e + 4],b === e + Gn)continue} elseb = e + 4;switch (y) {case u:n && (l && (i = Qn(l)) && this.videoParser.parseAVCPES(o, c, i, !1, this._duration),l = {data: [],size: 0}),l && (l.data.push(t.subarray(b, e + Gn)),l.size += e + Gn - b);break;case d:if (n) {if (h && (i = Qn(h)))switch (s.segmentCodec) {case "aac":this.parseAACPES(s, i);break;case "mp3":this.parseMPEGPES(s, i);break;case "ac3":this.parseAC3PES(s, i)}h = {data: [],size: 0}}h && (h.data.push(t.subarray(b, e + Gn)),h.size += e + Gn - b);break;case f:n && (p && (i = Qn(p)) && this.parseID3PES(a, i),p = {data: [],size: 0}),p && (p.data.push(t.subarray(b, e + Gn)),p.size += e + Gn - b);break;case 0:n && (b += t[b] + 1),v = this._pmtId = Wn(t, b);break;case v:{n && (b += t[b] + 1);const i = Vn(t, b, this.typeSupported, r, this.observer);u = i.videoPid,u > 0 && (o.pid = u,o.segmentCodec = i.segmentVideoCodec),d = i.audioPid,d > 0 && (s.pid = d,s.segmentCodec = i.segmentAudioCodec),f = i.id3Pid,f > 0 && (a.pid = f),null === g || m || (w.warn(`MPEG-TS PMT found at ${e} after unknown PID '${g}'. Backtracking to sync byte @${_} to parse all TS packets.`),g = null,e = _ - 188),m = this.pmtParsed = !0;break}case 17:case 8191:break;default:g = y}} elseb++;b > 0 && zn(this.observer, new Error(`Found ${b} TS packet/s that do not start with 0x47`)),o.pesData = l,s.pesData = h,a.pesData = p;const E = {audioTrack: s,videoTrack: o,id3Track: a,textTrack: c};return n && this.extractRemainingSamples(E),E}flush() {const {remainderData: t} = this;let e;return this.remainderData = null,e = t ? this.demux(t, -1, !1, !0) : {videoTrack: this._videoTrack,audioTrack: this._audioTrack,id3Track: this._id3Track,textTrack: this._txtTrack},this.extractRemainingSamples(e),this.sampleAes ? this.decrypt(e, this.sampleAes) : e}extractRemainingSamples(t) {const {audioTrack: e, videoTrack: r, id3Track: n, textTrack: i} = t, o = r.pesData, s = e.pesData, a = n.pesData;let c;if (o && (c = Qn(o)) ? (this.videoParser.parseAVCPES(r, i, c, !0, this._duration),r.pesData = null) : r.pesData = o,s && (c = Qn(s))) {switch (e.segmentCodec) {case "aac":this.parseAACPES(e, c);break;case "mp3":this.parseMPEGPES(e, c);break;case "ac3":this.parseAC3PES(e, c)}e.pesData = null} elsenull != s && s.size && w.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData = s;a && (c = Qn(a)) ? (this.parseID3PES(n, c),n.pesData = null) : n.pesData = a}demuxSampleAes(t, e, r) {const n = this.demux(t, r, !0, !this.config.progressive), i = this.sampleAes = new Hn(this.observer,this.config,e);return this.decrypt(n, i)}decrypt(t, e) {return new Promise((r => {const {audioTrack: n, videoTrack: i} = t;n.samples && "aac" === n.segmentCodec ? e.decryptAacSamples(n.samples, 0, ( () => {i.samples ? e.decryptAvcSamples(i.samples, 0, 0, ( () => {r(t)})) : r(t)})) : i.samples && e.decryptAvcSamples(i.samples, 0, 0, ( () => {r(t)}))}))}destroy() {this._duration = 0}parseAACPES(t, e) {let r = 0;const n = this.aacOverFlow;let i, o, s, a = e.data;if (n) {this.aacOverFlow = null;const e = n.missing, i = n.sample.unit.byteLength;if (-1 === e)a = Mt(n.sample.unit, a);else {const o = i - e;n.sample.unit.set(a.subarray(0, e), o),t.samples.push(n.sample),r = n.missing}}for (i = r,o = a.length; i < o - 1 && !bn(a, i); i++);if (i !== r) {let t;const e = i < o - 1;if (t = e ? `AAC PES did not start with ADTS header,offset:${i}` : "No ADTS header found in AAC PES",zn(this.observer, new Error(t), e),!e)return}if (En(t, this.observer, a, i, this.audioCodec),void 0 !== e.pts)s = e.pts;else {if (!n)return void w.warn("[tsdemuxer]: AAC PES unknown PTS");{const e = Tn(t.samplerate);s = n.sample.pts + e}}let c, u = 0;for (; i < o; ) {if (c = Sn(t, a, i, s, u),i += c.length,c.missing) {this.aacOverFlow = c;break}for (u++; i < o - 1 && !bn(a, i); i++);}}parseMPEGPES(t, e) {const r = e.data, n = r.length;let i = 0, o = 0;const s = e.pts;if (void 0 !== s)for (; o < n; )if (Dn(r, o)) {const e = Rn(t, r, o, s, i);if (!e)break;o += e.length,i++} elseo++;elsew.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(t, e) {{const r = e.data, n = e.pts;if (void 0 === n)return void w.warn("[tsdemuxer]: AC3 PES unknown PTS");const i = r.length;let o, s = 0, a = 0;for (; a < i && (o = Nn(t, r, a, n, s++)) > 0; )a += o}}parseID3PES(t, e) {if (void 0 === e.pts)return void w.warn("[tsdemuxer]: ID3 PES unknown PTS");const r = l({}, e, {type: this._videoTrack ? De.emsg : De.audioId3,duration: Number.POSITIVE_INFINITY});t.samples.push(r)}}function qn(t, e) {return ((31 & t[e + 1]) << 8) + t[e + 2]}function Wn(t, e) {return (31 & t[e + 10]) << 8 | t[e + 11]}function Vn(t, e, r, n, i) {const o = {audioPid: -1,videoPid: -1,id3Pid: -1,segmentVideoCodec: "avc",segmentAudioCodec: "aac"}, s = e + 3 + ((15 & t[e + 1]) << 8 | t[e + 2]) - 4;for (e += 12 + ((15 & t[e + 10]) << 8 | t[e + 11]); e < s; ) {const s = qn(t, e), a = (15 & t[e + 3]) << 8 | t[e + 4];switch (t[e]) {case 207:if (!n) {Yn("ADTS AAC");break}case 15:-1 === o.audioPid && (o.audioPid = s);break;case 21:-1 === o.id3Pid && (o.id3Pid = s);break;case 219:if (!n) {Yn("H.264");break}case 27:-1 === o.videoPid && (o.videoPid = s,o.segmentVideoCodec = "avc");break;case 3:case 4:r.mpeg || r.mp3 ? -1 === o.audioPid && (o.audioPid = s,o.segmentAudioCodec = "mp3") : w.log("MPEG audio found, not supported in this browser");break;case 193:if (!n) {Yn("AC-3");break}case 129:r.ac3 ? -1 === o.audioPid && (o.audioPid = s,o.segmentAudioCodec = "ac3") : w.log("AC-3 audio found, not supported in this browser");break;case 6:if (-1 === o.audioPid && a > 0) {let n = e + 5, i = a;for (; i > 2; ) {if (106 === t[n])!0 !== r.ac3 ? w.log("AC-3 audio found, not supported in this browser for now") : (o.audioPid = s,o.segmentAudioCodec = "ac3");const e = t[n + 1] + 2;n += e,i -= e}}break;case 194:case 135:return zn(i, new Error("Unsupported EC-3 in M2TS found")),o;case 36:return zn(i, new Error("Unsupported HEVC in M2TS found")),o}e += a + 5}return o}function zn(t, e, r) {w.warn(`parsing error: ${e.message}`),t.emit(p.ERROR, p.ERROR, {type: g.MEDIA_ERROR,details: m.FRAG_PARSING_ERROR,fatal: !1,levelRetry: r,error: e,reason: e.message})}function Yn(t) {w.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Qn(t) {let e, r, n, i, o, s = 0;const a = t.data;if (!t || 0 === t.size)return null;for (; a[0].length < 19 && a.length > 1; )a[0] = Mt(a[0], a[1]),a.splice(1, 1);e = a[0];if (1 === (e[0] << 16) + (e[1] << 8) + e[2]) {if (r = (e[4] << 8) + e[5],r && r > t.size - 6)return null;const c = e[7];192 & c && (i = 536870912 * (14 & e[9]) + 4194304 * (255 & e[10]) + 16384 * (254 & e[11]) + 128 * (255 & e[12]) + (254 & e[13]) / 2,64 & c ? (o = 536870912 * (14 & e[14]) + 4194304 * (255 & e[15]) + 16384 * (254 & e[16]) + 128 * (255 & e[17]) + (254 & e[18]) / 2,i - o > 54e5 && (w.warn(`${Math.round((i - o) / 9e4)}s delta between PTS and DTS, align them`),i = o)) : o = i),n = e[8];let u = n + 9;if (t.size <= u)return null;t.size -= u;const l = new Uint8Array(t.size);for (let t = 0, r = a.length; t < r; t++) {e = a[t];let r = e.byteLength;if (u) {if (u > r) {u -= r;continue}e = e.subarray(u),r -= u,u = 0}l.set(e, s),s += r}return r && (r -= n + 3),{data: l,pts: i,dts: o,len: r}}return null}class Xn {static getSilentFrame(t, e) {if ("mp4a.40.2" === t) {if (1 === e)return new Uint8Array([0, 200, 0, 128, 35, 128]);if (2 === e)return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);if (3 === e)return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);if (4 === e)return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);if (5 === e)return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);if (6 === e)return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224])} else {if (1 === e)return new Uint8Array([1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);if (2 === e)return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94]);if (3 === e)return new Uint8Array([1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94])}}}const Jn = Math.pow(2, 32) - 1;class Zn {static init() {let t;for (t in Zn.types = {avc1: [],avcC: [],btrt: [],dinf: [],dref: [],esds: [],ftyp: [],hdlr: [],mdat: [],mdhd: [],mdia: [],mfhd: [],minf: [],moof: [],moov: [],mp4a: [],".mp3": [],dac3: [],"ac-3": [],mvex: [],mvhd: [],pasp: [],sdtp: [],stbl: [],stco: [],stsc: [],stsd: [],stsz: [],stts: [],tfdt: [],tfhd: [],traf: [],trak: [],trun: [],trex: [],tkhd: [],vmhd: [],smhd: []},Zn.types)Zn.types.hasOwnProperty(t) && (Zn.types[t] = [t.charCodeAt(0), t.charCodeAt(1), t.charCodeAt(2), t.charCodeAt(3)]);const e = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]), r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]);Zn.HDLR_TYPES = {video: e,audio: r};const n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]), i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]);Zn.STTS = Zn.STSC = Zn.STCO = i,Zn.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),Zn.VMHD = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]),Zn.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]),Zn.STSD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]);const o = new Uint8Array([105, 115, 111, 109]), s = new Uint8Array([97, 118, 99, 49]), a = new Uint8Array([0, 0, 0, 1]);Zn.FTYP = Zn.box(Zn.types.ftyp, o, a, o, s),Zn.DINF = Zn.box(Zn.types.dinf, Zn.box(Zn.types.dref, n))}static box(t, ...e) {let r = 8, n = e.length;const i = n;for (; n--; )r += e[n].byteLength;const o = new Uint8Array(r);for (o[0] = r >> 24 & 255,o[1] = r >> 16 & 255,o[2] = r >> 8 & 255,o[3] = 255 & r,o.set(t, 4),n = 0,r = 8; n < i; n++)o.set(e[n], r),r += e[n].byteLength;return o}static hdlr(t) {return Zn.box(Zn.types.hdlr, Zn.HDLR_TYPES[t])}static mdat(t) {return Zn.box(Zn.types.mdat, t)}static mdhd(t, e) {e *= t;const r = Math.floor(e / (Jn + 1)), n = Math.floor(e % (Jn + 1));return Zn.box(Zn.types.mdhd, new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, 85, 196, 0, 0]))}static mdia(t) {return Zn.box(Zn.types.mdia, Zn.mdhd(t.timescale, t.duration), Zn.hdlr(t.type), Zn.minf(t))}static mfhd(t) {return Zn.box(Zn.types.mfhd, new Uint8Array([0, 0, 0, 0, t >> 24, t >> 16 & 255, t >> 8 & 255, 255 & t]))}static minf(t) {return "audio" === t.type ? Zn.box(Zn.types.minf, Zn.box(Zn.types.smhd, Zn.SMHD), Zn.DINF, Zn.stbl(t)) : Zn.box(Zn.types.minf, Zn.box(Zn.types.vmhd, Zn.VMHD), Zn.DINF, Zn.stbl(t))}static moof(t, e, r) {return Zn.box(Zn.types.moof, Zn.mfhd(t), Zn.traf(r, e))}static moov(t) {let e = t.length;const r = [];for (; e--; )r[e] = Zn.trak(t[e]);return Zn.box.apply(null, [Zn.types.moov, Zn.mvhd(t[0].timescale, t[0].duration)].concat(r).concat(Zn.mvex(t)))}static mvex(t) {let e = t.length;const r = [];for (; e--; )r[e] = Zn.trex(t[e]);return Zn.box.apply(null, [Zn.types.mvex, ...r])}static mvhd(t, e) {e *= t;const r = Math.floor(e / (Jn + 1)), n = Math.floor(e % (Jn + 1)), i = new Uint8Array([1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, r >> 24, r >> 16 & 255, r >> 8 & 255, 255 & r, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]);return Zn.box(Zn.types.mvhd, i)}static sdtp(t) {const e = t.samples || [], r = new Uint8Array(4 + e.length);let n, i;for (n = 0; n < e.length; n++)i = e[n].flags,r[n + 4] = i.dependsOn << 4 | i.isDependedOn << 2 | i.hasRedundancy;return Zn.box(Zn.types.sdtp, r)}static stbl(t) {return Zn.box(Zn.types.stbl, Zn.stsd(t), Zn.box(Zn.types.stts, Zn.STTS), Zn.box(Zn.types.stsc, Zn.STSC), Zn.box(Zn.types.stsz, Zn.STSZ), Zn.box(Zn.types.stco, Zn.STCO))}static avc1(t) {let e, r, n, i = [], o = [];for (e = 0; e < t.sps.length; e++)r = t.sps[e],n = r.byteLength,i.push(n >>> 8 & 255),i.push(255 & n),i = i.concat(Array.prototype.slice.call(r));for (e = 0; e < t.pps.length; e++)r = t.pps[e],n = r.byteLength,o.push(n >>> 8 & 255),o.push(255 & n),o = o.concat(Array.prototype.slice.call(r));const s = Zn.box(Zn.types.avcC, new Uint8Array([1, i[3], i[4], i[5], 255, 224 | t.sps.length].concat(i).concat([t.pps.length]).concat(o))), a = t.width, c = t.height, u = t.pixelRatio[0], l = t.pixelRatio[1];return Zn.box(Zn.types.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, a >> 8 & 255, 255 & a, c >> 8 & 255, 255 & c, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 18, 100, 97, 105, 108, 121, 109, 111, 116, 105, 111, 110, 47, 104, 108, 115, 46, 106, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), s, Zn.box(Zn.types.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])), Zn.box(Zn.types.pasp, new Uint8Array([u >> 24, u >> 16 & 255, u >> 8 & 255, 255 & u, l >> 24, l >> 16 & 255, l >> 8 & 255, 255 & l])))}static esds(t) {const e = t.config.length;return new Uint8Array([0, 0, 0, 0, 3, 23 + e, 0, 1, 0, 4, 15 + e, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5].concat([e]).concat(t.config).concat([6, 1, 2]))}static audioStsd(t) {const e = t.samplerate;return new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, t.channelCount, 0, 16, 0, 0, 0, 0, e >> 8 & 255, 255 & e, 0, 0])}static mp4a(t) {return Zn.box(Zn.types.mp4a, Zn.audioStsd(t), Zn.box(Zn.types.esds, Zn.esds(t)))}static mp3(t) {return Zn.box(Zn.types[".mp3"], Zn.audioStsd(t))}static ac3(t) {return Zn.box(Zn.types["ac-3"], Zn.audioStsd(t), Zn.box(Zn.types.dac3, t.config))}static stsd(t) {return "audio" === t.type ? "mp3" === t.segmentCodec && "mp3" === t.codec ? Zn.box(Zn.types.stsd, Zn.STSD, Zn.mp3(t)) : "ac3" === t.segmentCodec ? Zn.box(Zn.types.stsd, Zn.STSD, Zn.ac3(t)) : Zn.box(Zn.types.stsd, Zn.STSD, Zn.mp4a(t)) : Zn.box(Zn.types.stsd, Zn.STSD, Zn.avc1(t))}static tkhd(t) {const e = t.id, r = t.duration * t.timescale, n = t.width, i = t.height, o = Math.floor(r / (Jn + 1)), s = Math.floor(r % (Jn + 1));return Zn.box(Zn.types.tkhd, new Uint8Array([1, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 3, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e, 0, 0, 0, 0, o >> 24, o >> 16 & 255, o >> 8 & 255, 255 & o, s >> 24, s >> 16 & 255, s >> 8 & 255, 255 & s, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, n >> 8 & 255, 255 & n, 0, 0, i >> 8 & 255, 255 & i, 0, 0]))}static traf(t, e) {const r = Zn.sdtp(t), n = t.id, i = Math.floor(e / (Jn + 1)), o = Math.floor(e % (Jn + 1));return Zn.box(Zn.types.traf, Zn.box(Zn.types.tfhd, new Uint8Array([0, 0, 0, 0, n >> 24, n >> 16 & 255, n >> 8 & 255, 255 & n])), Zn.box(Zn.types.tfdt, new Uint8Array([1, 0, 0, 0, i >> 24, i >> 16 & 255, i >> 8 & 255, 255 & i, o >> 24, o >> 16 & 255, o >> 8 & 255, 255 & o])), Zn.trun(t, r.length + 16 + 20 + 8 + 16 + 8 + 8), r)}static trak(t) {return t.duration = t.duration || 4294967295,Zn.box(Zn.types.trak, Zn.tkhd(t), Zn.mdia(t))}static trex(t) {const e = t.id;return Zn.box(Zn.types.trex, new Uint8Array([0, 0, 0, 0, e >> 24, e >> 16 & 255, e >> 8 & 255, 255 & e, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]))}static trun(t, e) {const r = t.samples || [], n = r.length, i = 12 + 16 * n, o = new Uint8Array(i);let s, a, c, u, l, d;for (e += 8 + i,o.set(["video" === t.type ? 1 : 0, 0, 15, 1, n >>> 24 & 255, n >>> 16 & 255, n >>> 8 & 255, 255 & n, e >>> 24 & 255, e >>> 16 & 255, e >>> 8 & 255, 255 & e], 0),s = 0; s < n; s++)a = r[s],c = a.duration,u = a.size,l = a.flags,d = a.cts,o.set([c >>> 24 & 255, c >>> 16 & 255, c >>> 8 & 255, 255 & c, u >>> 24 & 255, u >>> 16 & 255, u >>> 8 & 255, 255 & u, l.isLeading << 2 | l.dependsOn, l.isDependedOn << 6 | l.hasRedundancy << 4 | l.paddingValue << 1 | l.isNonSync, 61440 & l.degradPrio, 15 & l.degradPrio, d >>> 24 & 255, d >>> 16 & 255, d >>> 8 & 255, 255 & d], 12 + 16 * s);return Zn.box(Zn.types.trun, o)}static initSegment(t) {Zn.types || Zn.init();const e = Zn.moov(t);return Mt(Zn.FTYP, e)}}Zn.types = void 0,Zn.HDLR_TYPES = void 0,Zn.STTS = void 0,Zn.STSC = void 0,Zn.STCO = void 0,Zn.STSZ = void 0,Zn.VMHD = void 0,Zn.SMHD = void 0,Zn.STSD = void 0,Zn.FTYP = void 0,Zn.DINF = void 0;const ti = 9e4;function ei(t, e, r=1, n=!1) {const i = t * e * r;return n ? Math.round(i) : i}function ri(t, e=!1) {return ei(t, 1e3, 1 / ti, e)}let ni, ii = null, oi = null;class si {constructor(t, e, r, n="") {if (this.observer = void 0,this.config = void 0,this.typeSupported = void 0,this.ISGenerated = !1,this._initPTS = null,this._initDTS = null,this.nextAvcDts = null,this.nextAudioPts = null,this.videoSampleDuration = null,this.isAudioContiguous = !1,this.isVideoContiguous = !1,this.videoTrackConfig = void 0,this.observer = t,this.config = e,this.typeSupported = r,this.ISGenerated = !1,null === ii) {const t = (navigator.userAgent || "").match(/Chrome\/(\d+)/i);ii = t ? parseInt(t[1]) : 0}if (null === oi) {const t = navigator.userAgent.match(/Safari\/(\d+)/i);oi = t ? parseInt(t[1]) : 0}}destroy() {this.config = this.videoTrackConfig = this._initPTS = this._initDTS = null}resetTimeStamp(t) {w.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS = this._initDTS = t}resetNextTimestamp() {w.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous = !1,this.isAudioContiguous = !1}resetInitSegment() {w.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated = !1,this.videoTrackConfig = void 0}getVideoStartPts(t) {let e = !1;const r = t[0].pts, n = t.reduce(( (t, n) => {let i = n.pts, o = i - t;return o < -4294967296 && (e = !0,i = ai(i, r),o = i - t),o > 0 ? t : i}), r);return e && w.debug("PTS rollover detected"),n}remux(t, e, r, n, i, o, s, a) {let c, u, l, d, f, h, p = i, g = i;const m = t.pid > -1, v = e.pid > -1, y = e.samples.length, _ = t.samples.length > 0, b = s && y > 0 || y > 1;if ((!m || _) && (!v || b) || this.ISGenerated || s) {if (this.ISGenerated) {var E, T, S, A;const t = this.videoTrackConfig;!t || e.width === t.width && e.height === t.height && (null == (E = e.pixelRatio) ? void 0 : E[0]) === (null == (T = t.pixelRatio) ? void 0 : T[0]) && (null == (S = e.pixelRatio) ? void 0 : S[1]) === (null == (A = t.pixelRatio) ? void 0 : A[1]) || this.resetInitSegment()} elsel = this.generateIS(t, e, i, o);const r = this.isVideoContiguous;let n, s = -1;if (b && (s = function(t) {for (let e = 0; e < t.length; e++)if (t[e].key)return e;return -1}(e.samples),!r && this.config.forceKeyFrameOnDiscontinuity))if (h = !0,s > 0) {w.warn(`[mp4-remuxer]: Dropped ${s} out of ${y} video samples due to a missing keyframe`);const t = this.getVideoStartPts(e.samples);e.samples = e.samples.slice(s),e.dropped += s,g += (e.samples[0].pts - t) / e.inputTimeScale,n = g} else-1 === s && (w.warn(`[mp4-remuxer]: No keyframe found out of ${y} video samples`),h = !1);if (this.ISGenerated) {if (_ && b) {const r = this.getVideoStartPts(e.samples), n = (ai(t.samples[0].pts, r) - r) / e.inputTimeScale;p += Math.max(0, n),g += Math.max(0, -n)}if (_) {if (t.samplerate || (w.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),l = this.generateIS(t, e, i, o)),u = this.remuxAudio(t, p, this.isAudioContiguous, o, v || b || a === Se.AUDIO ? g : void 0),b) {const n = u ? u.endPTS - u.startPTS : 0;e.inputTimeScale || (w.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),l = this.generateIS(t, e, i, o)),c = this.remuxVideo(e, g, r, n)}} elseb && (c = this.remuxVideo(e, g, r, 0));c && (c.firstKeyFrame = s,c.independent = -1 !== s,c.firstKeyFramePTS = n)}}return this.ISGenerated && this._initPTS && this._initDTS && (r.samples.length && (f = ci(r, i, this._initPTS, this._initDTS)),n.samples.length && (d = ui(n, i, this._initPTS))),{audio: u,video: c,initSegment: l,independent: h,text: d,id3: f}}generateIS(t, e, r, n) {const i = t.samples, o = e.samples, s = this.typeSupported, a = {}, c = this._initPTS;let u, l, d, f = !c || n, h = "audio/mp4";if (f && (u = l = 1 / 0),t.config && i.length) {switch (t.timescale = t.samplerate,t.segmentCodec) {case "mp3":s.mpeg ? (h = "audio/mpeg",t.codec = "") : s.mp3 && (t.codec = "mp3");break;case "ac3":t.codec = "ac-3"}a.audio = {id: "audio",container: h,codec: t.codec,initSegment: "mp3" === t.segmentCodec && s.mpeg ? new Uint8Array(0) : Zn.initSegment([t]),metadata: {channelCount: t.channelCount}},f && (d = t.inputTimeScale,c && d === c.timescale ? f = !1 : u = l = i[0].pts - Math.round(d * r))}if (e.sps && e.pps && o.length) {if (e.timescale = e.inputTimeScale,a.video = {id: "main",container: "video/mp4",codec: e.codec,initSegment: Zn.initSegment([e]),metadata: {width: e.width,height: e.height}},f)if (d = e.inputTimeScale,c && d === c.timescale)f = !1;else {const t = this.getVideoStartPts(o), e = Math.round(d * r);l = Math.min(l, ai(o[0].dts, t) - e),u = Math.min(u, t - e)}this.videoTrackConfig = {width: e.width,height: e.height,pixelRatio: e.pixelRatio}}if (Object.keys(a).length)return this.ISGenerated = !0,f ? (this._initPTS = {baseTime: u,timescale: d},this._initDTS = {baseTime: l,timescale: d}) : u = d = void 0,{tracks: a,initPTS: u,timescale: d}}remuxVideo(t, e, r, n) {const i = t.inputTimeScale, o = t.samples, s = [], a = o.length, c = this._initPTS;let u, d, f = this.nextAvcDts, h = 8, v = this.videoSampleDuration, y = Number.POSITIVE_INFINITY, _ = Number.NEGATIVE_INFINITY, b = !1;if (!r || null === f) {const t = e * i, n = o[0].pts - ai(o[0].dts, o[0].pts);ii && null !== f && Math.abs(t - n - f) < 15e3 ? r = !0 : f = t - n}const E = c.baseTime * i / c.timescale;for (let t = 0; t < a; t++) {const e = o[t];e.pts = ai(e.pts - E, f),e.dts = ai(e.dts - E, f),e.dts < o[t > 0 ? t - 1 : t].dts && (b = !0)}b && o.sort((function(t, e) {const r = t.dts - e.dts, n = t.pts - e.pts;return r || n})),u = o[0].dts,d = o[o.length - 1].dts;const T = d - u, S = T ? Math.round(T / (a - 1)) : v || t.inputTimeScale / 30;if (r) {const t = u - f, r = t > S, n = t < -1;if ((r || n) && (r ? w.warn(`AVC: ${ri(t, !0)} ms (${t}dts) hole between fragments detected at ${e.toFixed(3)}`) : w.warn(`AVC: ${ri(-t, !0)} ms (${t}dts) overlapping between fragments detected at ${e.toFixed(3)}`),!n || f >= o[0].pts || ii)) {u = f;const e = o[0].pts - t;if (r)o[0].dts = u,o[0].pts = e;elsefor (let r = 0; r < o.length && !(o[r].dts > e); r++)o[r].dts -= t,o[r].pts -= t;w.log(`Video: Initial PTS/DTS adjusted: ${ri(e, !0)}/${ri(u, !0)}, delta: ${ri(t, !0)} ms`)}}u = Math.max(0, u);let A = 0, I = 0, x = u;for (let t = 0; t < a; t++) {const e = o[t], r = e.units, n = r.length;let i = 0;for (let t = 0; t < n; t++)i += r[t].data.length;I += i,A += n,e.length = i,e.dts < x ? (e.dts = x,x += S / 4 | 0 || 1) : x = e.dts,y = Math.min(e.pts, y),_ = Math.max(e.pts, _)}d = o[a - 1].dts;const L = I + 4 * A + 8;let k;try {k = new Uint8Array(L)} catch (t) {return void this.observer.emit(p.ERROR, p.ERROR, {type: g.MUX_ERROR,details: m.REMUX_ALLOC_ERROR,fatal: !1,error: t,bytes: L,reason: `fail allocating video mdat ${L}`})}const R = new DataView(k.buffer);R.setUint32(0, L),k.set(Zn.types.mdat, 4);let C = !1, P = Number.POSITIVE_INFINITY, D = Number.POSITIVE_INFINITY, O = Number.NEGATIVE_INFINITY, M = Number.NEGATIVE_INFINITY;for (let t = 0; t < a; t++) {const e = o[t], r = e.units;let c, u = 0;for (let t = 0, e = r.length; t < e; t++) {const e = r[t], n = e.data, i = e.data.byteLength;R.setUint32(h, i),h += 4,k.set(n, h),h += i,u += 4 + i}if (t < a - 1)v = o[t + 1].dts - e.dts,c = o[t + 1].pts - e.pts;else {const r = this.config, s = t > 0 ? e.dts - o[t - 1].dts : S;if (c = t > 0 ? e.pts - o[t - 1].pts : S,r.stretchShortVideoTrack && null !== this.nextAudioPts) {const t = Math.floor(r.maxBufferHole * i), o = (n ? y + n * i : this.nextAudioPts) - e.pts;o > t ? (v = o - s,v < 0 ? v = s : C = !0,w.log(`[mp4-remuxer]: It is approximately ${o / 90} ms to the next segment; using duration ${v / 90} ms for the last video frame.`)) : v = s} elsev = s}const l = Math.round(e.pts - e.dts);P = Math.min(P, v),O = Math.max(O, v),D = Math.min(D, c),M = Math.max(M, c),s.push(new li(e.key,v,u,l))}if (s.length)if (ii) {if (ii < 70) {const t = s[0].flags;t.dependsOn = 2,t.isNonSync = 0}} else if (oi && M - D < O - P && S / O < .025 && 0 === s[0].cts) {w.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let t = u;for (let e = 0, r = s.length; e < r; e++) {const n = t + s[e].duration, i = t + s[e].cts;if (e < r - 1) {const t = n + s[e + 1].cts;s[e].duration = t - i} elses[e].duration = e ? s[e - 1].duration : S;s[e].cts = 0,t = n}}v = C || !v ? S : v,this.nextAvcDts = f = d + v,this.videoSampleDuration = v,this.isVideoContiguous = !0;const U = {data1: Zn.moof(t.sequenceNumber++, u, l({}, t, {samples: s})),data2: k,startPTS: y / i,endPTS: (_ + v) / i,startDTS: u / i,endDTS: f / i,type: "video",hasAudio: !1,hasVideo: !0,nb: s.length,dropped: t.dropped};return t.samples = [],t.dropped = 0,U}getSamplesPerFrame(t) {switch (t.segmentCodec) {case "mp3":return 1152;case "ac3":return 1536;default:return 1024}}remuxAudio(t, e, r, n, i) {const o = t.inputTimeScale, s = o / (t.samplerate ? t.samplerate : o), a = this.getSamplesPerFrame(t), c = a * s, u = this._initPTS, d = "mp3" === t.segmentCodec && this.typeSupported.mpeg, f = [], h = void 0 !== i;let v = t.samples, y = d ? 0 : 8, _ = this.nextAudioPts || -1;const b = e * o, E = u.baseTime * o / u.timescale;if (this.isAudioContiguous = r = r || v.length && _ > 0 && (n && Math.abs(b - _) < 9e3 || Math.abs(ai(v[0].pts - E, b) - _) < 20 * c),v.forEach((function(t) {t.pts = ai(t.pts - E, b)})),!r || _ < 0) {if (v = v.filter((t => t.pts >= 0)),!v.length)return;_ = 0 === i ? 0 : n && !h ? Math.max(0, b) : v[0].pts}if ("aac" === t.segmentCodec) {const e = this.config.maxAudioFramesDrift;for (let r = 0, n = _; r < v.length; r++) {const i = v[r], s = i.pts, a = s - n, u = Math.abs(1e3 * a / o);if (a <= -e * c && h)0 === r && (w.warn(`Audio frame @ ${(s / o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3 * a / o)} ms.`),this.nextAudioPts = _ = n = s);else if (a >= e * c && u < 1e4 && h) {let e = Math.round(a / c);n = s - e * c,n < 0 && (e--,n += c),0 === r && (this.nextAudioPts = _ = n),w.warn(`[mp4-remuxer]: Injecting ${e} audio frame @ ${(n / o).toFixed(3)}s due to ${Math.round(1e3 * a / o)} ms gap.`);for (let o = 0; o < e; o++) {const e = Math.max(n, 0);let o = Xn.getSilentFrame(t.manifestCodec || t.codec, t.channelCount);o || (w.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),o = i.unit.subarray()),v.splice(r, 0, {unit: o,pts: e}),n += c,r++}}i.pts = n,n += c}}let T, S = null, A = null, I = 0, x = v.length;for (; x--; )I += v[x].unit.byteLength;for (let e = 0, n = v.length; e < n; e++) {const n = v[e], i = n.unit;let o = n.pts;if (null !== A) {f[e - 1].duration = Math.round((o - A) / s)} else {if (r && "aac" === t.segmentCodec && (o = _),S = o,!(I > 0))return;I += y;try {T = new Uint8Array(I)} catch (t) {return void this.observer.emit(p.ERROR, p.ERROR, {type: g.MUX_ERROR,details: m.REMUX_ALLOC_ERROR,fatal: !1,error: t,bytes: I,reason: `fail allocating audio mdat ${I}`})}if (!d) {new DataView(T.buffer).setUint32(0, I),T.set(Zn.types.mdat, 4)}}T.set(i, y);const c = i.byteLength;y += c,f.push(new li(!0,a,c,0)),A = o}const L = f.length;if (!L)return;const k = f[f.length - 1];this.nextAudioPts = _ = A + s * k.duration;const R = d ? new Uint8Array(0) : Zn.moof(t.sequenceNumber++, S / s, l({}, t, {samples: f}));t.samples = [];const C = S / o, P = _ / o, D = {data1: R,data2: T,startPTS: C,endPTS: P,startDTS: C,endDTS: P,type: "audio",hasAudio: !0,hasVideo: !1,nb: L};return this.isAudioContiguous = !0,D}remuxEmptyAudio(t, e, r, n) {const i = t.inputTimeScale, o = i / (t.samplerate ? t.samplerate : i), s = this.nextAudioPts, a = this._initDTS, c = 9e4 * a.baseTime / a.timescale, u = (null !== s ? s : n.startDTS * i) + c, l = n.endDTS * i + c, d = 1024 * o, f = Math.ceil((l - u) / d), h = Xn.getSilentFrame(t.manifestCodec || t.codec, t.channelCount);if (w.warn("[mp4-remuxer]: remux empty Audio"),!h)return void w.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const p = [];for (let t = 0; t < f; t++) {const e = u + t * d;p.push({unit: h,pts: e,dts: e})}return t.samples = p,this.remuxAudio(t, e, r, !1)}}function ai(t, e) {let r;if (null === e)return t;for (r = e < t ? -8589934592 : 8589934592; Math.abs(t - e) > 4294967296; )t += r;return t}function ci(t, e, r, n) {const i = t.samples.length;if (!i)return;const o = t.inputTimeScale;for (let s = 0; s < i; s++) {const i = t.samples[s];i.pts = ai(i.pts - r.baseTime * o / r.timescale, e * o) / o,i.dts = ai(i.dts - n.baseTime * o / n.timescale, e * o) / o}const s = t.samples;return t.samples = [],{samples: s}}function ui(t, e, r) {const n = t.samples.length;if (!n)return;const i = t.inputTimeScale;for (let o = 0; o < n; o++) {const n = t.samples[o];n.pts = ai(n.pts - r.baseTime * i / r.timescale, e * i) / i}t.samples.sort(( (t, e) => t.pts - e.pts));const o = t.samples;return t.samples = [],{samples: o}}class li {constructor(t, e, r, n) {this.size = void 0,this.duration = void 0,this.cts = void 0,this.flags = void 0,this.duration = e,this.size = r,this.cts = n,this.flags = {isLeading: 0,isDependedOn: 0,hasRedundancy: 0,degradPrio: 0,dependsOn: t ? 2 : 1,isNonSync: t ? 0 : 1}}}function di(t, e) {const r = null == t ? void 0 : t.codec;if (r && r.length > 4)return r;if (e === L) {if ("ec-3" === r || "ac-3" === r || "alac" === r)return r;if ("fLaC" === r || "Opus" === r) {return oe(r, !1)}const t = "mp4a.40.5";return w.info(`Parsed audio codec "${r}" or audio object type not handled. Using "${t}"`),t}return w.warn(`Unhandled video codec "${r}"`),"hvc1" === r || "hev1" === r ? "hvc1.1.6.L120.90" : "av01" === r ? "av01.0.04M.08" : "avc1.42e01e"}try {ni = self.performance.now.bind(self.performance)} catch (t) {w.debug("Unable to use Performance API on this environment"),ni = null == N ? void 0 : N.Date.now}const fi = [{demux: class {constructor(t, e) {this.remainderData = null,this.timeOffset = 0,this.config = void 0,this.videoTrack = void 0,this.audioTrack = void 0,this.id3Track = void 0,this.txtTrack = void 0,this.config = e}resetTimeStamp() {}resetInitSegment(t, e, r, n) {const i = this.videoTrack = pn("video", 1), o = this.audioTrack = pn("audio", 1), s = this.txtTrack = pn("text", 1);if (this.id3Track = pn("id3", 1),this.timeOffset = 0,null == t || !t.byteLength)return;const a = Lt(t);if (a.video) {const {id: t, timescale: e, codec: r} = a.video;i.id = t,i.timescale = s.timescale = e,i.codec = r}if (a.audio) {const {id: t, timescale: e, codec: r} = a.audio;o.id = t,o.timescale = e,o.codec = r}s.id = _t.text,i.sampleDuration = 0,i.duration = o.duration = n}resetContiguity() {this.remainderData = null}static probe(t) {return function(t) {const e = t.byteLength;for (let r = 0; r < e; ) {const n = Et(t, r);if (n > 8 && 109 === t[r + 4] && 111 === t[r + 5] && 111 === t[r + 6] && 102 === t[r + 7])return !0;r = n > 1 ? r + n : e}return !1}(t)}demux(t, e) {this.timeOffset = e;let r = t;const n = this.videoTrack, i = this.txtTrack;if (this.config.progressive) {this.remainderData && (r = Mt(this.remainderData, t));const e = function(t) {const e = {valid: null,remainder: null}, r = It(t, ["moof"]);if (r.length < 2)return e.remainder = t,e;const n = r[r.length - 1];return e.valid = J(t, 0, n.byteOffset - 8),e.remainder = J(t, n.byteOffset - 8),e}(r);this.remainderData = e.remainder,n.samples = e.valid || new Uint8Array} elsen.samples = r;const o = this.extractID3Track(n, e);return i.samples = Ut(e, n),{videoTrack: n,audioTrack: this.audioTrack,id3Track: o,textTrack: this.txtTrack}}flush() {const t = this.timeOffset, e = this.videoTrack, r = this.txtTrack;e.samples = this.remainderData || new Uint8Array,this.remainderData = null;const n = this.extractID3Track(e, this.timeOffset);return r.samples = Ut(t, e),{videoTrack: e,audioTrack: pn(),id3Track: n,textTrack: pn()}}extractID3Track(t, e) {const r = this.id3Track;if (t.samples.length) {const n = It(t.samples, ["emsg"]);n && n.forEach((t => {const n = function(t) {const e = t[0];let r = "", n = "", i = 0, o = 0, s = 0, a = 0, c = 0, u = 0;if (0 === e) {for (; "\0" !== bt(t.subarray(u, u + 1)); )r += bt(t.subarray(u, u + 1)),u += 1;for (r += bt(t.subarray(u, u + 1)),u += 1; "\0" !== bt(t.subarray(u, u + 1)); )n += bt(t.subarray(u, u + 1)),u += 1;n += bt(t.subarray(u, u + 1)),u += 1,i = Et(t, 12),o = Et(t, 16),a = Et(t, 20),c = Et(t, 24),u = 28} else if (1 === e) {u += 4,i = Et(t, u),u += 4;const e = Et(t, u);u += 4;const o = Et(t, u);for (u += 4,s = 2 ** 32 * e + o,f(s) || (s = Number.MAX_SAFE_INTEGER,w.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a = Et(t, u),u += 4,c = Et(t, u),u += 4; "\0" !== bt(t.subarray(u, u + 1)); )r += bt(t.subarray(u, u + 1)),u += 1;for (r += bt(t.subarray(u, u + 1)),u += 1; "\0" !== bt(t.subarray(u, u + 1)); )n += bt(t.subarray(u, u + 1)),u += 1;n += bt(t.subarray(u, u + 1)),u += 1}return {schemeIdUri: r,value: n,timeScale: i,presentationTime: s,presentationTimeDelta: o,eventDuration: a,id: c,payload: t.subarray(u, t.byteLength)}}(t);if (Mn.test(n.schemeIdUri)) {const t = d(n.presentationTime) ? n.presentationTime / n.timeScale : e + n.presentationTimeDelta / n.timeScale;let i = 4294967295 === n.eventDuration ? Number.POSITIVE_INFINITY : n.eventDuration / n.timeScale;i <= .001 && (i = Number.POSITIVE_INFINITY);const o = n.payload;r.samples.push({data: o,len: o.byteLength,dts: t,pts: t,type: De.emsg,duration: i})}}))}return r}demuxSampleAes(t, e, r) {return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy() {}},remux: class {constructor() {this.emitInitSegment = !1,this.audioCodec = void 0,this.videoCodec = void 0,this.initData = void 0,this.initPTS = null,this.initTracks = void 0,this.lastEndTime = null}destroy() {}resetTimeStamp(t) {this.initPTS = t,this.lastEndTime = null}resetNextTimestamp() {this.lastEndTime = null}resetInitSegment(t, e, r, n) {this.audioCodec = e,this.videoCodec = r,this.generateInitSegment(function(t, e) {if (!t || !e)return t;const r = e.keyId;r && e.isCommonEncryption && It(t, ["moov", "trak"]).forEach((t => {const e = It(t, ["mdia", "minf", "stbl", "stsd"])[0].subarray(8);let n = It(e, ["enca"]);const i = n.length > 0;i || (n = It(e, ["encv"])),n.forEach((t => {It(i ? t.subarray(28) : t.subarray(78), ["sinf"]).forEach((t => {const e = Dt(t);if (e) {const t = e.subarray(8, 24);t.some((t => 0 !== t)) || (w.log(`[eme] Patching keyId in 'enc${i ? "a" : "v"}>sinf>>tenc' box: ${mt.hexDump(t)} -> ${mt.hexDump(r)}`),e.set(r, 8))}}))}))}));return t}(t, n)),this.emitInitSegment = !0}generateInitSegment(t) {let {audioCodec: e, videoCodec: r} = this;if (null == t || !t.byteLength)return this.initTracks = void 0,void (this.initData = void 0);const n = this.initData = Lt(t);n.audio && (e = di(n.audio, L)),n.video && (r = di(n.video, k));const i = {};n.audio && n.video ? i.audiovideo = {container: "video/mp4",codec: e + "," + r,initSegment: t,id: "main"} : n.audio ? i.audio = {container: "audio/mp4",codec: e,initSegment: t,id: "audio"} : n.video ? i.video = {container: "video/mp4",codec: r,initSegment: t,id: "main"} : w.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks = i}remux(t, e, r, n, i, o) {var s, a;let {initPTS: c, lastEndTime: u} = this;const l = {audio: void 0,video: void 0,text: n,id3: r,initSegment: void 0};d(u) || (u = this.lastEndTime = i || 0);const f = e.samples;if (null == f || !f.length)return l;const h = {initPTS: void 0,timescale: 1};let p = this.initData;if (null != (s = p) && s.length || (this.generateInitSegment(f),p = this.initData),null == (a = p) || !a.length)return w.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),l;this.emitInitSegment && (h.tracks = this.initTracks,this.emitInitSegment = !1);const g = function(t, e) {let r = 0, n = 0, i = 0;const o = It(t, ["moof", "traf"]);for (let t = 0; t < o.length; t++) {const s = o[t], a = It(s, ["tfhd"])[0], c = e[Et(a, 4)];if (!c)continue;const u = c.default, l = Et(a, 0) | (null == u ? void 0 : u.flags);let d = null == u ? void 0 : u.duration;8 & l && (d = Et(a, 2 & l ? 12 : 8));const f = c.timescale || 9e4, h = It(s, ["trun"]);for (let t = 0; t < h.length; t++)r = Ot(h[t]),!r && d && (r = d * Et(h[t], 4)),c.type === k ? n += r / f : c.type === L && (i += r / f)}if (0 === n && 0 === i) {let e = 1 / 0, r = 0, n = 0;const i = It(t, ["sidx"]);for (let t = 0; t < i.length; t++) {const o = xt(i[t]);if (null != o && o.references) {e = Math.min(e, o.earliestPresentationTime / o.timescale);const t = o.references.reduce(( (t, e) => t + e.info.duration || 0), 0);r = Math.max(r, t + o.earliestPresentationTime / o.timescale),n = r - e}}if (n && d(n))return n}return n || i}(f, p), m = function(t, e) {return It(e, ["moof", "traf"]).reduce(( (e, r) => {const n = It(r, ["tfdt"])[0], i = n[0], o = It(r, ["tfhd"]).reduce(( (e, r) => {const o = Et(r, 4), s = t[o];if (s) {let t = Et(n, 4);if (1 === i) {if (t === vt)return w.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),e;t *= vt + 1,t += Et(n, 8)}const r = t / (s.timescale || 9e4);if (d(r) && (null === e || r < e))return r}return e}), null);return null !== o && d(o) && (null === e || o < e) ? o : e}), null)}(p, f), v = null === m ? i : m;(function(t, e, r, n) {if (null === t)return !0;const i = Math.max(n, 1), o = e - t.baseTime / t.timescale;return Math.abs(o - r) > i}(c, v, i, g) || h.timescale !== c.timescale && o) && (h.initPTS = v - i,c && 1 === c.timescale && w.warn("Adjusting initPTS by " + (h.initPTS - c.baseTime)),this.initPTS = c = {baseTime: h.initPTS,timescale: 1});const y = t ? v - c.baseTime / c.timescale : u, _ = y + g;!function(t, e, r) {It(e, ["moof", "traf"]).forEach((e => {It(e, ["tfhd"]).forEach((n => {const i = Et(n, 4), o = t[i];if (!o)return;const s = o.timescale || 9e4;It(e, ["tfdt"]).forEach((t => {const e = t[0], n = r * s;if (n) {let r = Et(t, 4);if (0 === e)r -= n,r = Math.max(r, 0),At(t, 4, r);else {r *= Math.pow(2, 32),r += Et(t, 8),r -= n,r = Math.max(r, 0);const e = Math.floor(r / (vt + 1)), i = Math.floor(r % (vt + 1));At(t, 4, e),At(t, 8, i)}}}))}))}))}(p, f, c.baseTime / c.timescale),g > 0 ? this.lastEndTime = _ : (w.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const b = !!p.audio, E = !!p.video;let T = "";b && (T += "audio"),E && (T += "video");const S = {data1: f,startPTS: y,startDTS: y,endPTS: _,endDTS: _,type: T,hasAudio: b,hasVideo: E,nb: 1,dropped: 0};return l.audio = "audio" === S.type ? S : void 0,l.video = "audio" !== S.type ? S : void 0,l.initSegment = h,l.id3 = ci(r, i, c, c),n.samples.length && (l.text = ui(n, i, c)),l}}}, {demux: Kn,remux: si}, {demux: class extends gn {constructor(t, e) {super(),this.observer = void 0,this.config = void 0,this.observer = t,this.config = e}resetInitSegment(t, e, r, n) {super.resetInitSegment(t, e, r, n),this._audioTrack = {container: "audio/adts",type: "audio",id: 2,pid: -1,sequenceNumber: 0,segmentCodec: "aac",samples: [],manifestCodec: e,duration: n,inputTimeScale: 9e4,dropped: 0}}static probe(t) {if (!t)return !1;const e = et(t, 0);let r = (null == e ? void 0 : e.length) || 0;if (On(t, r))return !1;for (let e = t.length; r < e; r++)if (wn(t, r))return w.log("ADTS sync word found !"),!0;return !1}canParse(t, e) {return function(t, e) {return function(t, e) {return e + 5 < t.length}(t, e) && vn(t, e) && _n(t, e) <= t.length - e}(t, e)}appendFrame(t, e, r) {En(t, this.observer, e, r, t.manifestCodec);const n = Sn(t, e, r, this.basePTS, this.frameIndex);if (n && 0 === n.missing)return n}},remux: si}, {demux: class extends gn {resetInitSegment(t, e, r, n) {super.resetInitSegment(t, e, r, n),this._audioTrack = {container: "audio/mpeg",type: "audio",id: 2,pid: -1,sequenceNumber: 0,segmentCodec: "mp3",samples: [],manifestCodec: e,duration: n,inputTimeScale: 9e4,dropped: 0}}static probe(t) {if (!t)return !1;const e = et(t, 0);let r = (null == e ? void 0 : e.length) || 0;if (e && 11 === t[r] && 119 === t[r + 1] && void 0 !== it(e) && Un(t, r) <= 16)return !1;for (let e = t.length; r < e; r++)if (On(t, r))return w.log("MPEG Audio sync word found !"),!0;return !1}canParse(t, e) {return function(t, e) {return Pn(t, e) && 4 <= t.length - e}(t, e)}appendFrame(t, e, r) {if (null !== this.basePTS)return Rn(t, e, r, this.basePTS, this.frameIndex)}},remux: si}];fi.splice(2, 0, {demux: Fn,remux: si});class hi {constructor(t, e, r, n, i) {this.async = !1,this.observer = void 0,this.typeSupported = void 0,this.config = void 0,this.vendor = void 0,this.id = void 0,this.demuxer = void 0,this.remuxer = void 0,this.decrypter = void 0,this.probe = void 0,this.decryptionPromise = null,this.transmuxConfig = void 0,this.currentTransmuxState = void 0,this.observer = t,this.typeSupported = e,this.config = r,this.vendor = n,this.id = i}configure(t) {this.transmuxConfig = t,this.decrypter && this.decrypter.reset()}push(t, e, r, n) {const i = r.transmuxing;i.executeStart = ni();let o = new Uint8Array(t);const {currentTransmuxState: s, transmuxConfig: a} = this;n && (this.currentTransmuxState = n);const {contiguous: c, discontinuity: u, trackSwitch: l, accurateTimeOffset: d, timeOffset: f, initSegmentChange: h} = n || s, {audioCodec: v, videoCodec: y, defaultInitPts: _, duration: b, initSegmentData: E} = a, T = function(t, e) {let r = null;t.byteLength > 0 && null != (null == e ? void 0 : e.key) && null !== e.iv && null != e.method && (r = e);return r}(o, e);if (T && "AES-128" === T.method) {const t = this.getDecrypter();if (!t.isSync())return this.decryptionPromise = t.webCryptoDecrypt(o, T.key.buffer, T.iv.buffer).then((t => {const e = this.push(t, null, r);return this.decryptionPromise = null,e})),this.decryptionPromise;{let e = t.softwareDecrypt(o, T.key.buffer, T.iv.buffer);if (r.part > -1 && (e = t.flush()),!e)return i.executeEnd = ni(),pi(r);o = new Uint8Array(e)}}const S = this.needsProbing(u, l);if (S) {const t = this.configureTransmuxer(o);if (t)return w.warn(`[transmuxer] ${t.message}`),this.observer.emit(p.ERROR, p.ERROR, {type: g.MEDIA_ERROR,details: m.FRAG_PARSING_ERROR,fatal: !1,error: t,reason: t.message}),i.executeEnd = ni(),pi(r)}(u || l || h || S) && this.resetInitSegment(E, v, y, b, e),(u || h || S) && this.resetInitialTimestamp(_),c || this.resetContiguity();const A = this.transmux(o, T, f, d, r), I = this.currentTransmuxState;return I.contiguous = !0,I.discontinuity = !1,I.trackSwitch = !1,i.executeEnd = ni(),A}flush(t) {const e = t.transmuxing;e.executeStart = ni();const {decrypter: r, currentTransmuxState: n, decryptionPromise: i} = this;if (i)return i.then(( () => this.flush(t)));const o = [], {timeOffset: s} = n;if (r) {const e = r.flush();e && o.push(this.push(e, null, t))}const {demuxer: a, remuxer: c} = this;if (!a || !c)return e.executeEnd = ni(),[pi(t)];const u = a.flush(s);return gi(u) ? u.then((e => (this.flushRemux(o, e, t),o))) : (this.flushRemux(o, u, t),o)}flushRemux(t, e, r) {const {audioTrack: n, videoTrack: i, id3Track: o, textTrack: s} = e, {accurateTimeOffset: a, timeOffset: c} = this.currentTransmuxState;w.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part > -1 ? " p: " + r.part : ""} of level ${r.level}`);const u = this.remuxer.remux(n, i, o, s, c, a, !0, this.id);t.push({remuxResult: u,chunkMeta: r}),r.transmuxing.executeEnd = ni()}resetInitialTimestamp(t) {const {demuxer: e, remuxer: r} = this;e && r && (e.resetTimeStamp(t),r.resetTimeStamp(t))}resetContiguity() {const {demuxer: t, remuxer: e} = this;t && e && (t.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(t, e, r, n, i) {const {demuxer: o, remuxer: s} = this;o && s && (o.resetInitSegment(t, e, r, n),s.resetInitSegment(t, e, r, i))}destroy() {this.demuxer && (this.demuxer.destroy(),this.demuxer = void 0),this.remuxer && (this.remuxer.destroy(),this.remuxer = void 0)}transmux(t, e, r, n, i) {let o;return o = e && "SAMPLE-AES" === e.method ? this.transmuxSampleAes(t, e, r, n, i) : this.transmuxUnencrypted(t, r, n, i),o}transmuxUnencrypted(t, e, r, n) {const {audioTrack: i, videoTrack: o, id3Track: s, textTrack: a} = this.demuxer.demux(t, e, !1, !this.config.progressive);return {remuxResult: this.remuxer.remux(i, o, s, a, e, r, !1, this.id),chunkMeta: n}}transmuxSampleAes(t, e, r, n, i) {return this.demuxer.demuxSampleAes(t, e, r).then((t => ({remuxResult: this.remuxer.remux(t.audioTrack, t.videoTrack, t.id3Track, t.textTrack, r, n, !1, this.id),chunkMeta: i})))}configureTransmuxer(t) {const {config: e, observer: r, typeSupported: n, vendor: i} = this;let o;for (let e = 0, r = fi.length; e < r; e++) {var s;if (null != (s = fi[e].demux) && s.probe(t)) {o = fi[e];break}}if (!o)return new Error("Failed to find demuxer by probing fragment data");const a = this.demuxer, c = this.remuxer, u = o.remux, l = o.demux;c && c instanceof u || (this.remuxer = new u(r,e,n,i)),a && a instanceof l || (this.demuxer = new l(r,e,n),this.probe = l.probe)}needsProbing(t, e) {return !this.demuxer || !this.remuxer || t || e}getDecrypter() {let t = this.decrypter;return t || (t = this.decrypter = new Xr(this.config)),t}}const pi = t => ({remuxResult: {},chunkMeta: t});function gi(t) {return "then"in t && t.then instanceof Function}class mi {constructor(t, e, r, n, i) {this.audioCodec = void 0,this.videoCodec = void 0,this.initSegmentData = void 0,this.duration = void 0,this.defaultInitPts = void 0,this.audioCodec = t,this.videoCodec = e,this.initSegmentData = r,this.duration = n,this.defaultInitPts = i || null}}class vi {constructor(t, e, r, n, i, o) {this.discontinuity = void 0,this.contiguous = void 0,this.accurateTimeOffset = void 0,this.trackSwitch = void 0,this.timeOffset = void 0,this.initSegmentChange = void 0,this.discontinuity = t,this.contiguous = e,this.accurateTimeOffset = r,this.trackSwitch = n,this.timeOffset = i,this.initSegmentChange = o}}var yi = {exports: {}};!function(t) {var e = Object.prototype.hasOwnProperty, r = "~";function n() {}function i(t, e, r) {this.fn = t,this.context = e,this.once = r || !1}function o(t, e, n, o, s) {if ("function" != typeof n)throw new TypeError("The listener must be a function");var a = new i(n,o || t,s), c = r ? r + e : e;return t._events[c] ? t._events[c].fn ? t._events[c] = [t._events[c], a] : t._events[c].push(a) : (t._events[c] = a,t._eventsCount++),t}function s(t, e) {0 == --t._eventsCount ? t._events = new n : delete t._events[e]}function a() {this._events = new n,this._eventsCount = 0}Object.create && (n.prototype = Object.create(null),(new n).__proto__ || (r = !1)),a.prototype.eventNames = function() {var t, n, i = [];if (0 === this._eventsCount)return i;for (n in t = this._events)e.call(t, n) && i.push(r ? n.slice(1) : n);return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(t)) : i},a.prototype.listeners = function(t) {var e = r ? r + t : t, n = this._events[e];if (!n)return [];if (n.fn)return [n.fn];for (var i = 0, o = n.length, s = new Array(o); i < o; i++)s[i] = n[i].fn;return s},a.prototype.listenerCount = function(t) {var e = r ? r + t : t, n = this._events[e];return n ? n.fn ? 1 : n.length : 0},a.prototype.emit = function(t, e, n, i, o, s) {var a = r ? r + t : t;if (!this._events[a])return !1;var c, u, l = this._events[a], d = arguments.length;if (l.fn) {switch (l.once && this.removeListener(t, l.fn, void 0, !0),d) {case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context, e),!0;case 3:return l.fn.call(l.context, e, n),!0;case 4:return l.fn.call(l.context, e, n, i),!0;case 5:return l.fn.call(l.context, e, n, i, o),!0;case 6:return l.fn.call(l.context, e, n, i, o, s),!0}for (u = 1,c = new Array(d - 1); u < d; u++)c[u - 1] = arguments[u];l.fn.apply(l.context, c)} else {var f, h = l.length;for (u = 0; u < h; u++)switch (l[u].once && this.removeListener(t, l[u].fn, void 0, !0),d) {case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context, e);break;case 3:l[u].fn.call(l[u].context, e, n);break;case 4:l[u].fn.call(l[u].context, e, n, i);break;default:if (!c)for (f = 1,c = new Array(d - 1); f < d; f++)c[f - 1] = arguments[f];l[u].fn.apply(l[u].context, c)}}return !0},a.prototype.on = function(t, e, r) {return o(this, t, e, r, !1)},a.prototype.once = function(t, e, r) {return o(this, t, e, r, !0)},a.prototype.removeListener = function(t, e, n, i) {var o = r ? r + t : t;if (!this._events[o])return this;if (!e)return s(this, o),this;var a = this._events[o];if (a.fn)a.fn !== e || i && !a.once || n && a.context !== n || s(this, o);else {for (var c = 0, u = [], l = a.length; c < l; c++)(a[c].fn !== e || i && !a[c].once || n && a[c].context !== n) && u.push(a[c]);u.length ? this._events[o] = 1 === u.length ? u[0] : u : s(this, o)}return this},a.prototype.removeAllListeners = function(t) {var e;return t ? (e = r ? r + t : t,this._events[e] && s(this, e)) : (this._events = new n,this._eventsCount = 0),this},a.prototype.off = a.prototype.removeListener,a.prototype.addListener = a.prototype.on,a.prefixed = r,a.EventEmitter = a,t.exports = a}(yi);var _i = n(yi.exports);class bi {constructor(t, e, r, n) {this.error = null,this.hls = void 0,this.id = void 0,this.observer = void 0,this.frag = null,this.part = null,this.useWorker = void 0,this.workerContext = null,this.onwmsg = void 0,this.transmuxer = null,this.onTransmuxComplete = void 0,this.onFlush = void 0;const i = t.config;this.hls = t,this.id = e,this.useWorker = !!i.enableWorker,this.onTransmuxComplete = r,this.onFlush = n;const o = (t, e) => {(e = e || {}).frag = this.frag,e.id = this.id,t === p.ERROR && (this.error = e.error),this.hls.trigger(t, e)};this.observer = new _i,this.observer.on(p.FRAG_DECRYPTED, o),this.observer.on(p.ERROR, o);const s = Qt(i.preferManagedMediaSource) || {isTypeSupported: () => !1}, a = {mpeg: s.isTypeSupported("audio/mpeg"),mp3: s.isTypeSupported('audio/mp4; codecs="mp3"'),ac3: s.isTypeSupported('audio/mp4; codecs="ac-3"')};if (this.useWorker && "undefined" != typeof Worker) {if (i.workerPath || "function" == typeof __HLS_WORKER_BUNDLE__) {try {i.workerPath ? (w.log(`loading Web Worker ${i.workerPath} for "${e}"`),this.workerContext = function(t) {const e = new self.URL(t,self.location.href).href;return {worker: new self.Worker(e),scriptURL: e}}(i.workerPath)) : (w.log(`injecting Web Worker for "${e}"`),this.workerContext = function() {const t = new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type: "text/javascript"}), e = self.URL.createObjectURL(t);return {worker: new self.Worker(e),objectURL: e}}()),this.onwmsg = t => this.onWorkerMessage(t);const {worker: t} = this.workerContext;t.addEventListener("message", this.onwmsg),t.onerror = t => {const r = new Error(`${t.message}  (${t.filename}:${t.lineno})`);i.enableWorker = !1,w.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(p.ERROR, {type: g.OTHER_ERROR,details: m.INTERNAL_EXCEPTION,fatal: !1,event: "demuxerWorker",error: r})},t.postMessage({cmd: "init",typeSupported: a,vendor: "",id: e,config: JSON.stringify(i)})} catch (t) {w.warn(`Error setting up "${e}" Web Worker, fallback to inline`, t),this.resetWorker(),this.error = null,this.transmuxer = new hi(this.observer,a,i,"",e)}return}}this.transmuxer = new hi(this.observer,a,i,"",e)}resetWorker() {if (this.workerContext) {const {worker: t, objectURL: e} = this.workerContext;e && self.URL.revokeObjectURL(e),t.removeEventListener("message", this.onwmsg),t.onerror = null,t.terminate(),this.workerContext = null}}destroy() {if (this.workerContext)this.resetWorker(),this.onwmsg = void 0;else {const t = this.transmuxer;t && (t.destroy(),this.transmuxer = null)}const t = this.observer;t && t.removeAllListeners(),this.frag = null,this.observer = null,this.hls = null}push(t, e, r, n, i, o, s, a, c, u) {var l, d;c.transmuxing.start = self.performance.now();const {transmuxer: f} = this, h = o ? o.start : i.start, p = i.decryptdata, g = this.frag, m = !(g && i.cc === g.cc), v = !(g && c.level === g.level), y = g ? c.sn - g.sn : -1, _ = this.part ? c.part - this.part.index : -1, b = 0 === y && c.id > 1 && c.id === (null == g ? void 0 : g.stats.chunkCount), E = !v && (1 === y || 0 === y && (1 === _ || b && _ <= 0)), T = self.performance.now();(v || y || 0 === i.stats.parsing.start) && (i.stats.parsing.start = T),!o || !_ && E || (o.stats.parsing.start = T);const S = !(g && (null == (l = i.initSegment) ? void 0 : l.url) === (null == (d = g.initSegment) ? void 0 : d.url)), A = new vi(m,E,a,v,h,S);if (!E || m || S) {w.log(`[transmuxer-interface, ${i.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}\n        discontinuity: ${m}\n        trackSwitch: ${v}\n        contiguous: ${E}\n        accurateTimeOffset: ${a}\n        timeOffset: ${h}\n        initSegmentChange: ${S}`);const t = new mi(r,n,e,s,u);this.configureTransmuxer(t)}if (this.frag = i,this.part = o,this.workerContext)this.workerContext.worker.postMessage({cmd: "demux",data: t,decryptdata: p,chunkMeta: c,state: A}, t instanceof ArrayBuffer ? [t] : []);else if (f) {const e = f.push(t, p, c, A);gi(e) ? (f.async = !0,e.then((t => {this.handleTransmuxComplete(t)})).catch((t => {this.transmuxerError(t, c, "transmuxer-interface push error")}))) : (f.async = !1,this.handleTransmuxComplete(e))}}flush(t) {t.transmuxing.start = self.performance.now();const {transmuxer: e} = this;if (this.workerContext)this.workerContext.worker.postMessage({cmd: "flush",chunkMeta: t});else if (e) {let r = e.flush(t);gi(r) || e.async ? (gi(r) || (r = Promise.resolve(r)),r.then((e => {this.handleFlushResult(e, t)})).catch((e => {this.transmuxerError(e, t, "transmuxer-interface flush error")}))) : this.handleFlushResult(r, t)}}transmuxerError(t, e, r) {this.hls && (this.error = t,this.hls.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.FRAG_PARSING_ERROR,chunkMeta: e,frag: this.frag || void 0,fatal: !1,error: t,err: t,reason: r}))}handleFlushResult(t, e) {t.forEach((t => {this.handleTransmuxComplete(t)})),this.onFlush(e)}onWorkerMessage(t) {const e = t.data;if (null == e || !e.event)return void w.warn("worker message received with no " + (e ? "event name" : "data"));const r = this.hls;if (this.hls)switch (e.event) {case "init":{var n;const t = null == (n = this.workerContext) ? void 0 : n.objectURL;t && self.URL.revokeObjectURL(t);break}case "transmuxComplete":this.handleTransmuxComplete(e.data);break;case "flush":this.onFlush(e.data);break;case "workerLog":w[e.data.logType] && w[e.data.logType](e.data.message);break;default:e.data = e.data || {},e.data.frag = this.frag,e.data.id = this.id,r.trigger(e.event, e.data)}}configureTransmuxer(t) {const {transmuxer: e} = this;this.workerContext ? this.workerContext.worker.postMessage({cmd: "configure",config: t}) : e && e.configure(t)}handleTransmuxComplete(t) {t.chunkMeta.transmuxing.end = self.performance.now(),this.onTransmuxComplete(t)}}class wi extends fn {constructor(t, e, r) {super(t, e, r, "[audio-stream-controller]", Se.AUDIO),this.videoBuffer = null,this.videoTrackCC = -1,this.waitingVideoCC = -1,this.bufferedTrack = null,this.switchingTrack = null,this.trackId = -1,this.waitingData = null,this.mainDetails = null,this.flushing = !1,this.bufferFlushed = !1,this.cachedTrackLoadedData = null,this._registerListeners()}onHandlerDestroying() {this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails = null,this.bufferedTrack = null,this.switchingTrack = null}_registerListeners() {const {hls: t} = this;t.on(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.on(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.LEVEL_LOADED, this.onLevelLoaded, this),t.on(p.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this),t.on(p.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),t.on(p.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),t.on(p.ERROR, this.onError, this),t.on(p.BUFFER_RESET, this.onBufferReset, this),t.on(p.BUFFER_CREATED, this.onBufferCreated, this),t.on(p.BUFFER_FLUSHING, this.onBufferFlushing, this),t.on(p.BUFFER_FLUSHED, this.onBufferFlushed, this),t.on(p.INIT_PTS_FOUND, this.onInitPtsFound, this),t.on(p.FRAG_BUFFERED, this.onFragBuffered, this)}_unregisterListeners() {const {hls: t} = this;t.off(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.off(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.LEVEL_LOADED, this.onLevelLoaded, this),t.off(p.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this),t.off(p.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),t.off(p.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),t.off(p.ERROR, this.onError, this),t.off(p.BUFFER_RESET, this.onBufferReset, this),t.off(p.BUFFER_CREATED, this.onBufferCreated, this),t.off(p.BUFFER_FLUSHING, this.onBufferFlushing, this),t.off(p.BUFFER_FLUSHED, this.onBufferFlushed, this),t.off(p.INIT_PTS_FOUND, this.onInitPtsFound, this),t.off(p.FRAG_BUFFERED, this.onFragBuffered, this)}onInitPtsFound(t, {frag: e, id: r, initPTS: n, timescale: i}) {if ("main" === r) {const t = e.cc;this.initPTS[e.cc] = {baseTime: n,timescale: i},this.log(`InitPTS for cc: ${t} found from main: ${n}`),this.videoTrackCC = t,this.state === ln && this.tick()}}startLoad(t) {if (!this.levels)return this.startPosition = t,void (this.state = Zr);const e = this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e > 0 && -1 === t ? (this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),t = e,this.state = tn) : (this.loadedmetadata = !1,this.state = on),this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t,this.tick()}doTick() {switch (this.state) {case tn:this.doTickIdle();break;case on:{var t;const {levels: e, trackId: r} = this, n = null == e || null == (t = e[r]) ? void 0 : t.details;if (n) {if (this.waitForCdnTuneIn(n))break;this.state = ln}break}case nn:{var e;const t = performance.now(), r = this.retryDate;if (!r || t >= r || null != (e = this.media) && e.seeking) {const {levels: t, trackId: e} = this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null == t ? void 0 : t[e]) || null),this.state = tn}break}case ln:{const t = this.waitingData;if (t) {const {frag: e, part: r, cache: n, complete: i} = t;if (void 0 !== this.initPTS[e.cc]) {this.waitingData = null,this.waitingVideoCC = -1,this.state = rn;const t = {frag: e,part: r,payload: n.flush(),networkDetails: null};this._handleFragmentLoadProgress(t),i && super._handleFragmentLoadComplete(t)} else if (this.videoTrackCC !== this.waitingVideoCC)this.log(`Waiting fragment cc (${e.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else {const t = this.getLoadPosition(), r = Ur.bufferInfo(this.mediaBuffer, t, this.config.maxBufferHole);cr(r.end, this.config.maxFragLookUpTolerance, e) < 0 && (this.log(`Waiting fragment cc (${e.cc}) @ ${e.start} cancelled because another fragment at ${r.end} is needed`),this.clearWaitingFragment())}} elsethis.state = tn}}this.onTickEnd()}clearWaitingFragment() {const t = this.waitingData;t && (this.fragmentTracker.removeFragment(t.frag),this.waitingData = null,this.waitingVideoCC = -1,this.state = tn)}resetLoadingState() {this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd() {const {media: t} = this;null != t && t.readyState && (this.lastCurrentTime = t.currentTime)}doTickIdle() {const {hls: t, levels: e, media: r, trackId: n} = this, i = t.config;if (!this.buffering || !r && (this.startFragRequested || !i.startFragPrefetch) || null == e || !e[n])return;const o = e[n], s = o.details;if (!s || s.live && this.levelLastLoaded !== o || this.waitForCdnTuneIn(s))return void (this.state = on);const a = this.mediaBuffer ? this.mediaBuffer : this.media;this.bufferFlushed && a && (this.bufferFlushed = !1,this.afterBufferFlushed(a, L, Se.AUDIO));const c = this.getFwdBufferInfo(a, Se.AUDIO);if (null === c)return;if (!this.switchingTrack && this._streamEnded(c, s))return t.trigger(p.BUFFER_EOS, {type: "audio"}),void (this.state = cn);const u = this.getFwdBufferInfo(this.videoBuffer ? this.videoBuffer : this.media, Se.MAIN), l = c.len, d = this.getMaxBufferLength(null == u ? void 0 : u.len), f = s.fragments, h = f[0].start, g = this.getLoadPosition(), m = this.flushing ? g : c.end;if (this.switchingTrack && r) {const t = g;s.PTSKnown && t < h && (c.end > h || c.nextStart) && (this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime = h + .05)}if (l >= d && !this.switchingTrack && m < f[f.length - 1].start)return;let v = this.getNextFragment(m, s), y = !1;if (v && this.isLoopLoading(v, m) && (y = !!v.gap,v = this.getNextFragmentLoopLoading(v, s, c, Se.MAIN, d)),!v)return void (this.bufferFlushed = !0);const _ = u && v.start > u.end + s.targetduration;if (_ || (null == u || !u.len) && c.len) {const t = this.getAppendedFrag(v.start, Se.MAIN);if (null === t)return;if (y || (y = !!t.gap || !!_ && 0 === u.len),_ && !y || y && c.nextStart && c.nextStart < t.end)return}this.loadFragment(v, o, m)}getMaxBufferLength(t) {const e = super.getMaxBufferLength();return t ? Math.min(Math.max(e, t), this.config.maxMaxBufferLength) : e}onMediaDetaching() {this.videoBuffer = null,this.bufferFlushed = this.flushing = !1,super.onMediaDetaching()}onAudioTracksUpdated(t, {audioTracks: e}) {this.resetTransmuxer(),this.levels = e.map((t => new qe(t)))}onAudioTrackSwitching(t, e) {const r = !!e.url;this.trackId = e.id;const {fragCurrent: n} = this;n && (n.abortRequests(),this.removeUnbufferedFrags(n.start)),this.resetLoadingState(),r ? this.setInterval(100) : this.resetTransmuxer(),r ? (this.switchingTrack = e,this.state = tn,this.flushAudioIfNeeded(e)) : (this.switchingTrack = null,this.bufferedTrack = e,this.state = Zr),this.tick()}onManifestLoading() {this.fragmentTracker.removeAllFragments(),this.startPosition = this.lastCurrentTime = 0,this.bufferFlushed = this.flushing = !1,this.levels = this.mainDetails = this.waitingData = this.bufferedTrack = this.cachedTrackLoadedData = this.switchingTrack = null,this.startFragRequested = !1,this.trackId = this.videoTrackCC = this.waitingVideoCC = -1}onLevelLoaded(t, e) {this.mainDetails = e.details,null !== this.cachedTrackLoadedData && (this.hls.trigger(p.AUDIO_TRACK_LOADED, this.cachedTrackLoadedData),this.cachedTrackLoadedData = null)}onAudioTrackLoaded(t, e) {var r;if (null == this.mainDetails)return void (this.cachedTrackLoadedData = e);const {levels: n} = this, {details: i, id: o} = e;if (!n)return void this.warn(`Audio tracks were reset while loading level ${o}`);this.log(`Audio track ${o} loaded [${i.startSN},${i.endSN}]${i.lastPartSn ? `[part-${i.lastPartSn}-${i.lastPartIndex}]` : ""},duration:${i.totalduration}`);const s = n[o];let a = 0;if (i.live || null != (r = s.details) && r.live) {this.checkLiveUpdate(i);const t = this.mainDetails;if (i.deltaUpdateFailed || !t)return;var c;if (!s.details && i.hasProgramDateTime && t.hasProgramDateTime)Hr(i, t),a = i.fragments[0].start;elsea = this.alignPlaylists(i, s.details, null == (c = this.levelLastLoaded) ? void 0 : c.details)}s.details = i,this.levelLastLoaded = s,this.startFragRequested || !this.mainDetails && i.live || this.setStartPosition(this.mainDetails || i, a),this.state !== on || this.waitForCdnTuneIn(i) || (this.state = tn),this.tick()}_handleFragmentLoadProgress(t) {var e;const {frag: r, part: n, payload: i} = t, {config: o, trackId: s, levels: a} = this;if (!a)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);const c = a[s];if (!c)return void this.warn("Audio track is undefined on fragment load progress");const u = c.details;if (!u)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(r.start);const l = o.defaultAudioCodec || c.audioCodec || "mp4a.40.2";let d = this.transmuxer;d || (d = this.transmuxer = new bi(this.hls,Se.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const f = this.initPTS[r.cc], h = null == (e = r.initSegment) ? void 0 : e.data;if (void 0 !== f) {const t = !1, e = n ? n.index : -1, o = -1 !== e, s = new Fr(r.level,r.sn,r.stats.chunkCount,i.byteLength,e,o);d.push(i, h, l, "", r, n, u.totalduration, t, s, f)} else {this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${u.startSN} ,${u.endSN}],track ${s}`);const {cache: t} = this.waitingData = this.waitingData || {frag: r,part: n,cache: new hn,complete: !1};t.push(new Uint8Array(i)),this.waitingVideoCC = this.videoTrackCC,this.state = ln}}_handleFragmentLoadComplete(t) {this.waitingData ? this.waitingData.complete = !0 : super._handleFragmentLoadComplete(t)}onBufferReset() {this.mediaBuffer = this.videoBuffer = null,this.loadedmetadata = !1}onBufferCreated(t, e) {const r = e.tracks.audio;r && (this.mediaBuffer = r.buffer || null),e.tracks.video && (this.videoBuffer = e.tracks.video.buffer || null)}onFragBuffered(t, e) {const {frag: r, part: n} = e;if (r.type === Se.AUDIO)if (this.fragContextChanged(r))this.warn(`Fragment ${r.sn}${n ? " p: " + n.index : ""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack ? this.switchingTrack.name : "false"}`);else {if ("initSegment" !== r.sn) {this.fragPrevious = r;const t = this.switchingTrack;t && (this.bufferedTrack = t,this.switchingTrack = null,this.hls.trigger(p.AUDIO_TRACK_SWITCHED, a({}, t)))}this.fragBufferedComplete(r, n)}else if (!this.loadedmetadata && r.type === Se.MAIN) {const t = this.videoBuffer || this.media;if (t) {Ur.getBuffered(t).length && (this.loadedmetadata = !0)}}}onError(t, e) {var r;if (e.fatal)this.state = un;elseswitch (e.details) {case m.FRAG_GAP:case m.FRAG_PARSING_ERROR:case m.FRAG_DECRYPT_ERROR:case m.FRAG_LOAD_ERROR:case m.FRAG_LOAD_TIMEOUT:case m.KEY_LOAD_ERROR:case m.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Se.AUDIO, e);break;case m.AUDIO_TRACK_LOAD_ERROR:case m.AUDIO_TRACK_LOAD_TIMEOUT:case m.LEVEL_PARSING_ERROR:e.levelRetry || this.state !== on || (null == (r = e.context) ? void 0 : r.type) !== Ee || (this.state = tn);break;case m.BUFFER_APPEND_ERROR:case m.BUFFER_FULL_ERROR:if (!e.parent || "audio" !== e.parent)return;if (e.details === m.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(e) && (this.bufferedTrack = null,super.flushMainBuffer(0, Number.POSITIVE_INFINITY, "audio"));break;case m.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushing(t, {type: e}) {e !== k && (this.flushing = !0)}onBufferFlushed(t, {type: e}) {if (e !== k) {this.flushing = !1,this.bufferFlushed = !0,this.state === cn && (this.state = tn);const t = this.mediaBuffer || this.media;t && (this.afterBufferFlushed(t, e, Se.AUDIO),this.tick())}}_handleTransmuxComplete(t) {var e;const r = "audio", {hls: n} = this, {remuxResult: i, chunkMeta: o} = t, s = this.getCurrentContext(o);if (!s)return void this.resetWhenMissingContext(o);const {frag: a, part: c, level: u} = s, {details: d} = u, {audio: f, text: h, id3: g, initSegment: m} = i;if (!this.fragContextChanged(a) && d) {if (this.state = sn,this.switchingTrack && f && this.completeAudioSwitch(this.switchingTrack),null != m && m.tracks) {const t = a.initSegment || a;this._bufferInitSegment(u, m.tracks, t, o),n.trigger(p.FRAG_PARSING_INIT_SEGMENT, {frag: t,id: r,tracks: m.tracks})}if (f) {const {startPTS: t, endPTS: e, startDTS: r, endDTS: n} = f;c && (c.elementaryStreams[L] = {startPTS: t,endPTS: e,startDTS: r,endDTS: n}),a.setElementaryStreamInfo(L, t, e, r, n),this.bufferFragmentData(f, a, c, o)}if (null != g && null != (e = g.samples) && e.length) {const t = l({id: r,frag: a,details: d}, g);n.trigger(p.FRAG_PARSING_METADATA, t)}if (h) {const t = l({id: r,frag: a,details: d}, h);n.trigger(p.FRAG_PARSING_USERDATA, t)}} elsethis.fragmentTracker.removeFragment(a)}_bufferInitSegment(t, e, r, n) {if (this.state !== sn)return;e.video && delete e.video;const i = e.audio;if (!i)return;i.id = "audio";const o = t.audioCodec;this.log(`Init audio buffer, container:${i.container}, codecs[level/parsed]=[${o}/${i.codec}]`),o && 1 === o.split(",").length && (i.levelCodec = o),this.hls.trigger(p.BUFFER_CODECS, e);const s = i.initSegment;if (null != s && s.byteLength) {const t = {type: "audio",frag: r,part: null,chunkMeta: n,parent: r.type,data: s};this.hls.trigger(p.BUFFER_APPENDING, t)}this.tickImmediate()}loadFragment(t, e, r) {const n = this.fragmentTracker.getState(t);var i;if (this.fragCurrent = t,this.switchingTrack || n === Lr || n === Rr)if ("initSegment" === t.sn)this._loadInitSegment(t, e);else if (null != (i = e.details) && i.live && !this.initPTS[t.cc]) {this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state = ln;const r = this.mainDetails;r && r.fragments[0].start !== e.details.fragments[0].start && Hr(e.details, r)} elsethis.startFragRequested = !0,super.loadFragment(t, e, r);elsethis.clearTrackerIfNeeded(t)}flushAudioIfNeeded(t) {if (this.media && this.bufferedTrack) {const {name: e, lang: r, assocLang: n, characteristics: i, audioCodec: o, channels: s} = this.bufferedTrack;Tr({name: e,lang: r,assocLang: n,characteristics: i,audioCodec: o,channels: s}, t, Sr) || (this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0, Number.POSITIVE_INFINITY, "audio"),this.bufferedTrack = null)}}completeAudioSwitch(t) {const {hls: e} = this;this.flushAudioIfNeeded(t),this.bufferedTrack = t,this.switchingTrack = null,e.trigger(p.AUDIO_TRACK_SWITCHED, a({}, t))}}function Ei(t, e) {if (t.length !== e.length)return !1;for (let r = 0; r < t.length; r++)if (!Ti(t[r].attrs, e[r].attrs))return !1;return !0}function Ti(t, e, r) {const n = t["STABLE-RENDITION-ID"];return n && !r ? n === e["STABLE-RENDITION-ID"] : !(r || ["LANGUAGE", "NAME", "CHARACTERISTICS", "AUTOSELECT", "DEFAULT", "FORCED", "ASSOC-LANGUAGE"]).some((r => t[r] !== e[r]))}function Si(t, e) {return e.label.toLowerCase() === t.name.toLowerCase() && (!e.language || e.language.toLowerCase() === (t.lang || "").toLowerCase())}class Ai extends hr {constructor(t) {super(t, "[audio-track-controller]"),this.tracks = [],this.groupIds = null,this.tracksInGroup = [],this.trackId = -1,this.currentTrack = null,this.selectDefaultTrack = !0,this.registerListeners()}registerListeners() {const {hls: t} = this;t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.MANIFEST_PARSED, this.onManifestParsed, this),t.on(p.LEVEL_LOADING, this.onLevelLoading, this),t.on(p.LEVEL_SWITCHING, this.onLevelSwitching, this),t.on(p.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),t.on(p.ERROR, this.onError, this)}unregisterListeners() {const {hls: t} = this;t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.MANIFEST_PARSED, this.onManifestParsed, this),t.off(p.LEVEL_LOADING, this.onLevelLoading, this),t.off(p.LEVEL_SWITCHING, this.onLevelSwitching, this),t.off(p.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),t.off(p.ERROR, this.onError, this)}destroy() {this.unregisterListeners(),this.tracks.length = 0,this.tracksInGroup.length = 0,this.currentTrack = null,super.destroy()}onManifestLoading() {this.tracks = [],this.tracksInGroup = [],this.groupIds = null,this.currentTrack = null,this.trackId = -1,this.selectDefaultTrack = !0}onManifestParsed(t, e) {this.tracks = e.audioTracks || []}onAudioTrackLoaded(t, e) {const {id: r, groupId: n, details: i} = e, o = this.tracksInGroup[r];if (!o || o.groupId !== n)return void this.warn(`Audio track with id:${r} and group:${n} not found in active group ${null == o ? void 0 : o.groupId}`);const s = o.details;o.details = e.details,this.log(`Audio track ${r} "${o.name}" lang:${o.lang} group:${n} loaded [${i.startSN}-${i.endSN}]`),r === this.trackId && this.playlistLoaded(r, e, s)}onLevelLoading(t, e) {this.switchLevel(e.level)}onLevelSwitching(t, e) {this.switchLevel(e.level)}switchLevel(t) {const e = this.hls.levels[t];if (!e)return;const r = e.audioGroups || null, n = this.groupIds;let i = this.currentTrack;if (!r || (null == n ? void 0 : n.length) !== (null == r ? void 0 : r.length) || null != r && r.some((t => -1 === (null == n ? void 0 : n.indexOf(t))))) {this.groupIds = r,this.trackId = -1,this.currentTrack = null;const t = this.tracks.filter((t => !r || -1 !== r.indexOf(t.groupId)));if (t.length)this.selectDefaultTrack && !t.some((t => t.default)) && (this.selectDefaultTrack = !1),t.forEach(( (t, e) => {t.id = e}));else if (!i && !this.tracksInGroup.length)return;this.tracksInGroup = t;const e = this.hls.config.audioPreference;if (!i && e) {const r = Er(e, t, Sr);if (r > -1)i = t[r];else {const t = Er(e, this.tracks);i = this.tracks[t]}}let n = this.findTrackId(i);-1 === n && i && (n = this.findTrackId(null));const s = {audioTracks: t};this.log(`Updating audio tracks, ${t.length} track(s) found in group(s): ${null == r ? void 0 : r.join(",")}`),this.hls.trigger(p.AUDIO_TRACKS_UPDATED, s);const a = this.trackId;if (-1 !== n && -1 === a)this.setAudioTrack(n);else if (t.length && -1 === a) {var o;const e = new Error(`No audio track selected for current audio group-ID(s): ${null == (o = this.groupIds) ? void 0 : o.join(",")} track count: ${t.length}`);this.warn(e.message),this.hls.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.AUDIO_TRACK_LOAD_ERROR,fatal: !0,error: e})}} elsethis.shouldReloadPlaylist(i) && this.setAudioTrack(this.trackId)}onError(t, e) {!e.fatal && e.context && (e.context.type !== Ee || e.context.id !== this.trackId || this.groupIds && -1 === this.groupIds.indexOf(e.context.groupId) || (this.requestScheduled = -1,this.checkRetry(e)))}get allAudioTracks() {return this.tracks}get audioTracks() {return this.tracksInGroup}get audioTrack() {return this.trackId}set audioTrack(t) {this.selectDefaultTrack = !1,this.setAudioTrack(t)}setAudioOption(t) {const e = this.hls;if (e.config.audioPreference = t,t) {const r = this.allAudioTracks;if (this.selectDefaultTrack = !1,r.length) {const n = this.currentTrack;if (n && Tr(t, n, Sr))return n;const i = Er(t, this.tracksInGroup, Sr);if (i > -1) {const t = this.tracksInGroup[i];return this.setAudioTrack(i),t}if (n) {let n = e.loadLevel;-1 === n && (n = e.firstAutoLevel);const i = function(t, e, r, n, i) {const o = e[n], s = e.reduce(( (t, e, r) => {const n = e.uri;return (t[n] || (t[n] = [])).push(r),t}), {})[o.uri];s.length > 1 && (n = Math.max.apply(Math, s));const a = o.videoRange, c = o.frameRate, u = o.codecSet.substring(0, 4), l = Ar(e, n, (e => {if (e.videoRange !== a || e.frameRate !== c || e.codecSet.substring(0, 4) !== u)return !1;const n = e.audioGroups, o = r.filter((t => !n || -1 !== n.indexOf(t.groupId)));return Er(t, o, i) > -1}));return l > -1 ? l : Ar(e, n, (e => {const n = e.audioGroups, o = r.filter((t => !n || -1 !== n.indexOf(t.groupId)));return Er(t, o, i) > -1}))}(t, e.levels, r, n, Sr);if (-1 === i)return null;e.nextLoadLevel = i}if (t.channels || t.audioCodec) {const e = Er(t, r);if (e > -1)return r[e]}}}return null}setAudioTrack(t) {const e = this.tracksInGroup;if (t < 0 || t >= e.length)return void this.warn(`Invalid audio track id: ${t}`);this.clearTimer(),this.selectDefaultTrack = !1;const r = this.currentTrack, n = e[t], i = n.details && !n.details.live;if (t === this.trackId && n === r && i)return;if (this.log(`Switching to audio-track ${t} "${n.name}" lang:${n.lang} group:${n.groupId} channels:${n.channels}`),this.trackId = t,this.currentTrack = n,this.hls.trigger(p.AUDIO_TRACK_SWITCHING, a({}, n)),i)return;const o = this.switchParams(n.url, null == r ? void 0 : r.details, n.details);this.loadPlaylist(o)}findTrackId(t) {const e = this.tracksInGroup;for (let r = 0; r < e.length; r++) {const n = e[r];if ((!this.selectDefaultTrack || n.default) && (!t || Tr(t, n, Sr)))return r}if (t) {const {name: r, lang: n, assocLang: i, characteristics: o, audioCodec: s, channels: a} = t;for (let t = 0; t < e.length; t++) {if (Tr({name: r,lang: n,assocLang: i,characteristics: o,audioCodec: s,channels: a}, e[t], Sr))return t}for (let r = 0; r < e.length; r++) {const n = e[r];if (Ti(t.attrs, n.attrs, ["LANGUAGE", "ASSOC-LANGUAGE", "CHARACTERISTICS"]))return r}for (let r = 0; r < e.length; r++) {const n = e[r];if (Ti(t.attrs, n.attrs, ["LANGUAGE"]))return r}}return -1}loadPlaylist(t) {const e = this.currentTrack;if (this.shouldLoadPlaylist(e) && e) {super.loadPlaylist();const r = e.id, n = e.groupId;let i = e.url;if (t)try {i = t.addDirectives(i)} catch (t) {this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}this.log(`loading audio-track playlist ${r} "${e.name}" lang:${e.lang} group:${n}`),this.clearTimer(),this.hls.trigger(p.AUDIO_TRACK_LOADING, {url: i,id: r,groupId: n,deliveryDirectives: t || null})}}}class Ii extends fn {constructor(t, e, r) {super(t, e, r, "[subtitle-stream-controller]", Se.SUBTITLE),this.currentTrackId = -1,this.tracksBuffered = [],this.mainDetails = null,this._registerListeners()}onHandlerDestroying() {this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails = null}_registerListeners() {const {hls: t} = this;t.on(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.on(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.LEVEL_LOADED, this.onLevelLoaded, this),t.on(p.ERROR, this.onError, this),t.on(p.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),t.on(p.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this),t.on(p.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),t.on(p.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this),t.on(p.BUFFER_FLUSHING, this.onBufferFlushing, this),t.on(p.FRAG_BUFFERED, this.onFragBuffered, this)}_unregisterListeners() {const {hls: t} = this;t.off(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.off(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.LEVEL_LOADED, this.onLevelLoaded, this),t.off(p.ERROR, this.onError, this),t.off(p.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),t.off(p.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this),t.off(p.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),t.off(p.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this),t.off(p.BUFFER_FLUSHING, this.onBufferFlushing, this),t.off(p.FRAG_BUFFERED, this.onFragBuffered, this)}startLoad(t) {this.stopLoad(),this.state = tn,this.setInterval(500),this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t,this.tick()}onManifestLoading() {this.mainDetails = null,this.fragmentTracker.removeAllFragments()}onMediaDetaching() {this.tracksBuffered = [],super.onMediaDetaching()}onLevelLoaded(t, e) {this.mainDetails = e.details}onSubtitleFragProcessed(t, e) {const {frag: r, success: n} = e;if (this.fragPrevious = r,this.state = tn,!n)return;const i = this.tracksBuffered[this.currentTrackId];if (!i)return;let o;const s = r.start;for (let t = 0; t < i.length; t++)if (s >= i[t].start && s <= i[t].end) {o = i[t];break}const a = r.start + r.duration;o ? o.end = a : (o = {start: s,end: a},i.push(o)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r, null)}onBufferFlushing(t, e) {const {startOffset: r, endOffset: n} = e;if (0 === r && n !== Number.POSITIVE_INFINITY) {const t = n - 1;if (t <= 0)return;e.endOffsetSubtitles = Math.max(0, t),this.tracksBuffered.forEach((e => {for (let r = 0; r < e.length; )if (e[r].end <= t)e.shift();else {if (!(e[r].start < t))break;e[r].start = t,r++}})),this.fragmentTracker.removeFragmentsInRange(r, t, Se.SUBTITLE)}}onFragBuffered(t, e) {var r;this.loadedmetadata || e.frag.type !== Se.MAIN || null != (r = this.media) && r.buffered.length && (this.loadedmetadata = !0)}onError(t, e) {const r = e.frag;(null == r ? void 0 : r.type) === Se.SUBTITLE && (e.details === m.FRAG_GAP && this.fragmentTracker.fragBuffered(r, !0),this.fragCurrent && this.fragCurrent.abortRequests(),this.state !== Zr && (this.state = tn))}onSubtitleTracksUpdated(t, {subtitleTracks: e}) {this.levels && Ei(this.levels, e) ? this.levels = e.map((t => new qe(t))) : (this.tracksBuffered = [],this.levels = e.map((t => {const e = new qe(t);return this.tracksBuffered[e.id] = [],e})),this.fragmentTracker.removeFragmentsInRange(0, Number.POSITIVE_INFINITY, Se.SUBTITLE),this.fragPrevious = null,this.mediaBuffer = null)}onSubtitleTrackSwitch(t, e) {var r;if (this.currentTrackId = e.id,null == (r = this.levels) || !r.length || -1 === this.currentTrackId)return void this.clearInterval();const n = this.levels[this.currentTrackId];null != n && n.details ? this.mediaBuffer = this.mediaBufferTimeRanges : this.mediaBuffer = null,n && this.setInterval(500)}onSubtitleTrackLoaded(t, e) {var r;const {currentTrackId: n, levels: i} = this, {details: o, id: s} = e;if (!i)return void this.warn(`Subtitle tracks were reset while loading level ${s}`);const a = i[s];if (s >= i.length || !a)return;this.log(`Subtitle track ${s} loaded [${o.startSN},${o.endSN}]${o.lastPartSn ? `[part-${o.lastPartSn}-${o.lastPartIndex}]` : ""},duration:${o.totalduration}`),this.mediaBuffer = this.mediaBufferTimeRanges;let c = 0;if (o.live || null != (r = a.details) && r.live) {const t = this.mainDetails;if (o.deltaUpdateFailed || !t)return;const e = t.fragments[0];var u;if (a.details)c = this.alignPlaylists(o, a.details, null == (u = this.levelLastLoaded) ? void 0 : u.details),0 === c && e && (c = e.start,Xe(o, c));elseo.hasProgramDateTime && t.hasProgramDateTime ? (Hr(o, t),c = o.fragments[0].start) : e && (c = e.start,Xe(o, c))}if (a.details = o,this.levelLastLoaded = a,s === n && (this.startFragRequested || !this.mainDetails && o.live || this.setStartPosition(this.mainDetails || o, c),this.tick(),o.live && !this.fragCurrent && this.media && this.state === tn)) {ar(null, o.fragments, this.media.currentTime, 0) || (this.warn("Subtitle playlist not aligned with playback"),a.details = void 0)}}_handleFragmentLoadComplete(t) {const {frag: e, payload: r} = t, n = e.decryptdata, i = this.hls;if (!this.fragContextChanged(e) && r && r.byteLength > 0 && null != n && n.key && n.iv && "AES-128" === n.method) {const t = performance.now();this.decrypter.decrypt(new Uint8Array(r), n.key.buffer, n.iv.buffer).catch((t => {throw i.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.FRAG_DECRYPT_ERROR,fatal: !1,error: t,reason: t.message,frag: e}),t})).then((r => {const n = performance.now();i.trigger(p.FRAG_DECRYPTED, {frag: e,payload: r,stats: {tstart: t,tdecrypt: n}})})).catch((t => {this.warn(`${t.name}: ${t.message}`),this.state = tn}))}}doTick() {if (this.media) {if (this.state === tn) {const {currentTrackId: t, levels: e} = this, r = null == e ? void 0 : e[t];if (!r || !e.length || !r.details)return;const {config: n} = this, i = this.getLoadPosition(), o = Ur.bufferedInfo(this.tracksBuffered[this.currentTrackId] || [], i, n.maxBufferHole), {end: s, len: a} = o, c = this.getFwdBufferInfo(this.media, Se.MAIN), u = r.details;if (a > this.getMaxBufferLength(null == c ? void 0 : c.len) + u.levelTargetDuration)return;const l = u.fragments, d = l.length, f = u.edge;let h = null;const p = this.fragPrevious;if (s < f) {const t = n.maxFragLookUpTolerance, e = s > f - t ? 0 : t;h = ar(p, l, Math.max(l[0].start, s), e),!h && p && p.start < l[0].start && (h = l[0])} elseh = l[d - 1];if (!h)return;if (h = this.mapToInitFragWhenRequired(h),"initSegment" !== h.sn) {const t = l[h.sn - u.startSN - 1];t && t.cc === h.cc && this.fragmentTracker.getState(t) === Lr && (h = t)}this.fragmentTracker.getState(h) === Lr && this.loadFragment(h, r, s)}} elsethis.state = tn}getMaxBufferLength(t) {const e = super.getMaxBufferLength();return t ? Math.max(e, t) : e}loadFragment(t, e, r) {this.fragCurrent = t,"initSegment" === t.sn ? this._loadInitSegment(t, e) : (this.startFragRequested = !0,super.loadFragment(t, e, r))}get mediaBufferTimeRanges() {return new xi(this.tracksBuffered[this.currentTrackId] || [])}}class xi {constructor(t) {this.buffered = void 0;const e = (e, r, n) => {if ((r >>>= 0) > n - 1)throw new DOMException(`Failed to execute '${e}' on 'TimeRanges': The index provided (${r}) is greater than the maximum bound (${n})`);return t[r][e]};this.buffered = {get length() {return t.length},end(r) {return e("end", r, t.length)},start(r) {return e("start", r, t.length)}}}}class Li extends hr {constructor(t) {super(t, "[subtitle-track-controller]"),this.media = null,this.tracks = [],this.groupIds = null,this.tracksInGroup = [],this.trackId = -1,this.currentTrack = null,this.selectDefaultTrack = !0,this.queuedDefaultTrack = -1,this.asyncPollTrackChange = () => this.pollTrackChange(0),this.useTextTrackPolling = !1,this.subtitlePollingInterval = -1,this._subtitleDisplay = !0,this.onTextTracksChanged = () => {if (this.useTextTrackPolling || self.clearInterval(this.subtitlePollingInterval),!this.media || !this.hls.config.renderTextTracksNatively)return;let t = null;const e = Pe(this.media.textTracks);for (let r = 0; r < e.length; r++)if ("hidden" === e[r].mode)t = e[r];else if ("showing" === e[r].mode) {t = e[r];break}const r = this.findTrackForTextTrack(t);this.subtitleTrack !== r && this.setSubtitleTrack(r)},this.registerListeners()}destroy() {this.unregisterListeners(),this.tracks.length = 0,this.tracksInGroup.length = 0,this.currentTrack = null,this.onTextTracksChanged = this.asyncPollTrackChange = null,super.destroy()}get subtitleDisplay() {return this._subtitleDisplay}set subtitleDisplay(t) {this._subtitleDisplay = t,this.trackId > -1 && this.toggleTrackModes()}registerListeners() {const {hls: t} = this;t.on(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.on(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.MANIFEST_PARSED, this.onManifestParsed, this),t.on(p.LEVEL_LOADING, this.onLevelLoading, this),t.on(p.LEVEL_SWITCHING, this.onLevelSwitching, this),t.on(p.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),t.on(p.ERROR, this.onError, this)}unregisterListeners() {const {hls: t} = this;t.off(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.off(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.MANIFEST_PARSED, this.onManifestParsed, this),t.off(p.LEVEL_LOADING, this.onLevelLoading, this),t.off(p.LEVEL_SWITCHING, this.onLevelSwitching, this),t.off(p.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),t.off(p.ERROR, this.onError, this)}onMediaAttached(t, e) {this.media = e.media,this.media && (this.queuedDefaultTrack > -1 && (this.subtitleTrack = this.queuedDefaultTrack,this.queuedDefaultTrack = -1),this.useTextTrackPolling = !(this.media.textTracks && "onchange"in this.media.textTracks),this.useTextTrackPolling ? this.pollTrackChange(500) : this.media.textTracks.addEventListener("change", this.asyncPollTrackChange))}pollTrackChange(t) {self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval = self.setInterval(this.onTextTracksChanged, t)}onMediaDetaching() {if (!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling || this.media.textTracks.removeEventListener("change", this.asyncPollTrackChange),this.trackId > -1 && (this.queuedDefaultTrack = this.trackId);Pe(this.media.textTracks).forEach((t => {Re(t)})),this.subtitleTrack = -1,this.media = null}onManifestLoading() {this.tracks = [],this.groupIds = null,this.tracksInGroup = [],this.trackId = -1,this.currentTrack = null,this.selectDefaultTrack = !0}onManifestParsed(t, e) {this.tracks = e.subtitleTracks}onSubtitleTrackLoaded(t, e) {const {id: r, groupId: n, details: i} = e, o = this.tracksInGroup[r];if (!o || o.groupId !== n)return void this.warn(`Subtitle track with id:${r} and group:${n} not found in active group ${null == o ? void 0 : o.groupId}`);const s = o.details;o.details = e.details,this.log(`Subtitle track ${r} "${o.name}" lang:${o.lang} group:${n} loaded [${i.startSN}-${i.endSN}]`),r === this.trackId && this.playlistLoaded(r, e, s)}onLevelLoading(t, e) {this.switchLevel(e.level)}onLevelSwitching(t, e) {this.switchLevel(e.level)}switchLevel(t) {const e = this.hls.levels[t];if (!e)return;const r = e.subtitleGroups || null, n = this.groupIds;let i = this.currentTrack;if (!r || (null == n ? void 0 : n.length) !== (null == r ? void 0 : r.length) || null != r && r.some((t => -1 === (null == n ? void 0 : n.indexOf(t))))) {this.groupIds = r,this.trackId = -1,this.currentTrack = null;const t = this.tracks.filter((t => !r || -1 !== r.indexOf(t.groupId)));if (t.length)this.selectDefaultTrack && !t.some((t => t.default)) && (this.selectDefaultTrack = !1),t.forEach(( (t, e) => {t.id = e}));else if (!i && !this.tracksInGroup.length)return;this.tracksInGroup = t;const e = this.hls.config.subtitlePreference;if (!i && e) {this.selectDefaultTrack = !1;const r = Er(e, t);if (r > -1)i = t[r];else {const t = Er(e, this.tracks);i = this.tracks[t]}}let n = this.findTrackId(i);-1 === n && i && (n = this.findTrackId(null));const o = {subtitleTracks: t};this.log(`Updating subtitle tracks, ${t.length} track(s) found in "${null == r ? void 0 : r.join(",")}" group-id`),this.hls.trigger(p.SUBTITLE_TRACKS_UPDATED, o),-1 !== n && -1 === this.trackId && this.setSubtitleTrack(n)} elsethis.shouldReloadPlaylist(i) && this.setSubtitleTrack(this.trackId)}findTrackId(t) {const e = this.tracksInGroup, r = this.selectDefaultTrack;for (let n = 0; n < e.length; n++) {const i = e[n];if ((!r || i.default) && (r || t) && (!t || Tr(i, t)))return n}if (t) {for (let r = 0; r < e.length; r++) {const n = e[r];if (Ti(t.attrs, n.attrs, ["LANGUAGE", "ASSOC-LANGUAGE", "CHARACTERISTICS"]))return r}for (let r = 0; r < e.length; r++) {const n = e[r];if (Ti(t.attrs, n.attrs, ["LANGUAGE"]))return r}}return -1}findTrackForTextTrack(t) {if (t) {const e = this.tracksInGroup;for (let r = 0; r < e.length; r++) {if (Si(e[r], t))return r}}return -1}onError(t, e) {!e.fatal && e.context && (e.context.type !== Te || e.context.id !== this.trackId || this.groupIds && -1 === this.groupIds.indexOf(e.context.groupId) || this.checkRetry(e))}get allSubtitleTracks() {return this.tracks}get subtitleTracks() {return this.tracksInGroup}get subtitleTrack() {return this.trackId}set subtitleTrack(t) {this.selectDefaultTrack = !1,this.setSubtitleTrack(t)}setSubtitleOption(t) {if (this.hls.config.subtitlePreference = t,t) {const e = this.allSubtitleTracks;if (this.selectDefaultTrack = !1,e.length) {const r = this.currentTrack;if (r && Tr(t, r))return r;const n = Er(t, this.tracksInGroup);if (n > -1) {const t = this.tracksInGroup[n];return this.setSubtitleTrack(n),t}if (r)return null;{const r = Er(t, e);if (r > -1)return e[r]}}}return null}loadPlaylist(t) {super.loadPlaylist();const e = this.currentTrack;if (this.shouldLoadPlaylist(e) && e) {const r = e.id, n = e.groupId;let i = e.url;if (t)try {i = t.addDirectives(i)} catch (t) {this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(p.SUBTITLE_TRACK_LOADING, {url: i,id: r,groupId: n,deliveryDirectives: t || null})}}toggleTrackModes() {const {media: t} = this;if (!t)return;const e = Pe(t.textTracks), r = this.currentTrack;let n;if (r && (n = e.filter((t => Si(r, t)))[0],n || this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(e).forEach((t => {"disabled" !== t.mode && t !== n && (t.mode = "disabled")})),n) {const t = this.subtitleDisplay ? "showing" : "hidden";n.mode !== t && (n.mode = t)}}setSubtitleTrack(t) {const e = this.tracksInGroup;if (!this.media)return void (this.queuedDefaultTrack = t);if (t < -1 || t >= e.length || !d(t))return void this.warn(`Invalid subtitle track id: ${t}`);this.clearTimer(),this.selectDefaultTrack = !1;const r = this.currentTrack, n = e[t] || null;if (this.trackId = t,this.currentTrack = n,this.toggleTrackModes(),!n)return void this.hls.trigger(p.SUBTITLE_TRACK_SWITCH, {id: t});const i = !!n.details && !n.details.live;if (t === this.trackId && n === r && i)return;this.log(`Switching to subtitle-track ${t}` + (n ? ` "${n.name}" lang:${n.lang} group:${n.groupId}` : ""));const {id: o, groupId: s="", name: a, type: c, url: u} = n;this.hls.trigger(p.SUBTITLE_TRACK_SWITCH, {id: o,groupId: s,name: a,type: c,url: u});const l = this.switchParams(n.url, null == r ? void 0 : r.details, n.details);this.loadPlaylist(l)}}class ki {constructor(t) {this.buffers = void 0,this.queues = {video: [],audio: [],audiovideo: []},this.buffers = t}append(t, e, r) {const n = this.queues[e];n.push(t),1 !== n.length || r || this.executeNext(e)}insertAbort(t, e) {this.queues[e].unshift(t),this.executeNext(e)}appendBlocker(t) {let e;const r = new Promise((t => {e = t})), n = {execute: e,onStart: () => {},onComplete: () => {},onError: () => {}};return this.append(n, t),r}executeNext(t) {const e = this.queues[t];if (e.length) {const r = e[0];try {r.execute()} catch (e) {w.warn(`[buffer-operation-queue]: Exception executing "${t}" SourceBuffer operation: ${e}`),r.onError(e);const n = this.buffers[t];null != n && n.updating || this.shiftAndExecuteNext(t)}}}shiftAndExecuteNext(t) {this.queues[t].shift(),this.executeNext(t)}current(t) {return this.queues[t][0]}}const Ri = /(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class Ci {constructor(t) {this.details = null,this._objectUrl = null,this.operationQueue = void 0,this.listeners = void 0,this.hls = void 0,this.bufferCodecEventsExpected = 0,this._bufferCodecEventsTotal = 0,this.media = null,this.mediaSource = null,this.lastMpegAudioChunk = null,this.appendSource = void 0,this.appendErrors = {audio: 0,video: 0,audiovideo: 0},this.tracks = {},this.pendingTracks = {},this.sourceBuffer = void 0,this.log = void 0,this.warn = void 0,this.error = void 0,this._onEndStreaming = t => {this.hls && this.hls.pauseBuffering()},this._onStartStreaming = t => {this.hls && this.hls.resumeBuffering()},this._onMediaSourceOpen = () => {const {media: t, mediaSource: e} = this;this.log("Media source opened"),t && (t.removeEventListener("emptied", this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(p.MEDIA_ATTACHED, {media: t,mediaSource: e})),e && e.removeEventListener("sourceopen", this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose = () => {this.log("Media source closed")},this._onMediaSourceEnded = () => {this.log("Media source ended")},this._onMediaEmptied = () => {const {mediaSrc: t, _objectUrl: e} = this;t !== e && w.error(`Media element src was set while attaching MediaSource (${e} > ${t})`)},this.hls = t;const e = "[buffer-controller]";var r;this.appendSource = (r = Qt(t.config.preferManagedMediaSource),"undefined" != typeof self && r === self.ManagedMediaSource),this.log = w.log.bind(w, e),this.warn = w.warn.bind(w, e),this.error = w.error.bind(w, e),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes() {return this.getSourceBufferTypes().length > 0 || Object.keys(this.pendingTracks).length > 0}destroy() {this.unregisterListeners(),this.details = null,this.lastMpegAudioChunk = null,this.hls = null}registerListeners() {const {hls: t} = this;t.on(p.MEDIA_ATTACHING, this.onMediaAttaching, this),t.on(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.MANIFEST_PARSED, this.onManifestParsed, this),t.on(p.BUFFER_RESET, this.onBufferReset, this),t.on(p.BUFFER_APPENDING, this.onBufferAppending, this),t.on(p.BUFFER_CODECS, this.onBufferCodecs, this),t.on(p.BUFFER_EOS, this.onBufferEos, this),t.on(p.BUFFER_FLUSHING, this.onBufferFlushing, this),t.on(p.LEVEL_UPDATED, this.onLevelUpdated, this),t.on(p.FRAG_PARSED, this.onFragParsed, this),t.on(p.FRAG_CHANGED, this.onFragChanged, this)}unregisterListeners() {const {hls: t} = this;t.off(p.MEDIA_ATTACHING, this.onMediaAttaching, this),t.off(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.MANIFEST_PARSED, this.onManifestParsed, this),t.off(p.BUFFER_RESET, this.onBufferReset, this),t.off(p.BUFFER_APPENDING, this.onBufferAppending, this),t.off(p.BUFFER_CODECS, this.onBufferCodecs, this),t.off(p.BUFFER_EOS, this.onBufferEos, this),t.off(p.BUFFER_FLUSHING, this.onBufferFlushing, this),t.off(p.LEVEL_UPDATED, this.onLevelUpdated, this),t.off(p.FRAG_PARSED, this.onFragParsed, this),t.off(p.FRAG_CHANGED, this.onFragChanged, this)}_initSourceBuffer() {this.sourceBuffer = {},this.operationQueue = new ki(this.sourceBuffer),this.listeners = {audio: [],video: [],audiovideo: []},this.appendErrors = {audio: 0,video: 0,audiovideo: 0},this.lastMpegAudioChunk = null}onManifestLoading() {this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = 0,this.details = null}onManifestParsed(t, e) {let r = 2;(e.audio && !e.video || !e.altAudio) && (r = 1),this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = r,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(t, e) {const r = this.media = e.media, n = Qt(this.appendSource);if (r && n) {var i;const t = this.mediaSource = new n;this.log(`created media source: ${null == (i = t.constructor) ? void 0 : i.name}`),t.addEventListener("sourceopen", this._onMediaSourceOpen),t.addEventListener("sourceended", this._onMediaSourceEnded),t.addEventListener("sourceclose", this._onMediaSourceClose),this.appendSource && (t.addEventListener("startstreaming", this._onStartStreaming),t.addEventListener("endstreaming", this._onEndStreaming));const e = this._objectUrl = self.URL.createObjectURL(t);if (this.appendSource)try {r.removeAttribute("src");const n = self.ManagedMediaSource;r.disableRemotePlayback = r.disableRemotePlayback || n && t instanceof n,Pi(r),function(t, e) {const r = self.document.createElement("source");r.type = "video/mp4",r.src = e,t.appendChild(r)}(r, e),r.load()} catch (t) {r.src = e}elser.src = e;r.addEventListener("emptied", this._onMediaEmptied)}}onMediaDetaching() {const {media: t, mediaSource: e, _objectUrl: r} = this;if (e) {if (this.log("media source detaching"),"open" === e.readyState)try {e.endOfStream()} catch (t) {this.warn(`onMediaDetaching: ${t.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen", this._onMediaSourceOpen),e.removeEventListener("sourceended", this._onMediaSourceEnded),e.removeEventListener("sourceclose", this._onMediaSourceClose),this.appendSource && (e.removeEventListener("startstreaming", this._onStartStreaming),e.removeEventListener("endstreaming", this._onEndStreaming)),t && (t.removeEventListener("emptied", this._onMediaEmptied),r && self.URL.revokeObjectURL(r),this.mediaSrc === r ? (t.removeAttribute("src"),this.appendSource && Pi(t),t.load()) : this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource = null,this.media = null,this._objectUrl = null,this.bufferCodecEventsExpected = this._bufferCodecEventsTotal,this.pendingTracks = {},this.tracks = {}}this.hls.trigger(p.MEDIA_DETACHED, void 0)}onBufferReset() {this.getSourceBufferTypes().forEach((t => {this.resetBuffer(t)})),this._initSourceBuffer(),this.hls.resumeBuffering()}resetBuffer(t) {const e = this.sourceBuffer[t];try {var r;if (e)this.removeBufferListeners(t),this.sourceBuffer[t] = void 0,null != (r = this.mediaSource) && r.sourceBuffers.length && this.mediaSource.removeSourceBuffer(e)} catch (e) {this.warn(`onBufferReset ${t}`, e)}}onBufferCodecs(t, e) {const r = this.getSourceBufferTypes().length, n = Object.keys(e);if (n.forEach((t => {if (r) {const r = this.tracks[t];if (r && "function" == typeof r.buffer.changeType) {var n;const {id: i, codec: o, levelCodec: s, container: a, metadata: c} = e[t], u = se(r.codec, r.levelCodec), l = null == u ? void 0 : u.replace(Ri, "$1");let d = se(o, s);const f = null == (n = d) ? void 0 : n.replace(Ri, "$1");if (d && l !== f) {"audio" === t.slice(0, 5) && (d = oe(d, this.appendSource));const e = `${a};codecs=${d}`;this.appendChangeType(t, e),this.log(`switching codec ${u} to ${d}`),this.tracks[t] = {buffer: r.buffer,codec: o,container: a,levelCodec: s,metadata: c,id: i}}}} elsethis.pendingTracks[t] = e[t]})),r)return;const i = Math.max(this.bufferCodecEventsExpected - 1, 0);this.bufferCodecEventsExpected !== i && (this.log(`${i} bufferCodec event(s) expected ${n.join(",")}`),this.bufferCodecEventsExpected = i),this.mediaSource && "open" === this.mediaSource.readyState && this.checkPendingTracks()}appendChangeType(t, e) {const {operationQueue: r} = this, n = {execute: () => {const n = this.sourceBuffer[t];n && (this.log(`changing ${t} sourceBuffer type to ${e}`),n.changeType(e)),r.shiftAndExecuteNext(t)},onStart: () => {},onComplete: () => {},onError: e => {this.warn(`Failed to change ${t} SourceBuffer type`, e)}};r.append(n, t, !!this.pendingTracks[t])}onBufferAppending(t, e) {const {hls: r, operationQueue: n, tracks: i} = this, {data: o, type: s, frag: a, part: c, chunkMeta: u} = e, l = u.buffering[s], d = self.performance.now();l.start = d;const f = a.stats.buffering, h = c ? c.stats.buffering : null;0 === f.start && (f.start = d),h && 0 === h.start && (h.start = d);const v = i.audio;let y = !1;"audio" === s && "audio/mpeg" === (null == v ? void 0 : v.container) && (y = !this.lastMpegAudioChunk || 1 === u.id || this.lastMpegAudioChunk.sn !== u.sn,this.lastMpegAudioChunk = u);const _ = a.start, b = {execute: () => {if (l.executeStart = self.performance.now(),y) {const t = this.sourceBuffer[s];if (t) {const e = _ - t.timestampOffset;Math.abs(e) >= .1 && (this.log(`Updating audio SourceBuffer timestampOffset to ${_} (delta: ${e}) sn: ${a.sn})`),t.timestampOffset = _)}}this.appendExecutor(o, s)},onStart: () => {},onComplete: () => {const t = self.performance.now();l.executeEnd = l.end = t,0 === f.first && (f.first = t),h && 0 === h.first && (h.first = t);const {sourceBuffer: e} = this, r = {};for (const t in e)r[t] = Ur.getBuffered(e[t]);this.appendErrors[s] = 0,"audio" === s || "video" === s ? this.appendErrors.audiovideo = 0 : (this.appendErrors.audio = 0,this.appendErrors.video = 0),this.hls.trigger(p.BUFFER_APPENDED, {type: s,frag: a,part: c,chunkMeta: u,parent: a.type,timeRanges: r})},onError: t => {const e = {type: g.MEDIA_ERROR,parent: a.type,details: m.BUFFER_APPEND_ERROR,sourceBufferName: s,frag: a,part: c,chunkMeta: u,error: t,err: t,fatal: !1};if (t.code === DOMException.QUOTA_EXCEEDED_ERR)e.details = m.BUFFER_FULL_ERROR;else {const t = ++this.appendErrors[s];e.details = m.BUFFER_APPEND_ERROR,this.warn(`Failed ${t}/${r.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer`),t >= r.config.appendErrorMaxRetry && (e.fatal = !0)}r.trigger(p.ERROR, e)}};n.append(b, s, !!this.pendingTracks[s])}onBufferFlushing(t, e) {const {operationQueue: r} = this, n = t => ({execute: this.removeExecutor.bind(this, t, e.startOffset, e.endOffset),onStart: () => {},onComplete: () => {this.hls.trigger(p.BUFFER_FLUSHED, {type: t})},onError: e => {this.warn(`Failed to remove from ${t} SourceBuffer`, e)}});e.type ? r.append(n(e.type), e.type) : this.getSourceBufferTypes().forEach((t => {r.append(n(t), t)}))}onFragParsed(t, e) {const {frag: r, part: n} = e, i = [], o = n ? n.elementaryStreams : r.elementaryStreams;o[R] ? i.push("audiovideo") : (o[L] && i.push("audio"),o[k] && i.push("video"));0 === i.length && this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(( () => {const t = self.performance.now();r.stats.buffering.end = t,n && (n.stats.buffering.end = t);const e = n ? n.stats : r.stats;this.hls.trigger(p.FRAG_BUFFERED, {frag: r,part: n,stats: e,id: r.type})}), i)}onFragChanged(t, e) {this.trimBuffers()}onBufferEos(t, e) {this.getSourceBufferTypes().reduce(( (t, r) => {const n = this.sourceBuffer[r];return !n || e.type && e.type !== r || (n.ending = !0,n.ended || (n.ended = !0,this.log(`${r} sourceBuffer now EOS`))),t && !(n && !n.ended)}), !0) && (this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(( () => {this.getSourceBufferTypes().forEach((t => {const e = this.sourceBuffer[t];e && (e.ending = !1)}));const {mediaSource: t} = this;t && "open" === t.readyState ? (this.log("Calling mediaSource.endOfStream()"),t.endOfStream()) : t && this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${t.readyState}`)})))}onLevelUpdated(t, {details: e}) {e.fragments.length && (this.details = e,this.getSourceBufferTypes().length ? this.blockBuffers(this.updateMediaElementDuration.bind(this)) : this.updateMediaElementDuration())}trimBuffers() {const {hls: t, details: e, media: r} = this;if (!r || null === e)return;if (!this.getSourceBufferTypes().length)return;const n = t.config, i = r.currentTime, o = e.levelTargetDuration, s = e.live && null !== n.liveBackBufferLength ? n.liveBackBufferLength : n.backBufferLength;if (d(s) && s > 0) {const t = Math.max(s, o), e = Math.floor(i / o) * o - t;this.flushBackBuffer(i, o, e)}if (d(n.frontBufferFlushThreshold) && n.frontBufferFlushThreshold > 0) {const t = Math.max(n.maxBufferLength, n.frontBufferFlushThreshold), e = Math.max(t, o), r = Math.floor(i / o) * o + e;this.flushFrontBuffer(i, o, r)}}flushBackBuffer(t, e, r) {const {details: n, sourceBuffer: i} = this;this.getSourceBufferTypes().forEach((o => {const s = i[o];if (s) {const i = Ur.getBuffered(s);if (i.length > 0 && r > i.start(0)) {if (this.hls.trigger(p.BACK_BUFFER_REACHED, {bufferEnd: r}),null != n && n.live)this.hls.trigger(p.LIVE_BACK_BUFFER_REACHED, {bufferEnd: r});else if (s.ended && i.end(i.length - 1) - t < 2 * e)return void this.log(`Cannot flush ${o} back buffer while SourceBuffer is in ended state`);this.hls.trigger(p.BUFFER_FLUSHING, {startOffset: 0,endOffset: r,type: o})}}}))}flushFrontBuffer(t, e, r) {const {sourceBuffer: n} = this;this.getSourceBufferTypes().forEach((i => {const o = n[i];if (o) {const n = Ur.getBuffered(o), s = n.length;if (s < 2)return;const a = n.start(s - 1), c = n.end(s - 1);if (r > a || t >= a && t <= c)return;if (o.ended && t - c < 2 * e)return void this.log(`Cannot flush ${i} front buffer while SourceBuffer is in ended state`);this.hls.trigger(p.BUFFER_FLUSHING, {startOffset: a,endOffset: 1 / 0,type: i})}}))}updateMediaElementDuration() {if (!this.details || !this.media || !this.mediaSource || "open" !== this.mediaSource.readyState)return;const {details: t, hls: e, media: r, mediaSource: n} = this, i = t.fragments[0].start + t.totalduration, o = r.duration, s = d(n.duration) ? n.duration : 0;t.live && e.config.liveDurationInfinity ? (n.duration = 1 / 0,this.updateSeekableRange(t)) : (i > s && i > o || !d(o)) && (this.log(`Updating Media Source duration to ${i.toFixed(3)}`),n.duration = i)}updateSeekableRange(t) {const e = this.mediaSource, r = t.fragments;if (r.length && t.live && null != e && e.setLiveSeekableRange) {const n = Math.max(0, r[0].start), i = Math.max(n, n + t.totalduration);this.log(`Media Source duration is set to ${e.duration}. Setting seekable range to ${n}-${i}.`),e.setLiveSeekableRange(n, i)}}checkPendingTracks() {const {bufferCodecEventsExpected: t, operationQueue: e, pendingTracks: r} = this, n = Object.keys(r).length;if (n && (!t || 2 === n || "audiovideo"in r)) {this.createSourceBuffers(r),this.pendingTracks = {};const t = this.getSourceBufferTypes();if (t.length)this.hls.trigger(p.BUFFER_CREATED, {tracks: this.tracks}),t.forEach((t => {e.executeNext(t)}));else {const t = new Error("could not create source buffer for media codec(s)");this.hls.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal: !0,error: t,reason: t.message})}}}createSourceBuffers(t) {const {sourceBuffer: e, mediaSource: r} = this;if (!r)throw Error("createSourceBuffers called when mediaSource was null");for (const i in t)if (!e[i]) {var n;const o = t[i];if (!o)throw Error(`source buffer exists for track ${i}, however track does not`);let s = -1 === (null == (n = o.levelCodec) ? void 0 : n.indexOf(",")) ? o.levelCodec : o.codec;s && "audio" === i.slice(0, 5) && (s = oe(s, this.appendSource));const a = `${o.container};codecs=${s}`;this.log(`creating sourceBuffer(${a})`);try {const t = e[i] = r.addSourceBuffer(a), n = i;this.addBufferListener(n, "updatestart", this._onSBUpdateStart),this.addBufferListener(n, "updateend", this._onSBUpdateEnd),this.addBufferListener(n, "error", this._onSBUpdateError),this.appendSource && this.addBufferListener(n, "bufferedchange", ( (t, e) => {const r = e.removedRanges;null != r && r.length && this.hls.trigger(p.BUFFER_FLUSHED, {type: i})})),this.tracks[i] = {buffer: t,codec: s,container: o.container,levelCodec: o.levelCodec,metadata: o.metadata,id: o.id}} catch (t) {this.error(`error while trying to add sourceBuffer: ${t.message}`),this.hls.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.BUFFER_ADD_CODEC_ERROR,fatal: !1,error: t,sourceBufferName: i,mimeType: a})}}}get mediaSrc() {var t, e;const r = (null == (t = this.media) || null == (e = t.querySelector) ? void 0 : e.call(t, "source")) || this.media;return null == r ? void 0 : r.src}_onSBUpdateStart(t) {const {operationQueue: e} = this;e.current(t).onStart()}_onSBUpdateEnd(t) {var e;if ("closed" === (null == (e = this.mediaSource) ? void 0 : e.readyState))return void this.resetBuffer(t);const {operationQueue: r} = this;r.current(t).onComplete(),r.shiftAndExecuteNext(t)}_onSBUpdateError(t, e) {var r;const n = new Error(`${t} SourceBuffer error. MediaSource readyState: ${null == (r = this.mediaSource) ? void 0 : r.readyState}`);this.error(`${n}`, e),this.hls.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.BUFFER_APPENDING_ERROR,sourceBufferName: t,error: n,fatal: !1});const i = this.operationQueue.current(t);i && i.onError(n)}removeExecutor(t, e, r) {const {media: n, mediaSource: i, operationQueue: o, sourceBuffer: s} = this, a = s[t];if (!n || !i || !a)return this.warn(`Attempting to remove from the ${t} SourceBuffer, but it does not exist`),void o.shiftAndExecuteNext(t);const c = d(n.duration) ? n.duration : 1 / 0, u = d(i.duration) ? i.duration : 1 / 0, l = Math.max(0, e), f = Math.min(r, c, u);f > l && (!a.ending || a.ended) ? (a.ended = !1,this.log(`Removing [${l},${f}] from the ${t} SourceBuffer`),a.remove(l, f)) : o.shiftAndExecuteNext(t)}appendExecutor(t, e) {const r = this.sourceBuffer[e];if (r)r.ended = !1,r.appendBuffer(t);else if (!this.pendingTracks[e])throw new Error(`Attempting to append to the ${e} SourceBuffer, but it does not exist`)}blockBuffers(t, e=this.getSourceBufferTypes()) {if (!e.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);const {operationQueue: r} = this, n = e.map((t => r.appendBlocker(t)));Promise.all(n).then(( () => {t(),e.forEach((t => {const e = this.sourceBuffer[t];null != e && e.updating || r.shiftAndExecuteNext(t)}))}))}getSourceBufferTypes() {return Object.keys(this.sourceBuffer)}addBufferListener(t, e, r) {const n = this.sourceBuffer[t];if (!n)return;const i = r.bind(this, t);this.listeners[t].push({event: e,listener: i}),n.addEventListener(e, i)}removeBufferListeners(t) {const e = this.sourceBuffer[t];e && this.listeners[t].forEach((t => {e.removeEventListener(t.event, t.listener)}))}}function Pi(t) {const e = t.querySelectorAll("source");[].slice.call(e).forEach((e => {t.removeChild(e)}))}const Di = {42: 225,92: 233,94: 237,95: 243,96: 250,123: 231,124: 247,125: 209,126: 241,127: 9608,128: 174,129: 176,130: 189,131: 191,132: 8482,133: 162,134: 163,135: 9834,136: 224,137: 32,138: 232,139: 226,140: 234,141: 238,142: 244,143: 251,144: 193,145: 201,146: 211,147: 218,148: 220,149: 252,150: 8216,151: 161,152: 42,153: 8217,154: 9473,155: 169,156: 8480,157: 8226,158: 8220,159: 8221,160: 192,161: 194,162: 199,163: 200,164: 202,165: 203,166: 235,167: 206,168: 207,169: 239,170: 212,171: 217,172: 249,173: 219,174: 171,175: 187,176: 195,177: 227,178: 205,179: 204,180: 236,181: 210,182: 242,183: 213,184: 245,185: 123,186: 125,187: 92,188: 94,189: 95,190: 124,191: 8764,192: 196,193: 228,194: 214,195: 246,196: 223,197: 165,198: 164,199: 9475,200: 197,201: 229,202: 216,203: 248,204: 9487,205: 9491,206: 9495,207: 9499}, Oi = t => String.fromCharCode(Di[t] || t), Mi = 15, Ui = 100, Fi = {17: 1,18: 3,21: 5,22: 7,23: 9,16: 11,19: 12,20: 14}, Ni = {17: 2,18: 4,21: 6,22: 8,23: 10,19: 13,20: 15}, Bi = {25: 1,26: 3,29: 5,30: 7,31: 9,24: 11,27: 12,28: 14}, ji = {25: 2,26: 4,29: 6,30: 8,31: 10,27: 13,28: 15}, $i = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "black", "transparent"];class Hi {constructor() {this.time = null,this.verboseLevel = 0}log(t, e) {if (this.verboseLevel >= t) {const r = "function" == typeof e ? e() : e;w.log(`${this.time} [${t}] ${r}`)}}}const Gi = function(t) {const e = [];for (let r = 0; r < t.length; r++)e.push(t[r].toString(16));return e};class Ki {constructor() {this.foreground = "white",this.underline = !1,this.italics = !1,this.background = "black",this.flash = !1}reset() {this.foreground = "white",this.underline = !1,this.italics = !1,this.background = "black",this.flash = !1}setStyles(t) {const e = ["foreground", "underline", "italics", "background", "flash"];for (let r = 0; r < e.length; r++) {const n = e[r];t.hasOwnProperty(n) && (this[n] = t[n])}}isDefault() {return "white" === this.foreground && !this.underline && !this.italics && "black" === this.background && !this.flash}equals(t) {return this.foreground === t.foreground && this.underline === t.underline && this.italics === t.italics && this.background === t.background && this.flash === t.flash}copy(t) {this.foreground = t.foreground,this.underline = t.underline,this.italics = t.italics,this.background = t.background,this.flash = t.flash}toString() {return "color=" + this.foreground + ", underline=" + this.underline + ", italics=" + this.italics + ", background=" + this.background + ", flash=" + this.flash}}class qi {constructor() {this.uchar = " ",this.penState = new Ki}reset() {this.uchar = " ",this.penState.reset()}setChar(t, e) {this.uchar = t,this.penState.copy(e)}setPenState(t) {this.penState.copy(t)}equals(t) {return this.uchar === t.uchar && this.penState.equals(t.penState)}copy(t) {this.uchar = t.uchar,this.penState.copy(t.penState)}isEmpty() {return " " === this.uchar && this.penState.isDefault()}}class Wi {constructor(t) {this.chars = [],this.pos = 0,this.currPenState = new Ki,this.cueStartTime = null,this.logger = void 0;for (let t = 0; t < Ui; t++)this.chars.push(new qi);this.logger = t}equals(t) {for (let e = 0; e < Ui; e++)if (!this.chars[e].equals(t.chars[e]))return !1;return !0}copy(t) {for (let e = 0; e < Ui; e++)this.chars[e].copy(t.chars[e])}isEmpty() {let t = !0;for (let e = 0; e < Ui; e++)if (!this.chars[e].isEmpty()) {t = !1;break}return t}setCursor(t) {this.pos !== t && (this.pos = t),this.pos < 0 ? (this.logger.log(3, "Negative cursor position " + this.pos),this.pos = 0) : this.pos > Ui && (this.logger.log(3, "Too large cursor position " + this.pos),this.pos = Ui)}moveCursor(t) {const e = this.pos + t;if (t > 1)for (let t = this.pos + 1; t < e + 1; t++)this.chars[t].setPenState(this.currPenState);this.setCursor(e)}backSpace() {this.moveCursor(-1),this.chars[this.pos].setChar(" ", this.currPenState)}insertChar(t) {t >= 144 && this.backSpace();const e = Oi(t);this.pos >= Ui ? this.logger.log(0, ( () => "Cannot insert " + t.toString(16) + " (" + e + ") at position " + this.pos + ". Skipping it!")) : (this.chars[this.pos].setChar(e, this.currPenState),this.moveCursor(1))}clearFromPos(t) {let e;for (e = t; e < Ui; e++)this.chars[e].reset()}clear() {this.clearFromPos(0),this.pos = 0,this.currPenState.reset()}clearToEndOfRow() {this.clearFromPos(this.pos)}getTextString() {const t = [];let e = !0;for (let r = 0; r < Ui; r++) {const n = this.chars[r].uchar;" " !== n && (e = !1),t.push(n)}return e ? "" : t.join("")}setPenStyles(t) {this.currPenState.setStyles(t);this.chars[this.pos].setPenState(this.currPenState)}}class Vi {constructor(t) {this.rows = [],this.currRow = 14,this.nrRollUpRows = null,this.lastOutputScreen = null,this.logger = void 0;for (let e = 0; e < Mi; e++)this.rows.push(new Wi(t));this.logger = t}reset() {for (let t = 0; t < Mi; t++)this.rows[t].clear();this.currRow = 14}equals(t) {let e = !0;for (let r = 0; r < Mi; r++)if (!this.rows[r].equals(t.rows[r])) {e = !1;break}return e}copy(t) {for (let e = 0; e < Mi; e++)this.rows[e].copy(t.rows[e])}isEmpty() {let t = !0;for (let e = 0; e < Mi; e++)if (!this.rows[e].isEmpty()) {t = !1;break}return t}backSpace() {this.rows[this.currRow].backSpace()}clearToEndOfRow() {this.rows[this.currRow].clearToEndOfRow()}insertChar(t) {this.rows[this.currRow].insertChar(t)}setPen(t) {this.rows[this.currRow].setPenStyles(t)}moveCursor(t) {this.rows[this.currRow].moveCursor(t)}setCursor(t) {this.logger.log(2, "setCursor: " + t);this.rows[this.currRow].setCursor(t)}setPAC(t) {this.logger.log(2, ( () => "pacData = " + JSON.stringify(t)));let e = t.row - 1;if (this.nrRollUpRows && e < this.nrRollUpRows - 1 && (e = this.nrRollUpRows - 1),this.nrRollUpRows && this.currRow !== e) {for (let t = 0; t < Mi; t++)this.rows[t].clear();const t = this.currRow + 1 - this.nrRollUpRows, r = this.lastOutputScreen;if (r) {const n = r.rows[t].cueStartTime, i = this.logger.time;if (null !== n && null !== i && n < i)for (let n = 0; n < this.nrRollUpRows; n++)this.rows[e - this.nrRollUpRows + n + 1].copy(r.rows[t + n])}}this.currRow = e;const r = this.rows[this.currRow];if (null !== t.indent) {const e = t.indent, n = Math.max(e - 1, 0);r.setCursor(t.indent),t.color = r.chars[n].penState.foreground}const n = {foreground: t.color,underline: t.underline,italics: t.italics,background: "black",flash: !1};this.setPen(n)}setBkgData(t) {this.logger.log(2, ( () => "bkgData = " + JSON.stringify(t))),this.backSpace(),this.setPen(t),this.insertChar(32)}setRollUpRows(t) {this.nrRollUpRows = t}rollUp() {if (null === this.nrRollUpRows)return void this.logger.log(3, "roll_up but nrRollUpRows not set yet");this.logger.log(1, ( () => this.getDisplayText()));const t = this.currRow + 1 - this.nrRollUpRows, e = this.rows.splice(t, 1)[0];e.clear(),this.rows.splice(this.currRow, 0, e),this.logger.log(2, "Rolling up")}getDisplayText(t) {t = t || !1;const e = [];let r = "", n = -1;for (let r = 0; r < Mi; r++) {const i = this.rows[r].getTextString();i && (n = r + 1,t ? e.push("Row " + n + ": '" + i + "'") : e.push(i.trim()))}return e.length > 0 && (r = t ? "[" + e.join(" | ") + "]" : e.join("\n")),r}getTextAndFormat() {return this.rows}}class zi {constructor(t, e, r) {this.chNr = void 0,this.outputFilter = void 0,this.mode = void 0,this.verbose = void 0,this.displayedMemory = void 0,this.nonDisplayedMemory = void 0,this.lastOutputScreen = void 0,this.currRollUpRow = void 0,this.writeScreen = void 0,this.cueStartTime = void 0,this.logger = void 0,this.chNr = t,this.outputFilter = e,this.mode = null,this.verbose = 0,this.displayedMemory = new Vi(r),this.nonDisplayedMemory = new Vi(r),this.lastOutputScreen = new Vi(r),this.currRollUpRow = this.displayedMemory.rows[14],this.writeScreen = this.displayedMemory,this.mode = null,this.cueStartTime = null,this.logger = r}reset() {this.mode = null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow = this.displayedMemory.rows[14],this.writeScreen = this.displayedMemory,this.mode = null,this.cueStartTime = null}getHandler() {return this.outputFilter}setHandler(t) {this.outputFilter = t}setPAC(t) {this.writeScreen.setPAC(t)}setBkgData(t) {this.writeScreen.setBkgData(t)}setMode(t) {t !== this.mode && (this.mode = t,this.logger.log(2, ( () => "MODE=" + t)),"MODE_POP-ON" === this.mode ? this.writeScreen = this.nonDisplayedMemory : (this.writeScreen = this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP" !== this.mode && (this.displayedMemory.nrRollUpRows = null,this.nonDisplayedMemory.nrRollUpRows = null),this.mode = t)}insertChars(t) {for (let e = 0; e < t.length; e++)this.writeScreen.insertChar(t[e]);const e = this.writeScreen === this.displayedMemory ? "DISP" : "NON_DISP";this.logger.log(2, ( () => e + ": " + this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON" !== this.mode && "MODE_ROLL-UP" !== this.mode || (this.logger.log(1, ( () => "DISPLAYED: " + this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL() {this.logger.log(2, "RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS() {this.logger.log(2, "BS - BackSpace"),"MODE_TEXT" !== this.mode && (this.writeScreen.backSpace(),this.writeScreen === this.displayedMemory && this.outputDataUpdate())}ccAOF() {}ccAON() {}ccDER() {this.logger.log(2, "DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(t) {this.logger.log(2, "RU(" + t + ") - Roll Up"),this.writeScreen = this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}ccFON() {this.logger.log(2, "FON - Flash On"),this.writeScreen.setPen({flash: !0})}ccRDC() {this.logger.log(2, "RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR() {this.logger.log(2, "TR"),this.setMode("MODE_TEXT")}ccRTD() {this.logger.log(2, "RTD"),this.setMode("MODE_TEXT")}ccEDM() {this.logger.log(2, "EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR() {this.logger.log(2, "CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM() {this.logger.log(2, "ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC() {if (this.logger.log(2, "EOC - End Of Caption"),"MODE_POP-ON" === this.mode) {const t = this.displayedMemory;this.displayedMemory = this.nonDisplayedMemory,this.nonDisplayedMemory = t,this.writeScreen = this.nonDisplayedMemory,this.logger.log(1, ( () => "DISP: " + this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(t) {this.logger.log(2, "TO(" + t + ") - Tab Offset"),this.writeScreen.moveCursor(t)}ccMIDROW(t) {const e = {flash: !1};if (e.underline = t % 2 == 1,e.italics = t >= 46,e.italics)e.foreground = "white";else {const r = Math.floor(t / 2) - 16, n = ["white", "green", "blue", "cyan", "red", "yellow", "magenta"];e.foreground = n[r]}this.logger.log(2, "MIDROW: " + JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(t=!1) {const e = this.logger.time;null !== e && this.outputFilter && (null !== this.cueStartTime || this.displayedMemory.isEmpty() ? this.displayedMemory.equals(this.lastOutputScreen) || (this.outputFilter.newCue(this.cueStartTime, e, this.lastOutputScreen),t && this.outputFilter.dispatchCue && this.outputFilter.dispatchCue(),this.cueStartTime = this.displayedMemory.isEmpty() ? null : e) : this.cueStartTime = e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(t) {this.outputFilter && (this.displayedMemory.isEmpty() || (this.outputFilter.newCue && this.outputFilter.newCue(this.cueStartTime, t, this.displayedMemory),this.cueStartTime = t))}}class Yi {constructor(t, e, r) {this.channels = void 0,this.currentChannel = 0,this.cmdHistory = {a: null,b: null},this.logger = void 0;const n = this.logger = new Hi;this.channels = [null, new zi(t,e,n), new zi(t + 1,r,n)]}getHandler(t) {return this.channels[t].getHandler()}setHandler(t, e) {this.channels[t].setHandler(e)}addData(t, e) {this.logger.time = t;for (let t = 0; t < e.length; t += 2) {const r = 127 & e[t], n = 127 & e[t + 1];let i = !1, o = null;if (0 === r && 0 === n)continue;this.logger.log(3, ( () => "[" + Gi([e[t], e[t + 1]]) + "] -> (" + Gi([r, n]) + ")"));const s = this.cmdHistory;if (r >= 16 && r <= 31) {if (Xi(r, n, s)) {Qi(null, null, s),this.logger.log(3, ( () => "Repeated command (" + Gi([r, n]) + ") is dropped"));continue}Qi(r, n, this.cmdHistory),i = this.parseCmd(r, n),i || (i = this.parseMidrow(r, n)),i || (i = this.parsePAC(r, n)),i || (i = this.parseBackgroundAttributes(r, n))} elseQi(null, null, s);if (!i && (o = this.parseChars(r, n),o)) {const t = this.currentChannel;if (t && t > 0) {this.channels[t].insertChars(o)} elsethis.logger.log(2, "No channel found yet. TEXT-MODE?")}i || o || this.logger.log(2, ( () => "Couldn't parse cleaned data " + Gi([r, n]) + " orig: " + Gi([e[t], e[t + 1]])))}}parseCmd(t, e) {if (!((20 === t || 28 === t || 21 === t || 29 === t) && e >= 32 && e <= 47) && !((23 === t || 31 === t) && e >= 33 && e <= 35))return !1;const r = 20 === t || 21 === t || 23 === t ? 1 : 2, n = this.channels[r];return 20 === t || 21 === t || 28 === t || 29 === t ? 32 === e ? n.ccRCL() : 33 === e ? n.ccBS() : 34 === e ? n.ccAOF() : 35 === e ? n.ccAON() : 36 === e ? n.ccDER() : 37 === e ? n.ccRU(2) : 38 === e ? n.ccRU(3) : 39 === e ? n.ccRU(4) : 40 === e ? n.ccFON() : 41 === e ? n.ccRDC() : 42 === e ? n.ccTR() : 43 === e ? n.ccRTD() : 44 === e ? n.ccEDM() : 45 === e ? n.ccCR() : 46 === e ? n.ccENM() : 47 === e && n.ccEOC() : n.ccTO(e - 32),this.currentChannel = r,!0}parseMidrow(t, e) {let r = 0;if ((17 === t || 25 === t) && e >= 32 && e <= 47) {if (r = 17 === t ? 1 : 2,r !== this.currentChannel)return this.logger.log(0, "Mismatch channel in midrow parsing"),!1;const n = this.channels[r];return !!n && (n.ccMIDROW(e),this.logger.log(3, ( () => "MIDROW (" + Gi([t, e]) + ")")),!0)}return !1}parsePAC(t, e) {let r;if (!((t >= 17 && t <= 23 || t >= 25 && t <= 31) && e >= 64 && e <= 127) && !((16 === t || 24 === t) && e >= 64 && e <= 95))return !1;const n = t <= 23 ? 1 : 2;r = e >= 64 && e <= 95 ? 1 === n ? Fi[t] : Bi[t] : 1 === n ? Ni[t] : ji[t];const i = this.channels[n];return !!i && (i.setPAC(this.interpretPAC(r, e)),this.currentChannel = n,!0)}interpretPAC(t, e) {let r;const n = {color: null,italics: !1,indent: null,underline: !1,row: t};return r = e > 95 ? e - 96 : e - 64,n.underline = !(1 & ~r),r <= 13 ? n.color = ["white", "green", "blue", "cyan", "red", "yellow", "magenta", "white"][Math.floor(r / 2)] : r <= 15 ? (n.italics = !0,n.color = "white") : n.indent = 4 * Math.floor((r - 16) / 2),n}parseChars(t, e) {let r, n = null, i = null;if (t >= 25 ? (r = 2,i = t - 8) : (r = 1,i = t),i >= 17 && i <= 19) {let t;t = 17 === i ? e + 80 : 18 === i ? e + 112 : e + 144,this.logger.log(2, ( () => "Special char '" + Oi(t) + "' in channel " + r)),n = [t]} elset >= 32 && t <= 127 && (n = 0 === e ? [t] : [t, e]);return n && this.logger.log(3, ( () => "Char codes =  " + Gi(n).join(","))),n}parseBackgroundAttributes(t, e) {if (!((16 === t || 24 === t) && e >= 32 && e <= 47) && !((23 === t || 31 === t) && e >= 45 && e <= 47))return !1;let r;const n = {};16 === t || 24 === t ? (r = Math.floor((e - 32) / 2),n.background = $i[r],e % 2 == 1 && (n.background = n.background + "_semi")) : 45 === e ? n.background = "transparent" : (n.foreground = "black",47 === e && (n.underline = !0));const i = t <= 23 ? 1 : 2;return this.channels[i].setBkgData(n),!0}reset() {for (let t = 0; t < Object.keys(this.channels).length; t++) {const e = this.channels[t];e && e.reset()}Qi(null, null, this.cmdHistory)}cueSplitAtTime(t) {for (let e = 0; e < this.channels.length; e++) {const r = this.channels[e];r && r.cueSplitAtTime(t)}}}function Qi(t, e, r) {r.a = t,r.b = e}function Xi(t, e, r) {return r.a === t && r.b === e}class Ji {constructor(t, e) {this.timelineController = void 0,this.cueRanges = [],this.trackName = void 0,this.startTime = null,this.endTime = null,this.screen = null,this.timelineController = t,this.trackName = e}dispatchCue() {null !== this.startTime && (this.timelineController.addCues(this.trackName, this.startTime, this.endTime, this.screen, this.cueRanges),this.startTime = null)}newCue(t, e, r) {(null === this.startTime || this.startTime > t) && (this.startTime = t),this.endTime = e,this.screen = r,this.timelineController.createCaptionsTrack(this.trackName)}reset() {this.cueRanges = [],this.startTime = null}}var Zi = function() {if (null != N && N.VTTCue)return self.VTTCue;const t = ["", "lr", "rl"], e = ["start", "middle", "end", "left", "right"];function r(t, e) {if ("string" != typeof e)return !1;if (!Array.isArray(t))return !1;const r = e.toLowerCase();return !!~t.indexOf(r) && r}function n(t) {return r(e, t)}function i(t, ...e) {let r = 1;for (; r < arguments.length; r++) {const e = arguments[r];for (const r in e)t[r] = e[r]}return t}function o(e, o, s) {const a = this, c = {enumerable: !0};a.hasBeenReset = !1;let u = "", l = !1, d = e, f = o, h = s, p = null, g = "", m = !0, v = "auto", y = "start", _ = 50, b = "middle", w = 50, E = "middle";Object.defineProperty(a, "id", i({}, c, {get: function() {return u},set: function(t) {u = "" + t}})),Object.defineProperty(a, "pauseOnExit", i({}, c, {get: function() {return l},set: function(t) {l = !!t}})),Object.defineProperty(a, "startTime", i({}, c, {get: function() {return d},set: function(t) {if ("number" != typeof t)throw new TypeError("Start time must be set to a number.");d = t,this.hasBeenReset = !0}})),Object.defineProperty(a, "endTime", i({}, c, {get: function() {return f},set: function(t) {if ("number" != typeof t)throw new TypeError("End time must be set to a number.");f = t,this.hasBeenReset = !0}})),Object.defineProperty(a, "text", i({}, c, {get: function() {return h},set: function(t) {h = "" + t,this.hasBeenReset = !0}})),Object.defineProperty(a, "region", i({}, c, {get: function() {return p},set: function(t) {p = t,this.hasBeenReset = !0}})),Object.defineProperty(a, "vertical", i({}, c, {get: function() {return g},set: function(e) {const n = function(e) {return r(t, e)}(e);if (!1 === n)throw new SyntaxError("An invalid or illegal string was specified.");g = n,this.hasBeenReset = !0}})),Object.defineProperty(a, "snapToLines", i({}, c, {get: function() {return m},set: function(t) {m = !!t,this.hasBeenReset = !0}})),Object.defineProperty(a, "line", i({}, c, {get: function() {return v},set: function(t) {if ("number" != typeof t && "auto" !== t)throw new SyntaxError("An invalid number or illegal string was specified.");v = t,this.hasBeenReset = !0}})),Object.defineProperty(a, "lineAlign", i({}, c, {get: function() {return y},set: function(t) {const e = n(t);if (!e)throw new SyntaxError("An invalid or illegal string was specified.");y = e,this.hasBeenReset = !0}})),Object.defineProperty(a, "position", i({}, c, {get: function() {return _},set: function(t) {if (t < 0 || t > 100)throw new Error("Position must be between 0 and 100.");_ = t,this.hasBeenReset = !0}})),Object.defineProperty(a, "positionAlign", i({}, c, {get: function() {return b},set: function(t) {const e = n(t);if (!e)throw new SyntaxError("An invalid or illegal string was specified.");b = e,this.hasBeenReset = !0}})),Object.defineProperty(a, "size", i({}, c, {get: function() {return w},set: function(t) {if (t < 0 || t > 100)throw new Error("Size must be between 0 and 100.");w = t,this.hasBeenReset = !0}})),Object.defineProperty(a, "align", i({}, c, {get: function() {return E},set: function(t) {const e = n(t);if (!e)throw new SyntaxError("An invalid or illegal string was specified.");E = e,this.hasBeenReset = !0}})),a.displayState = void 0}return o.prototype.getCueAsHTML = function() {return self.WebVTT.convertCueToDOMTree(self, this.text)},o}();class to {decode(t, e) {if (!t)return "";if ("string" != typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function eo(t) {function e(t, e, r, n) {return 3600 * (0 | t) + 60 * (0 | e) + (0 | r) + parseFloat(n || 0)}const r = t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r ? parseFloat(r[2]) > 59 ? e(r[2], r[3], 0, r[4]) : e(r[1], r[2], r[3], r[4]) : null}class ro {constructor() {this.values = Object.create(null)}set(t, e) {this.get(t) || "" === e || (this.values[t] = e)}get(t, e, r) {return r ? this.has(t) ? this.values[t] : e[r] : this.has(t) ? this.values[t] : e}has(t) {return t in this.values}alt(t, e, r) {for (let n = 0; n < r.length; ++n)if (e === r[n]) {this.set(t, e);break}}integer(t, e) {/^-?\d+$/.test(e) && this.set(t, parseInt(e, 10))}percent(t, e) {if (/^([\d]{1,3})(\.[\d]*)?%$/.test(e)) {const r = parseFloat(e);if (r >= 0 && r <= 100)return this.set(t, r),!0}return !1}}function no(t, e, r, n) {const i = n ? t.split(n) : [t];for (const t in i) {if ("string" != typeof i[t])continue;const n = i[t].split(r);if (2 !== n.length)continue;e(n[0], n[1])}}const io = new Zi(0,0,""), oo = "middle" === io.align ? "middle" : "center";function so(t, e, r) {const n = t;function i() {const e = eo(t);if (null === e)throw new Error("Malformed timestamp: " + n);return t = t.replace(/^[^\sa-zA-Z-]+/, ""),e}function o() {t = t.replace(/^\s+/, "")}if (o(),e.startTime = i(),o(),"--\x3e" !== t.slice(0, 3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): " + n);t = t.slice(3),o(),e.endTime = i(),o(),function(t, e) {const n = new ro;no(t, (function(t, e) {let i;switch (t) {case "region":for (let i = r.length - 1; i >= 0; i--)if (r[i].id === e) {n.set(t, r[i].region);break}break;case "vertical":n.alt(t, e, ["rl", "lr"]);break;case "line":i = e.split(","),n.integer(t, i[0]),n.percent(t, i[0]) && n.set("snapToLines", !1),n.alt(t, i[0], ["auto"]),2 === i.length && n.alt("lineAlign", i[1], ["start", oo, "end"]);break;case "position":i = e.split(","),n.percent(t, i[0]),2 === i.length && n.alt("positionAlign", i[1], ["start", oo, "end", "line-left", "line-right", "auto"]);break;case "size":n.percent(t, e);break;case "align":n.alt(t, e, ["start", oo, "end", "left", "right"])}}), /:/, /\s/),e.region = n.get("region", null),e.vertical = n.get("vertical", "");let i = n.get("line", "auto");"auto" === i && -1 === io.line && (i = -1),e.line = i,e.lineAlign = n.get("lineAlign", "start"),e.snapToLines = n.get("snapToLines", !0),e.size = n.get("size", 100),e.align = n.get("align", oo);let o = n.get("position", "auto");"auto" === o && 50 === io.position && (o = "start" === e.align || "left" === e.align ? 0 : "end" === e.align || "right" === e.align ? 100 : 50),e.position = o}(t, e)}function ao(t) {return t.replace(/<br(?: \/)?>/gi, "\n")}class co {constructor() {this.state = "INITIAL",this.buffer = "",this.decoder = new to,this.regionList = [],this.cue = null,this.oncue = void 0,this.onparsingerror = void 0,this.onflush = void 0}parse(t) {const e = this;function r() {let t = e.buffer, r = 0;for (t = ao(t); r < t.length && "\r" !== t[r] && "\n" !== t[r]; )++r;const n = t.slice(0, r);return "\r" === t[r] && ++r,"\n" === t[r] && ++r,e.buffer = t.slice(r),n}t && (e.buffer += e.decoder.decode(t, {stream: !0}));try {let t = "";if ("INITIAL" === e.state) {if (!/\r\n|\n/.test(e.buffer))return this;t = r();const n = t.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if (null == n || !n[0])throw new Error("Malformed WebVTT signature.");e.state = "HEADER"}let n = !1;for (; e.buffer; ) {if (!/\r\n|\n/.test(e.buffer))return this;switch (n ? n = !1 : t = r(),e.state) {case "HEADER":/:/.test(t) ? no(t, (function(t, e) {}), /:/) : t || (e.state = "ID");continue;case "NOTE":t || (e.state = "ID");continue;case "ID":if (/^NOTE($|[ \t])/.test(t)) {e.state = "NOTE";break}if (!t)continue;if (e.cue = new Zi(0,0,""),e.state = "CUE",-1 === t.indexOf("--\x3e")) {e.cue.id = t;continue}case "CUE":if (!e.cue) {e.state = "BADCUE";continue}try {so(t, e.cue, e.regionList)} catch (t) {e.cue = null,e.state = "BADCUE";continue}e.state = "CUETEXT";continue;case "CUETEXT":{const r = -1 !== t.indexOf("--\x3e");if (!t || r && (n = !0)) {e.oncue && e.cue && e.oncue(e.cue),e.cue = null,e.state = "ID";continue}if (null === e.cue)continue;e.cue.text && (e.cue.text += "\n"),e.cue.text += t}continue;case "BADCUE":t || (e.state = "ID")}}} catch (t) {"CUETEXT" === e.state && e.cue && e.oncue && e.oncue(e.cue),e.cue = null,e.state = "INITIAL" === e.state ? "BADWEBVTT" : "BADCUE"}return this}flush() {const t = this;try {if ((t.cue || "HEADER" === t.state) && (t.buffer += "\n\n",t.parse()),"INITIAL" === t.state || "BADWEBVTT" === t.state)throw new Error("Malformed WebVTT signature.")} catch (e) {t.onparsingerror && t.onparsingerror(e)}return t.onflush && t.onflush(),this}}const uo = /\r\n|\n\r|\n|\r/g, lo = function(t, e, r=0) {return t.slice(r, r + e.length) === e}, fo = function(t) {let e = 5381, r = t.length;for (; r; )e = 33 * e ^ t.charCodeAt(--r);return (e >>> 0).toString()};function ho(t, e, r) {return fo(t.toString()) + fo(e.toString()) + fo(r)}function po(t, e, r, n, i, o, s) {const a = new co, c = ht(new Uint8Array(t)).trim().replace(uo, "\n").split("\n"), u = [], l = e ? function(t, e=1) {return ei(t, ti, 1 / e)}(e.baseTime, e.timescale) : 0;let f, h = "00:00.000", p = 0, g = 0, m = !0;a.oncue = function(t) {const o = r[n];let s = r.ccOffset;const a = (p - l) / 9e4;if (null != o && o.new && (void 0 !== g ? s = r.ccOffset = o.start : function(t, e, r) {let n = t[e], i = t[n.prevCC];if (!i || !i.new && n.new)return t.ccOffset = t.presentationOffset = n.start,void (n.new = !1);for (; null != (o = i) && o.new; ) {var o;t.ccOffset += n.start - i.start,n.new = !1,n = i,i = t[n.prevCC]}t.presentationOffset = r}(r, n, a)),a) {if (!e)return void (f = new Error("Missing initPTS for VTT MPEGTS"));s = a - r.presentationOffset}const c = t.endTime - t.startTime, d = ai(9e4 * (t.startTime + s - g), 9e4 * i) / 9e4;t.startTime = Math.max(d, 0),t.endTime = Math.max(d + c, 0);const h = t.text.trim();t.text = decodeURIComponent(encodeURIComponent(h)),t.id || (t.id = ho(t.startTime, t.endTime, h)),t.endTime > 0 && u.push(t)},a.onparsingerror = function(t) {f = t},a.onflush = function() {f ? s(f) : o(u)},c.forEach((t => {if (m) {if (lo(t, "X-TIMESTAMP-MAP=")) {m = !1,t.slice(16).split(",").forEach((t => {lo(t, "LOCAL:") ? h = t.slice(6) : lo(t, "MPEGTS:") && (p = parseInt(t.slice(7)))}));try {g = function(t) {let e = parseInt(t.slice(-3));const r = parseInt(t.slice(-6, -4)), n = parseInt(t.slice(-9, -7)), i = t.length > 9 ? parseInt(t.substring(0, t.indexOf(":"))) : 0;if (!(d(e) && d(r) && d(n) && d(i)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);return e += 1e3 * r,e += 6e4 * n,e += 36e5 * i,e}(h) / 1e3} catch (t) {f = t}return}"" === t && (m = !1)}a.parse(t + "\n")})),a.flush()}const go = "stpp.ttml.im1t", mo = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/, vo = /^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/, yo = {left: "start",center: "center",right: "end",start: "start",end: "end"};function _o(t, e, r, n) {const i = It(new Uint8Array(t), ["mdat"]);if (0 === i.length)return void n(new Error("Could not parse IMSC1 mdat"));const o = i.map((t => ht(t))), s = function(t, e, r=1, n=!1) {return ei(t, e, 1 / r, n)}(e.baseTime, 1, e.timescale);try {o.forEach((t => r(function(t, e) {const r = (new DOMParser).parseFromString(t, "text/xml"), n = r.getElementsByTagName("tt")[0];if (!n)throw new Error("Invalid ttml");const i = {frameRate: 30,subFrameRate: 1,frameRateMultiplier: 0,tickRate: 0}, o = Object.keys(i).reduce(( (t, e) => (t[e] = n.getAttribute(`ttp:${e}`) || i[e],t)), {}), s = "preserve" !== n.getAttribute("xml:space"), a = wo(bo(n, "styling", "style")), c = wo(bo(n, "layout", "region")), u = bo(n, "body", "[begin]");return [].map.call(u, (t => {const r = Eo(t, s);if (!r || !t.hasAttribute("begin"))return null;const n = Ao(t.getAttribute("begin"), o), i = Ao(t.getAttribute("dur"), o);let u = Ao(t.getAttribute("end"), o);if (null === n)throw So(t);if (null === u) {if (null === i)throw So(t);u = n + i}const d = new Zi(n - e,u - e,r);d.id = ho(d.startTime, d.endTime, d.text);const f = function(t, e, r) {const n = "http://www.w3.org/ns/ttml#styling";let i = null;const o = ["displayAlign", "textAlign", "color", "backgroundColor", "fontSize", "fontFamily"], s = null != t && t.hasAttribute("style") ? t.getAttribute("style") : null;s && r.hasOwnProperty(s) && (i = r[s]);return o.reduce(( (r, o) => {const s = To(e, n, o) || To(t, n, o) || To(i, n, o);return s && (r[o] = s),r}), {})}(c[t.getAttribute("region")], a[t.getAttribute("style")], a), {textAlign: h} = f;if (h) {const t = yo[h];t && (d.lineAlign = t),d.align = h}return l(d, f),d})).filter((t => null !== t))}(t, s))))} catch (t) {n(t)}}function bo(t, e, r) {const n = t.getElementsByTagName(e)[0];return n ? [].slice.call(n.querySelectorAll(r)) : []}function wo(t) {return t.reduce(( (t, e) => {const r = e.getAttribute("xml:id");return r && (t[r] = e),t}), {})}function Eo(t, e) {return [].slice.call(t.childNodes).reduce(( (t, r, n) => {var i;return "br" === r.nodeName && n ? t + "\n" : null != (i = r.childNodes) && i.length ? Eo(r, e) : e ? t + r.textContent.trim().replace(/\s+/g, " ") : t + r.textContent}), "")}function To(t, e, r) {return t && t.hasAttributeNS(e, r) ? t.getAttributeNS(e, r) : null}function So(t) {return new Error(`Could not parse ttml timestamp ${t}`)}function Ao(t, e) {if (!t)return null;let r = eo(t);return null === r && (mo.test(t) ? r = function(t, e) {const r = mo.exec(t), n = (0 | r[4]) + (0 | r[5]) / e.subFrameRate;return 3600 * (0 | r[1]) + 60 * (0 | r[2]) + (0 | r[3]) + n / e.frameRate}(t, e) : vo.test(t) && (r = function(t, e) {const r = vo.exec(t), n = Number(r[1]);switch (r[2]) {case "h":return 3600 * n;case "m":return 60 * n;case "ms":return 1e3 * n;case "f":return n / e.frameRate;case "t":return n / e.tickRate}return n}(t, e))),r}class Io {constructor(t) {this.hls = void 0,this.media = null,this.config = void 0,this.enabled = !0,this.Cues = void 0,this.textTracks = [],this.tracks = [],this.initPTS = [],this.unparsedVttFrags = [],this.captionsTracks = {},this.nonNativeCaptionsTracks = {},this.cea608Parser1 = void 0,this.cea608Parser2 = void 0,this.lastCc = -1,this.lastSn = -1,this.lastPartIndex = -1,this.prevCC = -1,this.vttCCs = {ccOffset: 0,presentationOffset: 0,0: {start: 0,prevCC: -1,new: !0}},this.captionsProperties = void 0,this.hls = t,this.config = t.config,this.Cues = t.config.cueHandler,this.captionsProperties = {textTrack1: {label: this.config.captionsTextTrack1Label,languageCode: this.config.captionsTextTrack1LanguageCode},textTrack2: {label: this.config.captionsTextTrack2Label,languageCode: this.config.captionsTextTrack2LanguageCode},textTrack3: {label: this.config.captionsTextTrack3Label,languageCode: this.config.captionsTextTrack3LanguageCode},textTrack4: {label: this.config.captionsTextTrack4Label,languageCode: this.config.captionsTextTrack4LanguageCode}},t.on(p.MEDIA_ATTACHING, this.onMediaAttaching, this),t.on(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.MANIFEST_LOADED, this.onManifestLoaded, this),t.on(p.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),t.on(p.FRAG_LOADING, this.onFragLoading, this),t.on(p.FRAG_LOADED, this.onFragLoaded, this),t.on(p.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this),t.on(p.FRAG_DECRYPTED, this.onFragDecrypted, this),t.on(p.INIT_PTS_FOUND, this.onInitPtsFound, this),t.on(p.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this),t.on(p.BUFFER_FLUSHING, this.onBufferFlushing, this)}destroy() {const {hls: t} = this;t.off(p.MEDIA_ATTACHING, this.onMediaAttaching, this),t.off(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.MANIFEST_LOADED, this.onManifestLoaded, this),t.off(p.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),t.off(p.FRAG_LOADING, this.onFragLoading, this),t.off(p.FRAG_LOADED, this.onFragLoaded, this),t.off(p.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this),t.off(p.FRAG_DECRYPTED, this.onFragDecrypted, this),t.off(p.INIT_PTS_FOUND, this.onInitPtsFound, this),t.off(p.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this),t.off(p.BUFFER_FLUSHING, this.onBufferFlushing, this),this.hls = this.config = null,this.cea608Parser1 = this.cea608Parser2 = void 0}initCea608Parsers() {if (this.config.enableCEA708Captions && (!this.cea608Parser1 || !this.cea608Parser2)) {const t = new Ji(this,"textTrack1"), e = new Ji(this,"textTrack2"), r = new Ji(this,"textTrack3"), n = new Ji(this,"textTrack4");this.cea608Parser1 = new Yi(1,t,e),this.cea608Parser2 = new Yi(3,r,n)}}addCues(t, e, r, n, i) {let o = !1;for (let t = i.length; t--; ) {const n = i[t], l = (s = n[0],a = n[1],c = e,u = r,Math.min(a, u) - Math.max(s, c));if (l >= 0 && (n[0] = Math.min(n[0], e),n[1] = Math.max(n[1], r),o = !0,l / (r - e) > .5))return}var s, a, c, u;if (o || i.push([e, r]),this.config.renderTextTracksNatively) {const i = this.captionsTracks[t];this.Cues.newCue(i, e, r, n)} else {const i = this.Cues.newCue(null, e, r, n);this.hls.trigger(p.CUES_PARSED, {type: "captions",cues: i,track: t})}}onInitPtsFound(t, {frag: e, id: r, initPTS: n, timescale: i}) {const {unparsedVttFrags: o} = this;"main" === r && (this.initPTS[e.cc] = {baseTime: n,timescale: i}),o.length && (this.unparsedVttFrags = [],o.forEach((t => {this.onFragLoaded(p.FRAG_LOADED, t)})))}getExistingTrack(t, e) {const {media: r} = this;if (r)for (let n = 0; n < r.textTracks.length; n++) {const i = r.textTracks[n];if (Lo(i, {name: t,lang: e,attrs: {}}))return i}return null}createCaptionsTrack(t) {this.config.renderTextTracksNatively ? this.createNativeTrack(t) : this.createNonNativeTrack(t)}createNativeTrack(t) {if (this.captionsTracks[t])return;const {captionsProperties: e, captionsTracks: r, media: n} = this, {label: i, languageCode: o} = e[t], s = this.getExistingTrack(i, o);if (s)r[t] = s,Re(r[t]),Le(r[t], n);else {const e = this.createTextTrack("captions", i, o);e && (e[t] = !0,r[t] = e)}}createNonNativeTrack(t) {if (this.nonNativeCaptionsTracks[t])return;const e = this.captionsProperties[t];if (!e)return;const r = {_id: t,label: e.label,kind: "captions",default: !!e.media && !!e.media.default,closedCaptions: e.media};this.nonNativeCaptionsTracks[t] = r,this.hls.trigger(p.NON_NATIVE_TEXT_TRACKS_FOUND, {tracks: [r]})}createTextTrack(t, e, r) {const n = this.media;if (n)return n.addTextTrack(t, e, r)}onMediaAttaching(t, e) {this.media = e.media,this._cleanTracks()}onMediaDetaching() {const {captionsTracks: t} = this;Object.keys(t).forEach((e => {Re(t[e]),delete t[e]})),this.nonNativeCaptionsTracks = {}}onManifestLoading() {this.lastCc = -1,this.lastSn = -1,this.lastPartIndex = -1,this.prevCC = -1,this.vttCCs = {ccOffset: 0,presentationOffset: 0,0: {start: 0,prevCC: -1,new: !0}},this._cleanTracks(),this.tracks = [],this.captionsTracks = {},this.nonNativeCaptionsTracks = {},this.textTracks = [],this.unparsedVttFrags = [],this.initPTS = [],this.cea608Parser1 && this.cea608Parser2 && (this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks() {const {media: t} = this;if (!t)return;const e = t.textTracks;if (e)for (let t = 0; t < e.length; t++)Re(e[t])}onSubtitleTracksUpdated(t, e) {const r = e.subtitleTracks || [], n = r.some((t => t.textCodec === go));if (this.config.enableWebVTT || n && this.config.enableIMSC1) {if (Ei(this.tracks, r))return void (this.tracks = r);if (this.textTracks = [],this.tracks = r,this.config.renderTextTracksNatively) {const t = this.media, e = t ? Pe(t.textTracks) : null;if (this.tracks.forEach(( (t, r) => {let n;if (e) {let r = null;for (let n = 0; n < e.length; n++)if (e[n] && Lo(e[n], t)) {r = e[n],e[n] = null;break}r && (n = r)}if (n)Re(n);else {const e = xo(t);n = this.createTextTrack(e, t.name, t.lang),n && (n.mode = "disabled")}n && this.textTracks.push(n)})),null != e && e.length) {const t = e.filter((t => null !== t)).map((t => t.label));t.length && w.warn(`Media element contains unused subtitle tracks: ${t.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}} else if (this.tracks.length) {const t = this.tracks.map((t => ({label: t.name,kind: t.type.toLowerCase(),default: t.default,subtitleTrack: t})));this.hls.trigger(p.NON_NATIVE_TEXT_TRACKS_FOUND, {tracks: t})}}}onManifestLoaded(t, e) {this.config.enableCEA708Captions && e.captions && e.captions.forEach((t => {const e = /(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if (!e)return;const r = `textTrack${e[1]}`, n = this.captionsProperties[r];n && (n.label = t.name,t.lang && (n.languageCode = t.lang),n.media = t)}))}closedCaptionsForLevel(t) {const e = this.hls.levels[t.level];return null == e ? void 0 : e.attrs["CLOSED-CAPTIONS"]}onFragLoading(t, e) {if (this.enabled && e.frag.type === Se.MAIN) {var r, n;const {cea608Parser1: t, cea608Parser2: i, lastSn: o} = this, {cc: s, sn: a} = e.frag, c = null != (r = null == (n = e.part) ? void 0 : n.index) ? r : -1;t && i && (a !== o + 1 || a === o && c !== this.lastPartIndex + 1 || s !== this.lastCc) && (t.reset(),i.reset()),this.lastCc = s,this.lastSn = a,this.lastPartIndex = c}}onFragLoaded(t, e) {const {frag: r, payload: n} = e;if (r.type === Se.SUBTITLE)if (n.byteLength) {const t = r.decryptdata, i = "stats"in e;if (null == t || !t.encrypted || i) {const t = this.tracks[r.level], i = this.vttCCs;i[r.cc] || (i[r.cc] = {start: r.start,prevCC: this.prevCC,new: !0},this.prevCC = r.cc),t && t.textCodec === go ? this._parseIMSC1(r, n) : this._parseVTTs(e)}} elsethis.hls.trigger(p.SUBTITLE_FRAG_PROCESSED, {success: !1,frag: r,error: new Error("Empty subtitle payload")})}_parseIMSC1(t, e) {const r = this.hls;_o(e, this.initPTS[t.cc], (e => {this._appendCues(e, t.level),r.trigger(p.SUBTITLE_FRAG_PROCESSED, {success: !0,frag: t})}), (e => {w.log(`Failed to parse IMSC1: ${e}`),r.trigger(p.SUBTITLE_FRAG_PROCESSED, {success: !1,frag: t,error: e})}))}_parseVTTs(t) {var e;const {frag: r, payload: n} = t, {initPTS: i, unparsedVttFrags: o} = this, s = i.length - 1;if (!i[r.cc] && -1 === s)return void o.push(t);const a = this.hls;po(null != (e = r.initSegment) && e.data ? Mt(r.initSegment.data, new Uint8Array(n)) : n, this.initPTS[r.cc], this.vttCCs, r.cc, r.start, (t => {this._appendCues(t, r.level),a.trigger(p.SUBTITLE_FRAG_PROCESSED, {success: !0,frag: r})}), (e => {const i = "Missing initPTS for VTT MPEGTS" === e.message;i ? o.push(t) : this._fallbackToIMSC1(r, n),w.log(`Failed to parse VTT cue: ${e}`),i && s > r.cc || a.trigger(p.SUBTITLE_FRAG_PROCESSED, {success: !1,frag: r,error: e})}))}_fallbackToIMSC1(t, e) {const r = this.tracks[t.level];r.textCodec || _o(e, this.initPTS[t.cc], ( () => {r.textCodec = go,this._parseIMSC1(t, e)}), ( () => {r.textCodec = "wvtt"}))}_appendCues(t, e) {const r = this.hls;if (this.config.renderTextTracksNatively) {const r = this.textTracks[e];if (!r || "disabled" === r.mode)return;t.forEach((t => ke(r, t)))} else {const n = this.tracks[e];if (!n)return;const i = n.default ? "default" : "subtitles" + e;r.trigger(p.CUES_PARSED, {type: "subtitles",cues: t,track: i})}}onFragDecrypted(t, e) {const {frag: r} = e;r.type === Se.SUBTITLE && this.onFragLoaded(p.FRAG_LOADED, e)}onSubtitleTracksCleared() {this.tracks = [],this.captionsTracks = {}}onFragParsingUserdata(t, e) {this.initCea608Parsers();const {cea608Parser1: r, cea608Parser2: n} = this;if (!this.enabled || !r || !n)return;const {frag: i, samples: o} = e;if (i.type !== Se.MAIN || "NONE" !== this.closedCaptionsForLevel(i))for (let t = 0; t < o.length; t++) {const e = o[t].bytes;if (e) {const i = this.extractCea608Data(e);r.addData(o[t].pts, i[0]),n.addData(o[t].pts, i[1])}}}onBufferFlushing(t, {startOffset: e, endOffset: r, endOffsetSubtitles: n, type: i}) {const {media: o} = this;if (o && !(o.currentTime < r)) {if (!i || "video" === i) {const {captionsTracks: t} = this;Object.keys(t).forEach((n => Ce(t[n], e, r)))}if (this.config.renderTextTracksNatively && 0 === e && void 0 !== n) {const {textTracks: t} = this;Object.keys(t).forEach((r => Ce(t[r], e, n)))}}}extractCea608Data(t) {const e = [[], []], r = 31 & t[0];let n = 2;for (let i = 0; i < r; i++) {const r = t[n++], i = 127 & t[n++], o = 127 & t[n++];if (0 === i && 0 === o)continue;if (!!(4 & r)) {const t = 3 & r;0 !== t && 1 !== t || (e[t].push(i),e[t].push(o))}}return e}}function xo(t) {return t.characteristics && /transcribes-spoken-dialog/gi.test(t.characteristics) && /describes-music-and-sound/gi.test(t.characteristics) ? "captions" : "subtitles"}function Lo(t, e) {return !!t && t.kind === xo(e) && Si(e, t)}class ko {constructor(t) {this.hls = void 0,this.autoLevelCapping = void 0,this.firstLevel = void 0,this.media = void 0,this.restrictedLevels = void 0,this.timer = void 0,this.clientRect = void 0,this.streamController = void 0,this.hls = t,this.autoLevelCapping = Number.POSITIVE_INFINITY,this.firstLevel = -1,this.media = null,this.restrictedLevels = [],this.timer = void 0,this.clientRect = null,this.registerListeners()}setStreamController(t) {this.streamController = t}destroy() {this.hls && this.unregisterListener(),this.timer && this.stopCapping(),this.media = null,this.clientRect = null,this.hls = this.streamController = null}registerListeners() {const {hls: t} = this;t.on(p.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this),t.on(p.MEDIA_ATTACHING, this.onMediaAttaching, this),t.on(p.MANIFEST_PARSED, this.onManifestParsed, this),t.on(p.LEVELS_UPDATED, this.onLevelsUpdated, this),t.on(p.BUFFER_CODECS, this.onBufferCodecs, this),t.on(p.MEDIA_DETACHING, this.onMediaDetaching, this)}unregisterListener() {const {hls: t} = this;t.off(p.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this),t.off(p.MEDIA_ATTACHING, this.onMediaAttaching, this),t.off(p.MANIFEST_PARSED, this.onManifestParsed, this),t.off(p.LEVELS_UPDATED, this.onLevelsUpdated, this),t.off(p.BUFFER_CODECS, this.onBufferCodecs, this),t.off(p.MEDIA_DETACHING, this.onMediaDetaching, this)}onFpsDropLevelCapping(t, e) {const r = this.hls.levels[e.droppedLevel];this.isLevelAllowed(r) && this.restrictedLevels.push({bitrate: r.bitrate,height: r.height,width: r.width})}onMediaAttaching(t, e) {this.media = e.media instanceof HTMLVideoElement ? e.media : null,this.clientRect = null,this.timer && this.hls.levels.length && this.detectPlayerSize()}onManifestParsed(t, e) {const r = this.hls;this.restrictedLevels = [],this.firstLevel = e.firstLevel,r.config.capLevelToPlayerSize && e.video && this.startCapping()}onLevelsUpdated(t, e) {this.timer && d(this.autoLevelCapping) && this.detectPlayerSize()}onBufferCodecs(t, e) {this.hls.config.capLevelToPlayerSize && e.video && this.startCapping()}onMediaDetaching() {this.stopCapping()}detectPlayerSize() {if (this.media) {if (this.mediaHeight <= 0 || this.mediaWidth <= 0)return void (this.clientRect = null);const t = this.hls.levels;if (t.length) {const e = this.hls, r = this.getMaxLevel(t.length - 1);r !== this.autoLevelCapping && w.log(`Setting autoLevelCapping to ${r}: ${t[r].height}p@${t[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),e.autoLevelCapping = r,e.autoLevelCapping > this.autoLevelCapping && this.streamController && this.streamController.nextLevelSwitch(),this.autoLevelCapping = e.autoLevelCapping}}}getMaxLevel(t) {const e = this.hls.levels;if (!e.length)return -1;const r = e.filter(( (e, r) => this.isLevelAllowed(e) && r <= t));return this.clientRect = null,ko.getMaxLevelByMediaSize(r, this.mediaWidth, this.mediaHeight)}startCapping() {this.timer || (this.autoLevelCapping = Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer = self.setInterval(this.detectPlayerSize.bind(this), 1e3),this.detectPlayerSize())}stopCapping() {this.restrictedLevels = [],this.firstLevel = -1,this.autoLevelCapping = Number.POSITIVE_INFINITY,this.timer && (self.clearInterval(this.timer),this.timer = void 0)}getDimensions() {if (this.clientRect)return this.clientRect;const t = this.media, e = {width: 0,height: 0};if (t) {const r = t.getBoundingClientRect();e.width = r.width,e.height = r.height,e.width || e.height || (e.width = r.right - r.left || t.width || 0,e.height = r.bottom - r.top || t.height || 0)}return this.clientRect = e,e}get mediaWidth() {return this.getDimensions().width * this.contentScaleFactor}get mediaHeight() {return this.getDimensions().height * this.contentScaleFactor}get contentScaleFactor() {let t = 1;if (!this.hls.config.ignoreDevicePixelRatio)try {t = self.devicePixelRatio} catch (t) {}return t}isLevelAllowed(t) {return !this.restrictedLevels.some((e => t.bitrate === e.bitrate && t.width === e.width && t.height === e.height))}static getMaxLevelByMediaSize(t, e, r) {if (null == t || !t.length)return -1;let n = t.length - 1;const i = Math.max(e, r);for (let e = 0; e < t.length; e += 1) {const r = t[e];if ((r.width >= i || r.height >= i) && (o = r,!(s = t[e + 1]) || o.width !== s.width || o.height !== s.height)) {n = e;break}}var o, s;return n}}class Ro {constructor(t) {this.hls = void 0,this.isVideoPlaybackQualityAvailable = !1,this.timer = void 0,this.media = null,this.lastTime = void 0,this.lastDroppedFrames = 0,this.lastDecodedFrames = 0,this.streamController = void 0,this.hls = t,this.registerListeners()}setStreamController(t) {this.streamController = t}registerListeners() {this.hls.on(p.MEDIA_ATTACHING, this.onMediaAttaching, this)}unregisterListeners() {this.hls.off(p.MEDIA_ATTACHING, this.onMediaAttaching, this)}destroy() {this.timer && clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable = !1,this.media = null}onMediaAttaching(t, e) {const r = this.hls.config;if (r.capLevelOnFPSDrop) {const t = e.media instanceof self.HTMLVideoElement ? e.media : null;this.media = t,t && "function" == typeof t.getVideoPlaybackQuality && (this.isVideoPlaybackQualityAvailable = !0),self.clearInterval(this.timer),this.timer = self.setInterval(this.checkFPSInterval.bind(this), r.fpsDroppedMonitoringPeriod)}}checkFPS(t, e, r) {const n = performance.now();if (e) {if (this.lastTime) {const t = n - this.lastTime, i = r - this.lastDroppedFrames, o = e - this.lastDecodedFrames, s = 1e3 * i / t, a = this.hls;if (a.trigger(p.FPS_DROP, {currentDropped: i,currentDecoded: o,totalDroppedFrames: r}),s > 0 && i > a.config.fpsDroppedMonitoringThreshold * o) {let t = a.currentLevel;w.warn("drop FPS ratio greater than max allowed value for currentLevel: " + t),t > 0 && (-1 === a.autoLevelCapping || a.autoLevelCapping >= t) && (t -= 1,a.trigger(p.FPS_DROP_LEVEL_CAPPING, {level: t,droppedLevel: a.currentLevel}),a.autoLevelCapping = t,this.streamController.nextLevelSwitch())}}this.lastTime = n,this.lastDroppedFrames = r,this.lastDecodedFrames = e}}checkFPSInterval() {const t = this.media;if (t)if (this.isVideoPlaybackQualityAvailable) {const e = t.getVideoPlaybackQuality();this.checkFPS(t, e.totalVideoFrames, e.droppedVideoFrames)} elsethis.checkFPS(t, t.webkitDecodedFrameCount, t.webkitDroppedFrameCount)}}const Co = "[eme]";class Po {constructor(t) {this.hls = void 0,this.config = void 0,this.media = null,this.keyFormatPromise = null,this.keySystemAccessPromises = {},this._requestLicenseFailureCount = 0,this.mediaKeySessions = [],this.keyIdToKeySessionPromise = {},this.setMediaKeysQueue = Po.CDMCleanupPromise ? [Po.CDMCleanupPromise] : [],this.debug = w.debug.bind(w, Co),this.log = w.log.bind(w, Co),this.warn = w.warn.bind(w, Co),this.error = w.error.bind(w, Co),this.onMediaEncrypted = t => {const {initDataType: e, initData: r} = t, n = `"${t.type}" event: init data type: "${e}"`;if (this.debug(n),null !== r) {if (!this.keyFormatPromise) {let t = Object.keys(this.keySystemAccessPromises);t.length || (t = z(this.config));const e = t.map(V).filter((t => !!t));this.keyFormatPromise = this.getKeyFormatPromise(e)}this.keyFormatPromise.then((i => {const o = $(i);let s, a;if ("sinf" === e) {if (o !== B.FAIRPLAY)return void this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${e}" for selected key-system ${o}`);const i = bt(new Uint8Array(r));try {const t = Dt(M(JSON.parse(i).sinf));if (!t)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");s = t.subarray(8, 24),a = B.FAIRPLAY} catch (t) {return void this.warn(`${n} Failed to parse sinf: ${t}`)}} else {if (o !== B.WIDEVINE && o !== B.PLAYREADY)return void this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${e}" for selected key-system ${o}`);const i = function(t) {const e = [];if (t instanceof ArrayBuffer) {const r = t.byteLength;let n = 0;for (; n + 32 < r; ) {const r = $t(new DataView(t,n));e.push(r),n += r.size}}return e}(r), c = i.filter((t => !!t.systemId && W(t.systemId) === o));c.length > 1 && this.warn(`${n} Using first of ${c.length} pssh found for selected key-system ${o}`);const u = c[0];if (!u)return void (0 === i.length || i.some((t => !t.systemId)) ? this.warn(`${n} contains incomplete or invalid pssh data`) : this.log(`ignoring ${n} for ${i.map((t => W(t.systemId))).join(",")} pssh data in favor of playlist keys`));if (a = W(u.systemId),0 === u.version && u.data)if (a === B.WIDEVINE) {const t = u.data.length - 22;s = u.data.subarray(t, t + 16)} elsea === B.PLAYREADY && (s = X(u.data))}if (!a || !s)return void this.log(`Unable to handle ${n} with key-system ${o}`);const c = mt.hexDump(s), {keyIdToKeySessionPromise: u, mediaKeySessions: l} = this;let d = u[c];for (let t = 0; t < l.length; t++) {const n = l[t], i = n.decryptdata;if (!i.keyId)continue;const o = mt.hexDump(i.keyId);if (c === o || -1 !== i.uri.replace(/-/g, "").indexOf(c)) {if (d = u[o],i.pssh)break;delete u[o],i.pssh = new Uint8Array(r),i.keyId = s,d = u[c] = d.then(( () => this.generateRequestWithPreferredKeySession(n, e, r, "encrypted-event-key-match"))),d.catch((t => this.handleError(t)));break}}if (!d) {if (a !== o)return void this.log(`Ignoring "${n}" with ${a} init data for selected key-system ${o}`);d = u[c] = this.getKeySystemSelectionPromise([a]).then(( ({keySystem: t, mediaKeys: n}) => {var i;this.throwIfDestroyed();const o = new Gt("ISO-23001-7",c,null != (i = V(t)) ? i : "");return o.pssh = new Uint8Array(r),o.keyId = s,this.attemptSetMediaKeys(t, n).then(( () => {this.throwIfDestroyed();const i = this.createMediaKeySessionContext({decryptdata: o,keySystem: t,mediaKeys: n});return this.generateRequestWithPreferredKeySession(i, e, r, "encrypted-event-no-match")}))})),d.catch((t => this.handleError(t)))}}))}},this.onWaitingForKey = t => {this.log(`"${t.type}" event`)},this.hls = t,this.config = t.config,this.registerListeners()}destroy() {this.unregisterListeners(),this.onMediaDetached();const t = this.config;t.requestMediaKeySystemAccessFunc = null,t.licenseXhrSetup = t.licenseResponseCallback = void 0,t.drmSystems = t.drmSystemOptions = {},this.hls = this.config = this.keyIdToKeySessionPromise = null,this.onMediaEncrypted = this.onWaitingForKey = null}registerListeners() {this.hls.on(p.MEDIA_ATTACHED, this.onMediaAttached, this),this.hls.on(p.MEDIA_DETACHED, this.onMediaDetached, this),this.hls.on(p.MANIFEST_LOADING, this.onManifestLoading, this),this.hls.on(p.MANIFEST_LOADED, this.onManifestLoaded, this)}unregisterListeners() {this.hls.off(p.MEDIA_ATTACHED, this.onMediaAttached, this),this.hls.off(p.MEDIA_DETACHED, this.onMediaDetached, this),this.hls.off(p.MANIFEST_LOADING, this.onManifestLoading, this),this.hls.off(p.MANIFEST_LOADED, this.onManifestLoaded, this)}getLicenseServerUrl(t) {const {drmSystems: e, widevineLicenseUrl: r} = this.config, n = e[t];return n ? n.licenseUrl : t === B.WIDEVINE && r ? r : void 0}getLicenseServerUrlOrThrow(t) {const e = this.getLicenseServerUrl(t);if (void 0 === e)throw new Error(`no license server URL configured for key-system "${t}"`);return e}getServerCertificateUrl(t) {const {drmSystems: e} = this.config, r = e[t];if (r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t) {const e = this.hls.levels, r = (t, e, r) => !!t && r.indexOf(t) === e, n = e.map((t => t.audioCodec)).filter(r), i = e.map((t => t.videoCodec)).filter(r);return n.length + i.length === 0 && i.push("avc1.42e01e"),new Promise(( (e, r) => {const o = t => {const s = t.shift();this.getMediaKeysPromise(s, n, i).then((t => e({keySystem: s,mediaKeys: t}))).catch((e => {t.length ? o(t) : r(e instanceof Do ? e : new Do({type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_NO_ACCESS,error: e,fatal: !0},e.message))}))};o(t)}))}requestMediaKeySystemAccess(t, e) {const {requestMediaKeySystemAccessFunc: r} = this.config;if ("function" != typeof r) {let t = `Configured requestMediaKeySystemAccess is not a function ${r}`;return null === Y && "http:" === self.location.protocol && (t = `navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(t))}return r(t, e)}getMediaKeysPromise(t, e, r) {const n = function(t, e, r, n) {let i;switch (t) {case B.FAIRPLAY:i = ["cenc", "sinf"];break;case B.WIDEVINE:case B.PLAYREADY:i = ["cenc"];break;case B.CLEARKEY:i = ["cenc", "keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return function(t, e, r, n) {return [{initDataTypes: t,persistentState: n.persistentState || "optional",distinctiveIdentifier: n.distinctiveIdentifier || "optional",sessionTypes: n.sessionTypes || [n.sessionType || "temporary"],audioCapabilities: e.map((t => ({contentType: `audio/mp4; codecs="${t}"`,robustness: n.audioRobustness || "",encryptionScheme: n.audioEncryptionScheme || null}))),videoCapabilities: r.map((t => ({contentType: `video/mp4; codecs="${t}"`,robustness: n.videoRobustness || "",encryptionScheme: n.videoEncryptionScheme || null})))}]}(i, e, r, n)}(t, e, r, this.config.drmSystemOptions), i = this.keySystemAccessPromises[t];let o = null == i ? void 0 : i.keySystemAccess;if (!o) {this.log(`Requesting encrypted media "${t}" key-system access with config: ${JSON.stringify(n)}`),o = this.requestMediaKeySystemAccess(t, n);const e = this.keySystemAccessPromises[t] = {keySystemAccess: o};return o.catch((e => {this.log(`Failed to obtain access to key-system "${t}": ${e}`)})),o.then((r => {this.log(`Access for key-system "${r.keySystem}" obtained`);const n = this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),e.mediaKeys = r.createMediaKeys().then((e => (this.log(`Media-keys created for "${t}"`),n.then((r => r ? this.setMediaKeysServerCertificate(e, t, r) : e))))),e.mediaKeys.catch((e => {this.error(`Failed to create media-keys for "${t}"}: ${e}`)})),e.mediaKeys}))}return o.then(( () => i.mediaKeys))}createMediaKeySessionContext({decryptdata: t, keySystem: e, mediaKeys: r}) {this.log(`Creating key-system session "${e}" keyId: ${mt.hexDump(t.keyId || [])}`);const n = r.createSession(), i = {decryptdata: t,keySystem: e,mediaKeys: r,mediaKeysSession: n,keyStatus: "status-pending"};return this.mediaKeySessions.push(i),i}renewKeySession(t) {const e = t.decryptdata;if (e.pssh) {const r = this.createMediaKeySessionContext(t), n = this.getKeyIdString(e), i = "cenc";this.keyIdToKeySessionPromise[n] = this.generateRequestWithPreferredKeySession(r, i, e.pssh, "expired")} elsethis.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t) {if (!t)throw new Error("Could not read keyId of undefined decryptdata");if (null === t.keyId)throw new Error("keyId is null");return mt.hexDump(t.keyId)}updateKeySession(t, e) {var r;const n = t.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyID ${mt.hexDump((null == (r = t.decryptdata) ? void 0 : r.keyId) || [])}\n      } (data length: ${e ? e.byteLength : e})`),n.update(e)}selectKeySystemFormat(t) {const e = Object.keys(t.levelkeys || {});return this.keyFormatPromise || (this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${e.join(", ")}`),this.keyFormatPromise = this.getKeyFormatPromise(e)),this.keyFormatPromise}getKeyFormatPromise(t) {return new Promise(( (e, r) => {const n = z(this.config), i = t.map($).filter((t => !!t && -1 !== n.indexOf(t)));return this.getKeySystemSelectionPromise(i).then(( ({keySystem: t}) => {const n = V(t);n ? e(n) : r(new Error(`Unable to find format for key-system "${t}"`))})).catch(r)}))}loadKey(t) {const e = t.keyInfo.decryptdata, r = this.getKeyIdString(e), n = `(keyId: ${r} format: "${e.keyFormat}" method: ${e.method} uri: ${e.uri})`;this.log(`Starting session for key ${n}`);let i = this.keyIdToKeySessionPromise[r];return i || (i = this.keyIdToKeySessionPromise[r] = this.getKeySystemForKeyPromise(e).then(( ({keySystem: r, mediaKeys: i}) => (this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${n}`),this.attemptSetMediaKeys(r, i).then(( () => {this.throwIfDestroyed();const t = this.createMediaKeySessionContext({keySystem: r,mediaKeys: i,decryptdata: e});return this.generateRequestWithPreferredKeySession(t, "cenc", e.pssh, "playlist-key")}))))),i.catch((t => this.handleError(t)))),i}throwIfDestroyed(t="Invalid state") {if (!this.hls)throw new Error("invalid state")}handleError(t) {this.hls && (this.error(t.message),t instanceof Do ? this.hls.trigger(p.ERROR, t.data) : this.hls.trigger(p.ERROR, {type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_NO_KEYS,error: t,fatal: !0}))}getKeySystemForKeyPromise(t) {const e = this.getKeyIdString(t), r = this.keyIdToKeySessionPromise[e];if (!r) {const e = $(t.keyFormat), r = e ? [e] : z(this.config);return this.attemptKeySystemAccess(r)}return r}getKeySystemSelectionPromise(t) {if (t.length || (t = z(this.config)),0 === t.length)throw new Do({type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal: !0},`Missing key-system license configuration options ${JSON.stringify({drmSystems: this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}attemptSetMediaKeys(t, e) {const r = this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const n = Promise.all(r).then(( () => {if (!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(e)}));return this.setMediaKeysQueue.push(n),n.then(( () => {this.log(`Media-keys set for "${t}"`),r.push(n),this.setMediaKeysQueue = this.setMediaKeysQueue.filter((t => -1 === r.indexOf(t)))}))}generateRequestWithPreferredKeySession(t, e, r, n) {var i, o;const s = null == (i = this.config.drmSystems) || null == (o = i[t.keySystem]) ? void 0 : o.generateRequest;if (s)try {const n = s.call(this.hls, e, r, t);if (!n)throw new Error("Invalid response from configured generateRequest filter");e = n.initDataType,r = t.decryptdata.pssh = n.initData ? new Uint8Array(n.initData) : null} catch (t) {var a;if (this.warn(t.message),null != (a = this.hls) && a.config.debug)throw t}if (null === r)return this.log(`Skipping key-session request for "${n}" (no initData)`),Promise.resolve(t);const c = this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${n}": ${c} (init data type: ${e} length: ${r ? r.byteLength : null})`);const u = new _i, l = t._onmessage = e => {const r = t.mediaKeysSession;if (!r)return void u.emit("error", new Error("invalid state"));const {messageType: n, message: i} = e;this.log(`"${n}" message event for session "${r.sessionId}" message size: ${i.byteLength}`),"license-request" === n || "license-renewal" === n ? this.renewLicense(t, i).catch((t => {this.handleError(t),u.emit("error", t)})) : "license-release" === n ? t.keySystem === B.FAIRPLAY && (this.updateKeySession(t, F("acknowledged")),this.removeSession(t)) : this.warn(`unhandled media key message type "${n}"`)}, d = t._onkeystatuseschange = e => {if (!t.mediaKeysSession)return void u.emit("error", new Error("invalid state"));this.onKeyStatusChange(t);const r = t.keyStatus;u.emit("keyStatus", r),"expired" === r && (this.warn(`${t.keySystem} expired for key ${c}`),this.renewKeySession(t))};t.mediaKeysSession.addEventListener("message", l),t.mediaKeysSession.addEventListener("keystatuseschange", d);const f = new Promise(( (t, e) => {u.on("error", e),u.on("keyStatus", (r => {r.startsWith("usable") ? t() : "output-restricted" === r ? e(new Do({type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal: !1},"HDCP level output restricted")) : "internal-error" === r ? e(new Do({type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal: !0},`key status changed to "${r}"`)) : "expired" === r ? e(new Error("key expired while generating request")) : this.warn(`unhandled key status change "${r}"`)}))}));return t.mediaKeysSession.generateRequest(e, r).then(( () => {var e;this.log(`Request generated for key-session "${null == (e = t.mediaKeysSession) ? void 0 : e.sessionId}" keyId: ${c}`)})).catch((t => {throw new Do({type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_NO_SESSION,error: t,fatal: !1},`Error generating key-session request: ${t}`)})).then(( () => f)).catch((e => {throw u.removeAllListeners(),this.removeSession(t),e})).then(( () => (u.removeAllListeners(),t)))}onKeyStatusChange(t) {t.mediaKeysSession.keyStatuses.forEach(( (e, r) => {this.log(`key status change "${e}" for keyStatuses keyId: ${mt.hexDump("buffer"in r ? new Uint8Array(r.buffer,r.byteOffset,r.byteLength) : new Uint8Array(r))} session keyId: ${mt.hexDump(new Uint8Array(t.decryptdata.keyId || []))} uri: ${t.decryptdata.uri}`),t.keyStatus = e}))}fetchServerCertificate(t) {const e = this.config, r = new (0,e.loader)(e), n = this.getServerCertificateUrl(t);return n ? (this.log(`Fetching server certificate for "${t}"`),new Promise(( (i, o) => {const s = {responseType: "arraybuffer",url: n}, c = e.certLoadPolicy.default, u = {loadPolicy: c,timeout: c.maxLoadTimeMs,maxRetry: 0,retryDelay: 0,maxRetryDelay: 0}, l = {onSuccess: (t, e, r, n) => {i(t.data)},onError: (e, r, i, c) => {o(new Do({type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal: !0,networkDetails: i,response: a({url: s.url,data: void 0}, e)},`"${t}" certificate request failed (${n}). Status: ${e.code} (${e.text})`))},onTimeout: (e, r, i) => {o(new Do({type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal: !0,networkDetails: i,response: {url: s.url,data: void 0}},`"${t}" certificate request timed out (${n})`))},onAbort: (t, e, r) => {o(new Error("aborted"))}};r.load(s, u, l)}))) : Promise.resolve()}setMediaKeysServerCertificate(t, e, r) {return new Promise(( (n, i) => {t.setServerCertificate(r).then((i => {this.log(`setServerCertificate ${i ? "success" : "not supported by CDM"} (${null == r ? void 0 : r.byteLength}) on "${e}"`),n(t)})).catch((t => {i(new Do({type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error: t,fatal: !0},t.message))}))}))}renewLicense(t, e) {return this.requestLicense(t, new Uint8Array(e)).then((e => this.updateKeySession(t, new Uint8Array(e)).catch((t => {throw new Do({type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_SESSION_UPDATE_FAILED,error: t,fatal: !0},t.message)}))))}unpackPlayReadyKeyMessage(t, e) {const r = String.fromCharCode.apply(null, new Uint16Array(e.buffer));if (!r.includes("PlayReadyKeyMessage"))return t.setRequestHeader("Content-Type", "text/xml; charset=utf-8"),e;const n = (new DOMParser).parseFromString(r, "application/xml"), i = n.querySelectorAll("HttpHeader");if (i.length > 0) {let e;for (let r = 0, n = i.length; r < n; r++) {var o, s;e = i[r];const n = null == (o = e.querySelector("name")) ? void 0 : o.textContent, a = null == (s = e.querySelector("value")) ? void 0 : s.textContent;n && a && t.setRequestHeader(n, a)}}const a = n.querySelector("Challenge"), c = null == a ? void 0 : a.textContent;if (!c)throw new Error("Cannot find <Challenge> in key message");return F(atob(c))}setupLicenseXHR(t, e, r, n) {const i = this.config.licenseXhrSetup;return i ? Promise.resolve().then(( () => {if (!r.decryptdata)throw new Error("Key removed");return i.call(this.hls, t, e, r, n)})).catch((o => {if (!r.decryptdata)throw o;return t.open("POST", e, !0),i.call(this.hls, t, e, r, n)})).then((r => {t.readyState || t.open("POST", e, !0);return {xhr: t,licenseChallenge: r || n}})) : (t.open("POST", e, !0),Promise.resolve({xhr: t,licenseChallenge: n}))}requestLicense(t, e) {const r = this.config.keyLoadPolicy.default;return new Promise(( (n, i) => {const o = this.getLicenseServerUrlOrThrow(t.keySystem);this.log(`Sending license request to URL: ${o}`);const s = new XMLHttpRequest;s.responseType = "arraybuffer",s.onreadystatechange = () => {if (!this.hls || !t.mediaKeysSession)return i(new Error("invalid state"));if (4 === s.readyState)if (200 === s.status) {this._requestLicenseFailureCount = 0;let e = s.response;this.log(`License received ${einstanceof ArrayBuffer ? e.byteLength : e}`);const r = this.config.licenseResponseCallback;if (r)try {e = r.call(this.hls, s, o, t)} catch (t) {this.error(t)}n(e)} else {const a = r.errorRetry, c = a ? a.maxNumRetry : 0;if (this._requestLicenseFailureCount++,this._requestLicenseFailureCount > c || s.status >= 400 && s.status < 500)i(new Do({type: g.KEY_SYSTEM_ERROR,details: m.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal: !0,networkDetails: s,response: {url: o,data: void 0,code: s.status,text: s.statusText}},`License Request XHR failed (${o}). Status: ${s.status} (${s.statusText})`));else {const r = c - this._requestLicenseFailureCount + 1;this.warn(`Retrying license request, ${r} attempts left`),this.requestLicense(t, e).then(n, i)}}},t.licenseXhr && t.licenseXhr.readyState !== XMLHttpRequest.DONE && t.licenseXhr.abort(),t.licenseXhr = s,this.setupLicenseXHR(s, o, t, e).then(( ({xhr: e, licenseChallenge: r}) => {t.keySystem == B.PLAYREADY && (r = this.unpackPlayReadyKeyMessage(e, r)),e.send(r)}))}))}onMediaAttached(t, e) {if (!this.config.emeEnabled)return;const r = e.media;this.media = r,r.removeEventListener("encrypted", this.onMediaEncrypted),r.removeEventListener("waitingforkey", this.onWaitingForKey),r.addEventListener("encrypted", this.onMediaEncrypted),r.addEventListener("waitingforkey", this.onWaitingForKey)}onMediaDetached() {const t = this.media, e = this.mediaKeySessions;t && (t.removeEventListener("encrypted", this.onMediaEncrypted),t.removeEventListener("waitingforkey", this.onWaitingForKey),this.media = null),this._requestLicenseFailureCount = 0,this.setMediaKeysQueue = [],this.mediaKeySessions = [],this.keyIdToKeySessionPromise = {},Gt.clearKeyUriToKeyIdMap();const r = e.length;Po.CDMCleanupPromise = Promise.all(e.map((t => this.removeSession(t))).concat(null == t ? void 0 : t.setMediaKeys(null).catch((t => {this.log(`Could not clear media keys: ${t}`)})))).then(( () => {r && (this.log("finished closing key sessions and clearing media keys"),e.length = 0)})).catch((t => {this.log(`Could not close sessions and clear media keys: ${t}`)}))}onManifestLoading() {this.keyFormatPromise = null}onManifestLoaded(t, {sessionKeys: e}) {if (e && this.config.emeEnabled && !this.keyFormatPromise) {const t = e.reduce(( (t, e) => (-1 === t.indexOf(e.keyFormat) && t.push(e.keyFormat),t)), []);this.log(`Selecting key-system from session-keys ${t.join(", ")}`),this.keyFormatPromise = this.getKeyFormatPromise(t)}}removeSession(t) {const {mediaKeysSession: e, licenseXhr: r} = t;if (e) {this.log(`Remove licenses and keys and close session ${e.sessionId}`),t._onmessage && (e.removeEventListener("message", t._onmessage),t._onmessage = void 0),t._onkeystatuseschange && (e.removeEventListener("keystatuseschange", t._onkeystatuseschange),t._onkeystatuseschange = void 0),r && r.readyState !== XMLHttpRequest.DONE && r.abort(),t.mediaKeysSession = t.decryptdata = t.licenseXhr = void 0;const n = this.mediaKeySessions.indexOf(t);return n > -1 && this.mediaKeySessions.splice(n, 1),e.remove().catch((t => {this.log(`Could not remove session: ${t}`)})).then(( () => e.close())).catch((t => {this.log(`Could not close session: ${t}`)}))}}}Po.CDMCleanupPromise = void 0;class Do extends Error {constructor(t, e) {super(e),this.data = void 0,t.error || (t.error = new Error(e)),this.data = t,t.err = t.error}}var Oo, Mo, Uo;!function(t) {t.MANIFEST = "m",t.AUDIO = "a",t.VIDEO = "v",t.MUXED = "av",t.INIT = "i",t.CAPTION = "c",t.TIMED_TEXT = "tt",t.KEY = "k",t.OTHER = "o"}(Oo || (Oo = {})),function(t) {t.DASH = "d",t.HLS = "h",t.SMOOTH = "s",t.OTHER = "o"}(Mo || (Mo = {})),function(t) {t.OBJECT = "CMCD-Object",t.REQUEST = "CMCD-Request",t.SESSION = "CMCD-Session",t.STATUS = "CMCD-Status"}(Uo || (Uo = {}));const Fo = {[Uo.OBJECT]: ["br", "d", "ot", "tb"],[Uo.REQUEST]: ["bl", "dl", "mtp", "nor", "nrr", "su"],[Uo.SESSION]: ["cid", "pr", "sf", "sid", "st", "v"],[Uo.STATUS]: ["bs", "rtp"]};class No {constructor(t, e) {this.value = void 0,this.params = void 0,Array.isArray(t) && (t = t.map((t => t instanceof No ? t : new No(t)))),this.value = t,this.params = e}}class Bo {constructor(t) {this.description = void 0,this.description = t}}const jo = "Dict";function $o(t, e, r, n) {return new Error(`failed to ${t} "${i = e,Array.isArray(i) ? JSON.stringify(i) : iinstanceof Map ? "Map{}" : iinstanceof Set ? "Set{}" : "object" == typeof i ? JSON.stringify(i) : String(i)}" as ${r}`,{cause: n});var i}const Ho = "Bare Item", Go = "Boolean", Ko = "Byte Sequence", qo = "Decimal", Wo = "Integer";const Vo = /[\x00-\x1f\x7f]+/, zo = "Token", Yo = "Key";function Qo(t, e, r) {return $o("serialize", t, e, r)}function Xo(t) {if (!1 === ArrayBuffer.isView(t))throw Qo(t, Ko);return `:${e = t,btoa(String.fromCharCode(...e))}:`;var e}function Jo(t) {if (function(t) {return t < -999999999999999 || 999999999999999 < t}(t))throw Qo(t, Wo);return t.toString()}function Zo(t, e) {if (t < 0)return -Zo(-t, e);const r = Math.pow(10, e);if (Math.abs(t * r % 1 - .5) < Number.EPSILON) {const e = Math.floor(t * r);return (e % 2 == 0 ? e : e + 1) / r}return Math.round(t * r) / r}function ts(t) {const e = Zo(t, 3);if (Math.floor(Math.abs(e)).toString().length > 12)throw Qo(t, qo);const r = e.toString();return r.includes(".") ? r : `${r}.0`}const es = "String";function rs(t) {const e = (r = t).description || r.toString().slice(7, -1);var r;if (!1 === /^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e))throw Qo(e, zo);return e}function ns(t) {switch (typeof t) {case "number":if (!d(t))throw Qo(t, Ho);return Number.isInteger(t) ? Jo(t) : ts(t);case "string":return function(t) {if (Vo.test(t))throw Qo(t, es);return `"${t.replace(/\\/g, "\\\\").replace(/"/g, '\\"')}"`}(t);case "symbol":return rs(t);case "boolean":return function(t) {if ("boolean" != typeof t)throw Qo(t, Go);return t ? "?1" : "?0"}(t);case "object":if (t instanceof Date)return function(t) {return `@${Jo(t.getTime() / 1e3)}`}(t);if (t instanceof Uint8Array)return Xo(t);if (t instanceof Bo)return rs(t);default:throw Qo(t, Ho)}}function is(t) {if (!1 === /^[a-z*][a-z0-9\-_.*]*$/.test(t))throw Qo(t, Yo);return t}function os(t) {return null == t ? "" : Object.entries(t).map(( ([t,e]) => !0 === e ? `;${is(t)}` : `;${is(t)}=${ns(e)}`)).join("")}function ss(t) {return t instanceof No ? `${ns(t.value)}${os(t.params)}` : ns(t)}function as(t, e={whitespace: !0}) {if ("object" != typeof t)throw Qo(t, jo);const r = t instanceof Map ? t.entries() : Object.entries(t), n = null != e && e.whitespace ? " " : "";return Array.from(r).map(( ([t,e]) => {e instanceof No == !1 && (e = new No(e));let r = is(t);var n;return !0 === e.value ? r += os(e.params) : (r += "=",Array.isArray(e.value) ? r += `(${(n = e).value.map(ss).join(" ")})${os(n.params)}` : r += ss(e)),r})).join(`,${n}`)}const cs = t => "ot" === t || "sf" === t || "st" === t, us = t => "number" == typeof t ? d(t) : null != t && "" !== t && !1 !== t;const ls = t => Math.round(t), ds = t => 100 * ls(t / 100), fs = {br: ls,d: ls,bl: ds,dl: ds,mtp: ds,nor: (t, e) => (null != e && e.baseUrl && (t = function(t, e) {const r = new URL(t), n = new URL(e);if (r.origin !== n.origin)return t;const i = r.pathname.split("/").slice(1), o = n.pathname.split("/").slice(1, -1);for (; i[0] === o[0]; )i.shift(),o.shift();for (; o.length; )o.shift(),i.unshift("..");return i.join("/")}(t, e.baseUrl)),encodeURIComponent(t)),rtp: ds,tb: ls};function hs(t, e={}) {return t ? function(t, e) {return as(t, e)}(function(t, e) {const r = {};if (null == t || "object" != typeof t)return r;const n = Object.keys(t).sort(), i = l({}, fs, null == e ? void 0 : e.formatters), o = null == e ? void 0 : e.filter;return n.forEach((n => {if (null != o && o(n))return;let s = t[n];const a = i[n];a && (s = a(s, e)),"v" === n && 1 === s || "pr" == n && 1 === s || us(s) && (cs(n) && "string" == typeof s && (s = new Bo(s)),r[n] = s)})),r}(t, e), l({whitespace: !1}, e)) : ""}function ps(t, e, r) {return l(t, function(t, e={}) {if (!t)return {};const r = Object.entries(t), n = Object.entries(Fo).concat(Object.entries((null == e ? void 0 : e.customHeaderMap) || {})), i = r.reduce(( (t, e) => {var r;const [i,o] = e, s = (null == (r = n.find((t => t[1].includes(i)))) ? void 0 : r[0]) || Uo.REQUEST;return null != t[s] || (t[s] = {}),t[s][i] = o,t}), {});return Object.entries(i).reduce(( (t, [r,n]) => (t[r] = hs(n, e),t)), {})}(e, r))}const gs = "CMCD";const ms = /CMCD=[^&#]+/;function vs(t, e, r) {const n = function(t, e={}) {if (!t)return "";const r = hs(t, e);return `${gs}=${encodeURIComponent(r)}`}(e, r);if (!n)return t;if (ms.test(t))return t.replace(ms, n);const i = t.includes("?") ? "&" : "?";return `${t}${i}${n}`}class ys {constructor(t) {this.hls = void 0,this.config = void 0,this.media = void 0,this.sid = void 0,this.cid = void 0,this.useHeaders = !1,this.includeKeys = void 0,this.initialized = !1,this.starved = !1,this.buffering = !0,this.audioBuffer = void 0,this.videoBuffer = void 0,this.onWaiting = () => {this.initialized && (this.starved = !0),this.buffering = !0},this.onPlaying = () => {this.initialized || (this.initialized = !0),this.buffering = !1},this.applyPlaylistData = t => {try {this.apply(t, {ot: Oo.MANIFEST,su: !this.initialized})} catch (t) {w.warn("Could not generate manifest CMCD data.", t)}},this.applyFragmentData = t => {try {const e = t.frag, r = this.hls.levels[e.level], n = this.getObjectType(e), i = {d: 1e3 * e.duration,ot: n};n !== Oo.VIDEO && n !== Oo.AUDIO && n != Oo.MUXED || (i.br = r.bitrate / 1e3,i.tb = this.getTopBandwidth(n) / 1e3,i.bl = this.getBufferLength(n)),this.apply(t, i)} catch (t) {w.warn("Could not generate segment CMCD data.", t)}},this.hls = t;const e = this.config = t.config, {cmcd: r} = e;null != r && (e.pLoader = this.createPlaylistLoader(),e.fLoader = this.createFragmentLoader(),this.sid = r.sessionId || function() {try {return crypto.randomUUID()} catch (t) {try {const t = URL.createObjectURL(new Blob), e = t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/") + 1)} catch (t) {let e = (new Date).getTime();return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (t => {const r = (e + 16 * Math.random()) % 16 | 0;return e = Math.floor(e / 16),("x" == t ? r : 3 & r | 8).toString(16)}))}}}(),this.cid = r.contentId,this.useHeaders = !0 === r.useHeaders,this.includeKeys = r.includeKeys,this.registerListeners())}registerListeners() {const t = this.hls;t.on(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.on(p.MEDIA_DETACHED, this.onMediaDetached, this),t.on(p.BUFFER_CREATED, this.onBufferCreated, this)}unregisterListeners() {const t = this.hls;t.off(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.off(p.MEDIA_DETACHED, this.onMediaDetached, this),t.off(p.BUFFER_CREATED, this.onBufferCreated, this)}destroy() {this.unregisterListeners(),this.onMediaDetached(),this.hls = this.config = this.audioBuffer = this.videoBuffer = null,this.onWaiting = this.onPlaying = null}onMediaAttached(t, e) {this.media = e.media,this.media.addEventListener("waiting", this.onWaiting),this.media.addEventListener("playing", this.onPlaying)}onMediaDetached() {this.media && (this.media.removeEventListener("waiting", this.onWaiting),this.media.removeEventListener("playing", this.onPlaying),this.media = null)}onBufferCreated(t, e) {var r, n;this.audioBuffer = null == (r = e.tracks.audio) ? void 0 : r.buffer,this.videoBuffer = null == (n = e.tracks.video) ? void 0 : n.buffer}createData() {var t;return {v: 1,sf: Mo.HLS,sid: this.sid,cid: this.cid,pr: null == (t = this.media) ? void 0 : t.playbackRate,mtp: this.hls.bandwidthEstimate / 1e3}}apply(t, e={}) {l(e, this.createData());const r = e.ot === Oo.INIT || e.ot === Oo.VIDEO || e.ot === Oo.MUXED;this.starved && r && (e.bs = !0,e.su = !0,this.starved = !1),null == e.su && (e.su = this.buffering);const {includeKeys: n} = this;n && (e = Object.keys(e).reduce(( (t, r) => (n.includes(r) && (t[r] = e[r]),t)), {})),this.useHeaders ? (t.headers || (t.headers = {}),ps(t.headers, e)) : t.url = vs(t.url, e)}getObjectType(t) {const {type: e} = t;return "subtitle" === e ? Oo.TIMED_TEXT : "initSegment" === t.sn ? Oo.INIT : "audio" === e ? Oo.AUDIO : "main" === e ? this.hls.audioTracks.length ? Oo.VIDEO : Oo.MUXED : void 0}getTopBandwidth(t) {let e, r = 0;const n = this.hls;if (t === Oo.AUDIO)e = n.audioTracks;else {const t = n.maxAutoLevel, r = t > -1 ? t + 1 : n.levels.length;e = n.levels.slice(0, r)}for (const t of e)t.bitrate > r && (r = t.bitrate);return r > 0 ? r : NaN}getBufferLength(t) {const e = this.hls.media, r = t === Oo.AUDIO ? this.audioBuffer : this.videoBuffer;if (!r || !e)return NaN;return 1e3 * Ur.bufferInfo(r, e.currentTime, this.config.maxBufferHole).len}createPlaylistLoader() {const {pLoader: t} = this.config, e = this.applyPlaylistData, r = t || this.config.loader;return class {constructor(t) {this.loader = void 0,this.loader = new r(t)}get stats() {return this.loader.stats}get context() {return this.loader.context}destroy() {this.loader.destroy()}abort() {this.loader.abort()}load(t, r, n) {e(t),this.loader.load(t, r, n)}}}createFragmentLoader() {const {fLoader: t} = this.config, e = this.applyFragmentData, r = t || this.config.loader;return class {constructor(t) {this.loader = void 0,this.loader = new r(t)}get stats() {return this.loader.stats}get context() {return this.loader.context}destroy() {this.loader.destroy()}abort() {this.loader.abort()}load(t, r, n) {e(t),this.loader.load(t, r, n)}}}}class _s {constructor(t) {this.hls = void 0,this.log = void 0,this.loader = null,this.uri = null,this.pathwayId = ".",this.pathwayPriority = null,this.timeToLoad = 300,this.reloadTimer = -1,this.updated = 0,this.started = !1,this.enabled = !0,this.levels = null,this.audioTracks = null,this.subtitleTracks = null,this.penalizedPathways = {},this.hls = t,this.log = w.log.bind(w, "[content-steering]:"),this.registerListeners()}registerListeners() {const t = this.hls;t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.MANIFEST_LOADED, this.onManifestLoaded, this),t.on(p.MANIFEST_PARSED, this.onManifestParsed, this),t.on(p.ERROR, this.onError, this)}unregisterListeners() {const t = this.hls;t && (t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.MANIFEST_LOADED, this.onManifestLoaded, this),t.off(p.MANIFEST_PARSED, this.onManifestParsed, this),t.off(p.ERROR, this.onError, this))}startLoad() {if (this.started = !0,this.clearTimeout(),this.enabled && this.uri) {if (this.updated) {const t = 1e3 * this.timeToLoad - (performance.now() - this.updated);if (t > 0)return void this.scheduleRefresh(this.uri, t)}this.loadSteeringManifest(this.uri)}}stopLoad() {this.started = !1,this.loader && (this.loader.destroy(),this.loader = null),this.clearTimeout()}clearTimeout() {-1 !== this.reloadTimer && (self.clearTimeout(this.reloadTimer),this.reloadTimer = -1)}destroy() {this.unregisterListeners(),this.stopLoad(),this.hls = null,this.levels = this.audioTracks = this.subtitleTracks = null}removeLevel(t) {const e = this.levels;e && (this.levels = e.filter((e => e !== t)))}onManifestLoading() {this.stopLoad(),this.enabled = !0,this.timeToLoad = 300,this.updated = 0,this.uri = null,this.pathwayId = ".",this.levels = this.audioTracks = this.subtitleTracks = null}onManifestLoaded(t, e) {const {contentSteering: r} = e;null !== r && (this.pathwayId = r.pathwayId,this.uri = r.uri,this.started && this.startLoad())}onManifestParsed(t, e) {this.audioTracks = e.audioTracks,this.subtitleTracks = e.subtitleTracks}onError(t, e) {const {errorAction: r} = e;if ((null == r ? void 0 : r.action) === lr.SendAlternateToPenaltyBox && r.flags === dr.MoveAllAlternatesMatchingHost) {const t = this.levels;let n = this.pathwayPriority, i = this.pathwayId;if (e.context) {const {groupId: r, pathwayId: n, type: o} = e.context;r && t ? i = this.getPathwayForGroupId(r, o, i) : n && (i = n)}i in this.penalizedPathways || (this.penalizedPathways[i] = performance.now()),!n && t && (n = t.reduce(( (t, e) => (-1 === t.indexOf(e.pathwayId) && t.push(e.pathwayId),t)), [])),n && n.length > 1 && (this.updatePathwayPriority(n),r.resolved = this.pathwayId !== i),r.resolved || w.warn(`Could not resolve ${e.details} ("${e.error.message}") with content-steering for Pathway: ${i} levels: ${t ? t.length : t} priorities: ${JSON.stringify(n)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(t) {this.levels = t;let e = this.getLevelsForPathway(this.pathwayId);if (0 === e.length) {const r = t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),e = this.getLevelsForPathway(r),this.pathwayId = r}return e.length !== t.length && this.log(`Found ${e.length}/${t.length} levels in Pathway "${this.pathwayId}"`),e}getLevelsForPathway(t) {return null === this.levels ? [] : this.levels.filter((e => t === e.pathwayId))}updatePathwayPriority(t) {let e;this.pathwayPriority = t;const r = this.penalizedPathways, n = performance.now();Object.keys(r).forEach((t => {n - r[t] > 3e5 && delete r[t]}));for (let n = 0; n < t.length; n++) {const i = t[n];if (i in r)continue;if (i === this.pathwayId)return;const o = this.hls.nextLoadLevel, s = this.hls.levels[o];if (e = this.getLevelsForPathway(i),e.length > 0) {this.log(`Setting Pathway to "${i}"`),this.pathwayId = i,tr(e),this.hls.trigger(p.LEVELS_UPDATED, {levels: e});const t = this.hls.levels[o];s && t && this.levels && (t.attrs["STABLE-VARIANT-ID"] !== s.attrs["STABLE-VARIANT-ID"] && t.bitrate !== s.bitrate && this.log(`Unstable Pathways change from bitrate ${s.bitrate} to ${t.bitrate}`),this.hls.nextLoadLevel = o);break}}}getPathwayForGroupId(t, e, r) {const n = this.getLevelsForPathway(r).concat(this.levels || []);for (let r = 0; r < n.length; r++)if (e === Ee && n[r].hasAudioGroup(t) || e === Te && n[r].hasSubtitleGroup(t))return n[r].pathwayId;return r}clonePathways(t) {const e = this.levels;if (!e)return;const r = {}, n = {};t.forEach((t => {const {ID: i, "BASE-ID": o, "URI-REPLACEMENT": s} = t;if (e.some((t => t.pathwayId === i)))return;const a = this.getLevelsForPathway(o).map((t => {const e = new S(t.attrs);e["PATHWAY-ID"] = i;const o = e.AUDIO && `${e.AUDIO}_clone_${i}`, a = e.SUBTITLES && `${e.SUBTITLES}_clone_${i}`;o && (r[e.AUDIO] = o,e.AUDIO = o),a && (n[e.SUBTITLES] = a,e.SUBTITLES = a);const c = ws(t.uri, e["STABLE-VARIANT-ID"], "PER-VARIANT-URIS", s), u = new qe({attrs: e,audioCodec: t.audioCodec,bitrate: t.bitrate,height: t.height,name: t.name,url: c,videoCodec: t.videoCodec,width: t.width});if (t.audioGroups)for (let e = 1; e < t.audioGroups.length; e++)u.addGroupId("audio", `${t.audioGroups[e]}_clone_${i}`);if (t.subtitleGroups)for (let e = 1; e < t.subtitleGroups.length; e++)u.addGroupId("text", `${t.subtitleGroups[e]}_clone_${i}`);return u}));e.push(...a),bs(this.audioTracks, r, s, i),bs(this.subtitleTracks, n, s, i)}))}loadSteeringManifest(t) {const e = this.hls.config, r = e.loader;let n;this.loader && this.loader.destroy(),this.loader = new r(e);try {n = new self.URL(t)} catch (e) {return this.enabled = !1,void this.log(`Failed to parse Steering Manifest URI: ${t}`)}if ("data:" !== n.protocol) {const t = 0 | (this.hls.bandwidthEstimate || e.abrEwmaDefaultEstimate);n.searchParams.set("_HLS_pathway", this.pathwayId),n.searchParams.set("_HLS_throughput", "" + t)}const i = {responseType: "json",url: n.href}, o = e.steeringManifestLoadPolicy.default, s = o.errorRetry || o.timeoutRetry || {}, a = {loadPolicy: o,timeout: o.maxLoadTimeMs,maxRetry: s.maxNumRetry || 0,retryDelay: s.retryDelayMs || 0,maxRetryDelay: s.maxRetryDelayMs || 0}, c = {onSuccess: (t, e, r, i) => {this.log(`Loaded steering manifest: "${n}"`);const o = t.data;if (1 !== o.VERSION)return void this.log(`Steering VERSION ${o.VERSION} not supported!`);this.updated = performance.now(),this.timeToLoad = o.TTL;const {"RELOAD-URI": s, "PATHWAY-CLONES": a, "PATHWAY-PRIORITY": c} = o;if (s)try {this.uri = new self.URL(s,n).href} catch (t) {return this.enabled = !1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${s}`)}this.scheduleRefresh(this.uri || r.url),a && this.clonePathways(a);const u = {steeringManifest: o,url: n.toString()};this.hls.trigger(p.STEERING_MANIFEST_LOADED, u),c && this.updatePathwayPriority(c)},onError: (t, e, r, n) => {if (this.log(`Error loading steering manifest: ${t.code} ${t.text} (${e.url})`),this.stopLoad(),410 === t.code)return this.enabled = !1,void this.log(`Steering manifest ${e.url} no longer available`);let i = 1e3 * this.timeToLoad;if (429 !== t.code)this.scheduleRefresh(this.uri || e.url, i);else {const t = this.loader;if ("function" == typeof (null == t ? void 0 : t.getResponseHeader)) {const e = t.getResponseHeader("Retry-After");e && (i = 1e3 * parseFloat(e))}this.log(`Steering manifest ${e.url} rate limited`)}},onTimeout: (t, e, r) => {this.log(`Timeout loading steering manifest (${e.url})`),this.scheduleRefresh(this.uri || e.url)}};this.log(`Requesting steering manifest: ${n}`),this.loader.load(i, a, c)}scheduleRefresh(t, e=1e3 * this.timeToLoad) {this.clearTimeout(),this.reloadTimer = self.setTimeout(( () => {var e;const r = null == (e = this.hls) ? void 0 : e.media;!r || r.ended ? this.scheduleRefresh(t, 1e3 * this.timeToLoad) : this.loadSteeringManifest(t)}), e)}}function bs(t, e, r, n) {t && Object.keys(e).forEach((i => {const o = t.filter((t => t.groupId === i)).map((t => {const o = l({}, t);return o.details = void 0,o.attrs = new S(o.attrs),o.url = o.attrs.URI = ws(t.url, t.attrs["STABLE-RENDITION-ID"], "PER-RENDITION-URIS", r),o.groupId = o.attrs["GROUP-ID"] = e[i],o.attrs["PATHWAY-ID"] = n,o}));t.push(...o)}))}function ws(t, e, r, n) {const {HOST: i, PARAMS: o, [r]: s} = n;let a;e && (a = null == s ? void 0 : s[e],a && (t = a));const c = new self.URL(t);return i && !a && (c.host = i),o && Object.keys(o).sort().forEach((t => {t && c.searchParams.set(t, o[t])})),c.href}const Es = /^age:\s*[\d.]+\s*$/im;class Ts {constructor(t) {this.xhrSetup = void 0,this.requestTimeout = void 0,this.retryTimeout = void 0,this.retryDelay = void 0,this.config = null,this.callbacks = null,this.context = null,this.loader = null,this.stats = void 0,this.xhrSetup = t && t.xhrSetup || null,this.stats = new x,this.retryDelay = 0}destroy() {this.callbacks = null,this.abortInternal(),this.loader = null,this.config = null,this.context = null,this.xhrSetup = null}abortInternal() {const t = this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t && (t.onreadystatechange = null,t.onprogress = null,4 !== t.readyState && (this.stats.aborted = !0,t.abort()))}abort() {var t;this.abortInternal(),null != (t = this.callbacks) && t.onAbort && this.callbacks.onAbort(this.stats, this.context, this.loader)}load(t, e, r) {if (this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start = self.performance.now(),this.context = t,this.config = e,this.callbacks = r,this.loadInternal()}loadInternal() {const {config: t, context: e} = this;if (!t || !e)return;const r = this.loader = new self.XMLHttpRequest, n = this.stats;n.loading.first = 0,n.loaded = 0,n.aborted = !1;const i = this.xhrSetup;i ? Promise.resolve().then(( () => {if (this.loader === r && !this.stats.aborted)return i(r, e.url)})).catch((t => {if (this.loader === r && !this.stats.aborted)return r.open("GET", e.url, !0),i(r, e.url)})).then(( () => {this.loader !== r || this.stats.aborted || this.openAndSendXhr(r, e, t)})).catch((t => {this.callbacks.onError({code: r.status,text: t.message}, e, r, n)})) : this.openAndSendXhr(r, e, t)}openAndSendXhr(t, e, r) {t.readyState || t.open("GET", e.url, !0);const n = e.headers, {maxTimeToFirstByteMs: i, maxLoadTimeMs: o} = r.loadPolicy;if (n)for (const e in n)t.setRequestHeader(e, n[e]);e.rangeEnd && t.setRequestHeader("Range", "bytes=" + e.rangeStart + "-" + (e.rangeEnd - 1)),t.onreadystatechange = this.readystatechange.bind(this),t.onprogress = this.loadprogress.bind(this),t.responseType = e.responseType,self.clearTimeout(this.requestTimeout),r.timeout = i && d(i) ? i : o,this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), r.timeout),t.send()}readystatechange() {const {context: t, loader: e, stats: r} = this;if (!t || !e)return;const n = e.readyState, i = this.config;if (!r.aborted && n >= 2 && (0 === r.loading.first && (r.loading.first = Math.max(self.performance.now(), r.loading.start),i.timeout !== i.loadPolicy.maxLoadTimeMs && (self.clearTimeout(this.requestTimeout),i.timeout = i.loadPolicy.maxLoadTimeMs,this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), i.loadPolicy.maxLoadTimeMs - (r.loading.first - r.loading.start)))),4 === n)) {self.clearTimeout(this.requestTimeout),e.onreadystatechange = null,e.onprogress = null;const n = e.status, o = "text" === e.responseType ? e.responseText : null;if (n >= 200 && n < 300) {const i = null != o ? o : e.response;if (null != i) {r.loading.end = Math.max(self.performance.now(), r.loading.first);const o = "arraybuffer" === e.responseType ? i.byteLength : i.length;if (r.loaded = r.total = o,r.bwEstimate = 8e3 * r.total / (r.loading.end - r.loading.first),!this.callbacks)return;const s = this.callbacks.onProgress;if (s && s(r, t, i, e),!this.callbacks)return;const a = {url: e.responseURL,data: i,code: n};return void this.callbacks.onSuccess(a, r, t, e)}}const s = i.loadPolicy.errorRetry;or(s, r.retry, !1, {url: t.url,data: void 0,code: n}) ? this.retry(s) : (w.error(`${n} while loading ${t.url}`),this.callbacks.onError({code: n,text: e.statusText}, t, e, r))}}loadtimeout() {if (!this.config)return;const t = this.config.loadPolicy.timeoutRetry;if (or(t, this.stats.retry, !0))this.retry(t);else {var e;w.warn(`timeout while loading ${null == (e = this.context) ? void 0 : e.url}`);const t = this.callbacks;t && (this.abortInternal(),t.onTimeout(this.stats, this.context, this.loader))}}retry(t) {const {context: e, stats: r} = this;this.retryDelay = nr(t, r.retry),r.retry++,w.warn(`${status ? "HTTP Status " + status : "Timeout"} while loading ${null == e ? void 0 : e.url}, retrying ${r.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader = null,self.clearTimeout(this.retryTimeout),this.retryTimeout = self.setTimeout(this.loadInternal.bind(this), this.retryDelay)}loadprogress(t) {const e = this.stats;e.loaded = t.loaded,t.lengthComputable && (e.total = t.total)}getCacheAge() {let t = null;if (this.loader && Es.test(this.loader.getAllResponseHeaders())) {const e = this.loader.getResponseHeader("age");t = e ? parseFloat(e) : null}return t}getResponseHeader(t) {return this.loader && new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders()) ? this.loader.getResponseHeader(t) : null}}const Ss = /(\d+)-(\d+)\/(\d+)/;class As {constructor(t) {this.fetchSetup = void 0,this.requestTimeout = void 0,this.request = null,this.response = null,this.controller = void 0,this.context = null,this.config = null,this.callbacks = null,this.stats = void 0,this.loader = null,this.fetchSetup = t.fetchSetup || Is,this.controller = new self.AbortController,this.stats = new x}destroy() {this.loader = this.callbacks = this.context = this.config = this.request = null,this.abortInternal(),this.response = null,this.fetchSetup = this.controller = this.stats = null}abortInternal() {this.controller && !this.stats.loading.end && (this.stats.aborted = !0,this.controller.abort())}abort() {var t;this.abortInternal(),null != (t = this.callbacks) && t.onAbort && this.callbacks.onAbort(this.stats, this.context, this.response)}load(t, e, r) {const n = this.stats;if (n.loading.start)throw new Error("Loader can only be used once.");n.loading.start = self.performance.now();const i = function(t, e) {const r = {method: "GET",mode: "cors",credentials: "same-origin",signal: e,headers: new self.Headers(l({}, t.headers))};t.rangeEnd && r.headers.set("Range", "bytes=" + t.rangeStart + "-" + String(t.rangeEnd - 1));return r}(t, this.controller.signal), o = r.onProgress, s = "arraybuffer" === t.responseType, a = s ? "byteLength" : "length", {maxTimeToFirstByteMs: c, maxLoadTimeMs: u} = e.loadPolicy;this.context = t,this.config = e,this.callbacks = r,this.request = this.fetchSetup(t, i),self.clearTimeout(this.requestTimeout),e.timeout = c && d(c) ? c : u,this.requestTimeout = self.setTimeout(( () => {this.abortInternal(),r.onTimeout(n, t, this.response)}), e.timeout),self.fetch(this.request).then((i => {this.response = this.loader = i;const a = Math.max(self.performance.now(), n.loading.start);if (self.clearTimeout(this.requestTimeout),e.timeout = u,this.requestTimeout = self.setTimeout(( () => {this.abortInternal(),r.onTimeout(n, t, this.response)}), u - (a - n.loading.start)),!i.ok) {const {status: t, statusText: e} = i;throw new xs(e || "fetch, bad network response",t,i)}return n.loading.first = a,n.total = function(t) {const e = t.get("Content-Range");if (e) {const t = function(t) {const e = Ss.exec(t);if (e)return parseInt(e[2]) - parseInt(e[1]) + 1}(e);if (d(t))return t}const r = t.get("Content-Length");if (r)return parseInt(r)}(i.headers) || n.total,o && d(e.highWaterMark) ? this.loadProgressively(i, n, t, e.highWaterMark, o) : s ? i.arrayBuffer() : "json" === t.responseType ? i.json() : i.text()})).then((i => {const s = this.response;if (!s)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),n.loading.end = Math.max(self.performance.now(), n.loading.first);const c = i[a];c && (n.loaded = n.total = c);const u = {url: s.url,data: i,code: s.status};o && !d(e.highWaterMark) && o(n, t, i, s),r.onSuccess(u, n, t, s)})).catch((e => {if (self.clearTimeout(this.requestTimeout),n.aborted)return;const i = e && e.code || 0, o = e ? e.message : null;r.onError({code: i,text: o}, t, e ? e.details : null, n)}))}getCacheAge() {let t = null;if (this.response) {const e = this.response.headers.get("age");t = e ? parseFloat(e) : null}return t}getResponseHeader(t) {return this.response ? this.response.headers.get(t) : null}loadProgressively(t, e, r, n=0, i) {const o = new hn, s = t.body.getReader(), a = () => s.read().then((s => {if (s.done)return o.dataLength && i(e, r, o.flush(), t),Promise.resolve(new ArrayBuffer(0));const c = s.value, u = c.length;return e.loaded += u,u < n || o.dataLength ? (o.push(c),o.dataLength >= n && i(e, r, o.flush(), t)) : i(e, r, c, t),a()})).catch(( () => Promise.reject()));return a()}}function Is(t, e) {return new self.Request(t.url,e)}class xs extends Error {constructor(t, e, r) {super(t),this.code = void 0,this.details = void 0,this.code = e,this.details = r}}const Ls = /\s/, ks = a(a({autoStartLoad: !0,startPosition: -1,defaultAudioCodec: void 0,debug: !1,capLevelOnFPSDrop: !1,capLevelToPlayerSize: !1,ignoreDevicePixelRatio: !1,preferManagedMediaSource: !0,initialLiveManifestSize: 1,maxBufferLength: 30,backBufferLength: 1 / 0,frontBufferFlushThreshold: 1 / 0,maxBufferSize: 6e7,maxBufferHole: .1,highBufferWatchdogPeriod: 2,nudgeOffset: .1,nudgeMaxRetry: 3,maxFragLookUpTolerance: .25,liveSyncDurationCount: 3,liveMaxLatencyDurationCount: 1 / 0,liveSyncDuration: void 0,liveMaxLatencyDuration: void 0,maxLiveSyncPlaybackRate: 1,liveDurationInfinity: !1,liveBackBufferLength: null,maxMaxBufferLength: 600,enableWorker: !0,workerPath: null,enableSoftwareAES: !0,startLevel: void 0,startFragPrefetch: !1,fpsDroppedMonitoringPeriod: 5e3,fpsDroppedMonitoringThreshold: .2,appendErrorMaxRetry: 3,loader: Ts,fLoader: void 0,pLoader: void 0,xhrSetup: void 0,licenseXhrSetup: void 0,licenseResponseCallback: void 0,abrController: Ir,bufferController: Ci,capLevelController: ko,errorController: fr,fpsController: Ro,stretchShortVideoTrack: !1,maxAudioFramesDrift: 1,forceKeyFrameOnDiscontinuity: !0,abrEwmaFastLive: 3,abrEwmaSlowLive: 9,abrEwmaFastVoD: 3,abrEwmaSlowVoD: 9,abrEwmaDefaultEstimate: 5e5,abrEwmaDefaultEstimateMax: 5e6,abrBandWidthFactor: .95,abrBandWidthUpFactor: .7,abrMaxWithRealBitrate: !1,maxStarvationDelay: 4,maxLoadingDelay: 4,minAutoBitrate: 0,emeEnabled: !1,widevineLicenseUrl: void 0,drmSystems: {},drmSystemOptions: {},requestMediaKeySystemAccessFunc: Y,testBandwidth: !0,progressive: !1,lowLatencyMode: !0,cmcd: void 0,enableDateRangeMetadataCues: !0,enableEmsgMetadataCues: !0,enableID3MetadataCues: !0,useMediaCapabilities: !0,certLoadPolicy: {default: {maxTimeToFirstByteMs: 8e3,maxLoadTimeMs: 2e4,timeoutRetry: null,errorRetry: null}},keyLoadPolicy: {default: {maxTimeToFirstByteMs: 8e3,maxLoadTimeMs: 2e4,timeoutRetry: {maxNumRetry: 1,retryDelayMs: 1e3,maxRetryDelayMs: 2e4,backoff: "linear"},errorRetry: {maxNumRetry: 8,retryDelayMs: 1e3,maxRetryDelayMs: 2e4,backoff: "linear"}}},manifestLoadPolicy: {default: {maxTimeToFirstByteMs: 1 / 0,maxLoadTimeMs: 2e4,timeoutRetry: {maxNumRetry: 2,retryDelayMs: 0,maxRetryDelayMs: 0},errorRetry: {maxNumRetry: 1,retryDelayMs: 1e3,maxRetryDelayMs: 8e3}}},playlistLoadPolicy: {default: {maxTimeToFirstByteMs: 1e4,maxLoadTimeMs: 2e4,timeoutRetry: {maxNumRetry: 2,retryDelayMs: 0,maxRetryDelayMs: 0},errorRetry: {maxNumRetry: 2,retryDelayMs: 1e3,maxRetryDelayMs: 8e3}}},fragLoadPolicy: {default: {maxTimeToFirstByteMs: 1e4,maxLoadTimeMs: 12e4,timeoutRetry: {maxNumRetry: 4,retryDelayMs: 0,maxRetryDelayMs: 0},errorRetry: {maxNumRetry: 6,retryDelayMs: 1e3,maxRetryDelayMs: 8e3}}},steeringManifestLoadPolicy: {default: {maxTimeToFirstByteMs: 1e4,maxLoadTimeMs: 2e4,timeoutRetry: {maxNumRetry: 2,retryDelayMs: 0,maxRetryDelayMs: 0},errorRetry: {maxNumRetry: 1,retryDelayMs: 1e3,maxRetryDelayMs: 8e3}}},manifestLoadingTimeOut: 1e4,manifestLoadingMaxRetry: 1,manifestLoadingRetryDelay: 1e3,manifestLoadingMaxRetryTimeout: 64e3,levelLoadingTimeOut: 1e4,levelLoadingMaxRetry: 4,levelLoadingRetryDelay: 1e3,levelLoadingMaxRetryTimeout: 64e3,fragLoadingTimeOut: 2e4,fragLoadingMaxRetry: 6,fragLoadingRetryDelay: 1e3,fragLoadingMaxRetryTimeout: 64e3}, {cueHandler: {newCue(t, e, r, n) {const i = [];let o, s, a, c, u;const l = self.VTTCue || self.TextTrackCue;for (let f = 0; f < n.rows.length; f++)if (o = n.rows[f],a = !0,c = 0,u = "",!o.isEmpty()) {var d;for (let t = 0; t < o.chars.length; t++)Ls.test(o.chars[t].uchar) && a ? c++ : (u += o.chars[t].uchar,a = !1);o.cueStartTime = e,e === r && (r += 1e-4),c >= 16 ? c-- : c++;const n = ao(u.trim()), h = ho(e, r, n);null != t && null != (d = t.cues) && d.getCueById(h) || (s = new l(e,r,n),s.id = h,s.line = f + 1,s.align = "left",s.position = 10 + Math.min(80, 10 * Math.floor(8 * c / 32)),i.push(s))}return t && i.length && (i.sort(( (t, e) => "auto" === t.line || "auto" === e.line ? 0 : t.line > 8 && e.line > 8 ? e.line - t.line : t.line - e.line)),i.forEach((e => ke(t, e)))),i}},enableWebVTT: !0,enableIMSC1: !0,enableCEA708Captions: !0,captionsTextTrack1Label: "English",captionsTextTrack1LanguageCode: "en",captionsTextTrack2Label: "Spanish",captionsTextTrack2LanguageCode: "es",captionsTextTrack3Label: "Unknown CC",captionsTextTrack3LanguageCode: "",captionsTextTrack4Label: "Unknown CC",captionsTextTrack4LanguageCode: "",renderTextTracksNatively: !0}), {}, {subtitleStreamController: Ii,subtitleTrackController: Li,timelineController: Io,audioStreamController: wi,audioTrackController: Ai,emeController: Po,cmcdController: ys,contentSteeringController: _s});function Rs(t) {return t && "object" == typeof t ? Array.isArray(t) ? t.map(Rs) : Object.keys(t).reduce(( (e, r) => (e[r] = Rs(t[r]),e)), {}) : t}function Cs(t) {const e = t.loader;if (e !== As && e !== Ts)w.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive = !1;else {(function() {if (self.fetch && self.AbortController && self.ReadableStream && self.Request)try {return new self.ReadableStream({}),!0} catch (t) {}return !1})() && (t.loader = As,t.progressive = !0,t.enableSoftwareAES = !0,w.log("[config]: Progressive streaming enabled, using FetchLoader"))}}let Ps;class Ds extends hr {constructor(t, e) {super(t, "[level-controller]"),this._levels = [],this._firstLevel = -1,this._maxAutoLevel = -1,this._startLevel = void 0,this.currentLevel = null,this.currentLevelIndex = -1,this.manualLevelIndex = -1,this.steering = void 0,this.onParsedComplete = void 0,this.steering = e,this._registerListeners()}_registerListeners() {const {hls: t} = this;t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.MANIFEST_LOADED, this.onManifestLoaded, this),t.on(p.LEVEL_LOADED, this.onLevelLoaded, this),t.on(p.LEVELS_UPDATED, this.onLevelsUpdated, this),t.on(p.FRAG_BUFFERED, this.onFragBuffered, this),t.on(p.ERROR, this.onError, this)}_unregisterListeners() {const {hls: t} = this;t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.MANIFEST_LOADED, this.onManifestLoaded, this),t.off(p.LEVEL_LOADED, this.onLevelLoaded, this),t.off(p.LEVELS_UPDATED, this.onLevelsUpdated, this),t.off(p.FRAG_BUFFERED, this.onFragBuffered, this),t.off(p.ERROR, this.onError, this)}destroy() {this._unregisterListeners(),this.steering = null,this.resetLevels(),super.destroy()}stopLoad() {this._levels.forEach((t => {t.loadError = 0,t.fragmentError = 0})),super.stopLoad()}resetLevels() {this._startLevel = void 0,this.manualLevelIndex = -1,this.currentLevelIndex = -1,this.currentLevel = null,this._levels = [],this._maxAutoLevel = -1}onManifestLoading(t, e) {this.resetLevels()}onManifestLoaded(t, e) {const r = this.hls.config.preferManagedMediaSource, n = [], i = {}, o = {};let s = !1, a = !1, c = !1;e.levels.forEach((t => {var e, u;const l = t.attrs;let {audioCodec: d, videoCodec: f} = t;-1 !== (null == (e = d) ? void 0 : e.indexOf("mp4a.40.34")) && (Ps || (Ps = /chrome|firefox/i.test(navigator.userAgent)),Ps && (t.audioCodec = d = void 0)),d && (t.audioCodec = d = oe(d, r)),0 === (null == (u = f) ? void 0 : u.indexOf("avc1")) && (f = t.videoCodec = function(t) {const e = t.split(",");for (let t = 0; t < e.length; t++) {const r = e[t].split(".");if (r.length > 2) {let n = r.shift() + ".";n += parseInt(r.shift()).toString(16),n += ("000" + parseInt(r.shift()).toString(16)).slice(-4),e[t] = n}}return e.join(",")}(f));const {width: h, height: p, unknownCodecs: g} = t;if (s || (s = !(!h || !p)),a || (a = !!f),c || (c = !!d),null != g && g.length || d && !Jt(d, "audio", r) || f && !Jt(f, "video", r))return;const {CODECS: m, "FRAME-RATE": v, "HDCP-LEVEL": y, "PATHWAY-ID": _, RESOLUTION: b, "VIDEO-RANGE": w} = l, E = `${`${_ || "."}-`}${t.bitrate}-${b}-${v}-${m}-${w}-${y}`;if (i[E])if (i[E].uri === t.url || t.attrs["PATHWAY-ID"])i[E].addGroupId("audio", l.AUDIO),i[E].addGroupId("text", l.SUBTITLES);else {const e = o[E] += 1;t.attrs["PATHWAY-ID"] = new Array(e + 1).join(".");const r = new qe(t);i[E] = r,n.push(r)}else {const e = new qe(t);i[E] = e,o[E] = 1,n.push(e)}})),this.filterAndSortMediaOptions(n, e, s, a, c)}filterAndSortMediaOptions(t, e, r, n, i) {let o = [], s = [], a = t;if ((r || n) && i && (a = a.filter(( ({videoCodec: t, videoRange: e, width: r, height: n}) => {return (!!t || !(!r || !n)) && (!!(i = e) && $e.indexOf(i) > -1);var i}))),0 === a.length)return void Promise.resolve().then(( () => {if (this.hls) {e.levels.length && this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(e.levels[0].attrs)}`);const t = new Error("no level with compatible codecs found in manifest");this.hls.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal: !0,url: e.url,error: t,reason: t.message})}}));if (e.audioTracks) {const {preferManagedMediaSource: t} = this.hls.config;o = e.audioTracks.filter((e => !e.audioCodec || Jt(e.audioCodec, "audio", t))),Os(o)}e.subtitles && (s = e.subtitles,Os(s));const c = a.slice(0);a.sort(( (t, e) => {if (t.attrs["HDCP-LEVEL"] !== e.attrs["HDCP-LEVEL"])return (t.attrs["HDCP-LEVEL"] || "") > (e.attrs["HDCP-LEVEL"] || "") ? 1 : -1;if (r && t.height !== e.height)return t.height - e.height;if (t.frameRate !== e.frameRate)return t.frameRate - e.frameRate;if (t.videoRange !== e.videoRange)return $e.indexOf(t.videoRange) - $e.indexOf(e.videoRange);if (t.videoCodec !== e.videoCodec) {const r = ee(t.videoCodec), n = ee(e.videoCodec);if (r !== n)return n - r}if (t.uri === e.uri && t.codecSet !== e.codecSet) {const r = re(t.codecSet), n = re(e.codecSet);if (r !== n)return n - r}return t.averageBitrate !== e.averageBitrate ? t.averageBitrate - e.averageBitrate : 0}));let u = c[0];if (this.steering && (a = this.steering.filterParsedLevels(a),a.length !== c.length))for (let t = 0; t < c.length; t++)if (c[t].pathwayId === a[0].pathwayId) {u = c[t];break}this._levels = a;for (let t = 0; t < a.length; t++)if (a[t] === u) {var l;this._firstLevel = t;const e = u.bitrate, r = this.hls.bandwidthEstimate;if (this.log(`manifest loaded, ${a.length} level(s) found, first bitrate: ${e}`),void 0 === (null == (l = this.hls.userConfig) ? void 0 : l.abrEwmaDefaultEstimate)) {const t = Math.min(e, this.hls.config.abrEwmaDefaultEstimateMax);t > r && r === ks.abrEwmaDefaultEstimate && (this.hls.bandwidthEstimate = t)}break}const d = i && !n, f = {levels: a,audioTracks: o,subtitleTracks: s,sessionData: e.sessionData,sessionKeys: e.sessionKeys,firstLevel: this._firstLevel,stats: e.stats,audio: i,video: n,altAudio: !d && o.some((t => !!t.url))};this.hls.trigger(p.MANIFEST_PARSED, f),(this.hls.config.autoStartLoad || this.hls.forceStartLoad) && this.hls.startLoad(this.hls.config.startPosition)}get levels() {return 0 === this._levels.length ? null : this._levels}get level() {return this.currentLevelIndex}set level(t) {const e = this._levels;if (0 === e.length)return;if (t < 0 || t >= e.length) {const r = new Error("invalid level idx"), n = t < 0;if (this.hls.trigger(p.ERROR, {type: g.OTHER_ERROR,details: m.LEVEL_SWITCH_ERROR,level: t,fatal: n,error: r,reason: r.message}),n)return;t = Math.min(t, e.length - 1)}const r = this.currentLevelIndex, n = this.currentLevel, i = n ? n.attrs["PATHWAY-ID"] : void 0, o = e[t], s = o.attrs["PATHWAY-ID"];if (this.currentLevelIndex = t,this.currentLevel = o,r === t && o.details && n && i === s)return;this.log(`Switching to level ${t} (${o.height ? o.height + "p " : ""}${o.videoRange ? o.videoRange + " " : ""}${o.codecSet ? o.codecSet + " " : ""}@${o.bitrate})${s ? " with Pathway " + s : ""} from level ${r}${i ? " with Pathway " + i : ""}`);const a = {level: t,attrs: o.attrs,details: o.details,bitrate: o.bitrate,averageBitrate: o.averageBitrate,maxBitrate: o.maxBitrate,realBitrate: o.realBitrate,width: o.width,height: o.height,codecSet: o.codecSet,audioCodec: o.audioCodec,videoCodec: o.videoCodec,audioGroups: o.audioGroups,subtitleGroups: o.subtitleGroups,loaded: o.loaded,loadError: o.loadError,fragmentError: o.fragmentError,name: o.name,id: o.id,uri: o.uri,url: o.url,urlId: 0,audioGroupIds: o.audioGroupIds,textGroupIds: o.textGroupIds};this.hls.trigger(p.LEVEL_SWITCHING, a);const c = o.details;if (!c || c.live) {const t = this.switchParams(o.uri, null == n ? void 0 : n.details, c);this.loadPlaylist(t)}}get manualLevel() {return this.manualLevelIndex}set manualLevel(t) {this.manualLevelIndex = t,void 0 === this._startLevel && (this._startLevel = t),-1 !== t && (this.level = t)}get firstLevel() {return this._firstLevel}set firstLevel(t) {this._firstLevel = t}get startLevel() {if (void 0 === this._startLevel) {const t = this.hls.config.startLevel;return void 0 !== t ? t : this.hls.firstAutoLevel}return this._startLevel}set startLevel(t) {this._startLevel = t}onError(t, e) {!e.fatal && e.context && e.context.type === we && e.context.level === this.level && this.checkRetry(e)}onFragBuffered(t, {frag: e}) {if (void 0 !== e && e.type === Se.MAIN) {const t = e.elementaryStreams;if (!Object.keys(t).some((e => !!t[e])))return;const r = this._levels[e.level];null != r && r.loadError && (this.log(`Resetting level error count of ${r.loadError} on frag buffered`),r.loadError = 0)}}onLevelLoaded(t, e) {var r;const {level: n, details: i} = e, o = this._levels[n];var s;if (!o)return this.warn(`Invalid level index ${n}`),void (null != (s = e.deliveryDirectives) && s.skip && (i.deltaUpdateFailed = !0));n === this.currentLevelIndex ? (0 === o.fragmentError && (o.loadError = 0),this.playlistLoaded(n, e, o.details)) : null != (r = e.deliveryDirectives) && r.skip && (i.deltaUpdateFailed = !0)}loadPlaylist(t) {super.loadPlaylist();const e = this.currentLevelIndex, r = this.currentLevel;if (r && this.shouldLoadPlaylist(r)) {let n = r.uri;if (t)try {n = t.addDirectives(n)} catch (t) {this.warn(`Could not construct new URL with HLS Delivery Directives: ${t}`)}const i = r.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0 !== (null == t ? void 0 : t.msn) ? " at sn " + t.msn + " part " + t.part : ""} with${i ? " Pathway " + i : ""} ${n}`),this.clearTimer(),this.hls.trigger(p.LEVEL_LOADING, {url: n,level: e,pathwayId: r.attrs["PATHWAY-ID"],id: 0,deliveryDirectives: t || null})}}get nextLoadLevel() {return -1 !== this.manualLevelIndex ? this.manualLevelIndex : this.hls.nextAutoLevel}set nextLoadLevel(t) {this.level = t,-1 === this.manualLevelIndex && (this.hls.nextAutoLevel = t)}removeLevel(t) {var e;const r = this._levels.filter(( (e, r) => r !== t || (this.steering && this.steering.removeLevel(e),e === this.currentLevel && (this.currentLevel = null,this.currentLevelIndex = -1,e.details && e.details.fragments.forEach((t => t.level = -1))),!1)));tr(r),this._levels = r,this.currentLevelIndex > -1 && null != (e = this.currentLevel) && e.details && (this.currentLevelIndex = this.currentLevel.details.fragments[0].level),this.hls.trigger(p.LEVELS_UPDATED, {levels: r})}onLevelsUpdated(t, {levels: e}) {this._levels = e}checkMaxAutoUpdated() {const {autoLevelCapping: t, maxAutoLevel: e, maxHdcpLevel: r} = this.hls;this._maxAutoLevel !== e && (this._maxAutoLevel = e,this.hls.trigger(p.MAX_AUTO_LEVEL_UPDATED, {autoLevelCapping: t,levels: this.levels,maxAutoLevel: e,minAutoLevel: this.hls.minAutoLevel,maxHdcpLevel: r}))}}function Os(t) {const e = {};t.forEach((t => {const r = t.groupId || "";t.id = e[r] = e[r] || 0,e[r]++}))}class Ms {constructor(t) {this.config = void 0,this.keyUriToKeyInfo = {},this.emeController = null,this.config = t}abort(t) {for (const r in this.keyUriToKeyInfo) {const n = this.keyUriToKeyInfo[r].loader;if (n) {var e;if (t && t !== (null == (e = n.context) ? void 0 : e.frag.type))return;n.abort()}}}detach() {for (const t in this.keyUriToKeyInfo) {const e = this.keyUriToKeyInfo[t];(e.mediaKeySessionContext || e.decryptdata.isCommonEncryption) && delete this.keyUriToKeyInfo[t]}}destroy() {this.detach();for (const t in this.keyUriToKeyInfo) {const e = this.keyUriToKeyInfo[t].loader;e && e.destroy()}this.keyUriToKeyInfo = {}}createKeyLoadError(t, e=m.KEY_LOAD_ERROR, r, n, i) {return new Vr({type: g.NETWORK_ERROR,details: e,fatal: !1,frag: t,response: i,error: r,networkDetails: n})}loadClear(t, e) {if (this.emeController && this.config.emeEnabled) {const {sn: r, cc: n} = t;for (let t = 0; t < e.length; t++) {const i = e[t];if (n <= i.cc && ("initSegment" === r || "initSegment" === i.sn || r < i.sn)) {this.emeController.selectKeySystemFormat(i).then((t => {i.setKeyFormat(t)}));break}}}}load(t) {return !t.decryptdata && t.encrypted && this.emeController && this.config.emeEnabled ? this.emeController.selectKeySystemFormat(t).then((e => this.loadInternal(t, e))) : this.loadInternal(t)}loadInternal(t, e) {var r, n;e && t.setKeyFormat(e);const i = t.decryptdata;if (!i) {const r = new Error(e ? `Expected frag.decryptdata to be defined after setting format ${e}` : "Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t, m.KEY_LOAD_ERROR, r))}const o = i.uri;if (!o)return Promise.reject(this.createKeyLoadError(t, m.KEY_LOAD_ERROR, new Error(`Invalid key URI: "${o}"`)));let s = this.keyUriToKeyInfo[o];if (null != (r = s) && r.decryptdata.key)return i.key = s.decryptdata.key,Promise.resolve({frag: t,keyInfo: s});var a;if (null != (n = s) && n.keyLoadPromise)switch (null == (a = s.mediaKeySessionContext) ? void 0 : a.keyStatus) {case void 0:case "status-pending":case "usable":case "usable-in-future":return s.keyLoadPromise.then((e => (i.key = e.keyInfo.decryptdata.key,{frag: t,keyInfo: s})))}switch (s = this.keyUriToKeyInfo[o] = {decryptdata: i,keyLoadPromise: null,loader: null,mediaKeySessionContext: null},i.method) {case "ISO-23001-7":case "SAMPLE-AES":case "SAMPLE-AES-CENC":case "SAMPLE-AES-CTR":return "identity" === i.keyFormat ? this.loadKeyHTTP(s, t) : this.loadKeyEME(s, t);case "AES-128":return this.loadKeyHTTP(s, t);default:return Promise.reject(this.createKeyLoadError(t, m.KEY_LOAD_ERROR, new Error(`Key supplied with unsupported METHOD: "${i.method}"`)))}}loadKeyEME(t, e) {const r = {frag: e,keyInfo: t};if (this.emeController && this.config.emeEnabled) {const e = this.emeController.loadKey(r);if (e)return (t.keyLoadPromise = e.then((e => (t.mediaKeySessionContext = e,r)))).catch((e => {throw t.keyLoadPromise = null,e}))}return Promise.resolve(r)}loadKeyHTTP(t, e) {const r = this.config, n = new (0,r.loader)(r);return e.keyLoader = t.loader = n,t.keyLoadPromise = new Promise(( (i, o) => {const s = {keyInfo: t,frag: e,responseType: "arraybuffer",url: t.decryptdata.uri}, c = r.keyLoadPolicy.default, u = {loadPolicy: c,timeout: c.maxLoadTimeMs,maxRetry: 0,retryDelay: 0,maxRetryDelay: 0}, l = {onSuccess: (t, e, r, n) => {const {frag: s, keyInfo: a, url: c} = r;if (!s.decryptdata || a !== this.keyUriToKeyInfo[c])return o(this.createKeyLoadError(s, m.KEY_LOAD_ERROR, new Error("after key load, decryptdata unset or changed"), n));a.decryptdata.key = s.decryptdata.key = new Uint8Array(t.data),s.keyLoader = null,a.loader = null,i({frag: s,keyInfo: a})},onError: (t, r, n, i) => {this.resetLoader(r),o(this.createKeyLoadError(e, m.KEY_LOAD_ERROR, new Error(`HTTP Error ${t.code} loading key ${t.text}`), n, a({url: s.url,data: void 0}, t)))},onTimeout: (t, r, n) => {this.resetLoader(r),o(this.createKeyLoadError(e, m.KEY_LOAD_TIMEOUT, new Error("key loading timed out"), n))},onAbort: (t, r, n) => {this.resetLoader(r),o(this.createKeyLoadError(e, m.INTERNAL_ABORTED, new Error("key loading aborted"), n))}};n.load(s, u, l)}))}resetLoader(t) {const {frag: e, keyInfo: r, url: n} = t, i = r.loader;e.keyLoader === i && (e.keyLoader = null,r.loader = null),delete this.keyUriToKeyInfo[n],i && i.destroy()}}function Us() {return self.SourceBuffer || self.WebKitSourceBuffer}function Fs() {if (!Qt())return !1;const t = Us();return !t || t.prototype && "function" == typeof t.prototype.appendBuffer && "function" == typeof t.prototype.remove}function Ns() {if (!Fs())return !1;const t = Qt();return "function" == typeof (null == t ? void 0 : t.isTypeSupported) && (["avc1.42E01E,mp4a.40.2", "av01.0.01M.08", "vp09.00.50.08"].some((e => t.isTypeSupported(te(e, "video")))) || ["mp4a.40.2", "fLaC"].some((e => t.isTypeSupported(te(e, "audio")))))}class Bs {constructor(t, e, r, n) {this.config = void 0,this.media = null,this.fragmentTracker = void 0,this.hls = void 0,this.nudgeRetry = 0,this.stallReported = !1,this.stalled = null,this.moved = !1,this.seeking = !1,this.config = t,this.media = e,this.fragmentTracker = r,this.hls = n}destroy() {this.media = null,this.hls = this.fragmentTracker = null}poll(t, e) {const {config: r, media: n, stalled: i} = this;if (null === n)return;const {currentTime: o, seeking: s} = n, a = this.seeking && !s, c = !this.seeking && s;if (this.seeking = s,o !== t) {if (this.moved = !0,s || (this.nudgeRetry = 0),null !== i) {if (this.stallReported) {const t = self.performance.now() - i;w.warn(`playback not stuck anymore @${o}, after ${Math.round(t)}ms`),this.stallReported = !1}this.stalled = null}return}if (c || a)return void (this.stalled = null);if (n.paused && !s || n.ended || 0 === n.playbackRate || !Ur.getBuffered(n).length)return void (this.nudgeRetry = 0);const u = Ur.bufferInfo(n, o, 0), l = u.nextStart || 0;if (s) {const t = u.len > 2, r = !l || e && e.start <= o || l - o > 2 && !this.fragmentTracker.getPartialFragment(o);if (t || r)return;this.moved = !1}if (!this.moved && null !== this.stalled) {var d;if (!(u.len > 0) && !l)return;const t = Math.max(l, u.start || 0) - o, e = this.hls.levels ? this.hls.levels[this.hls.currentLevel] : null, r = (null == e || null == (d = e.details) ? void 0 : d.live) ? 2 * e.details.targetduration : 2, i = this.fragmentTracker.getPartialFragment(o);if (t > 0 && (t <= r || i))return void (n.paused || this._trySkipBufferHole(i))}const f = self.performance.now();if (null === i)return void (this.stalled = f);const h = f - i;if (!s && h >= 250 && (this._reportStall(u),!this.media))return;const p = Ur.bufferInfo(n, o, r.maxBufferHole);this._tryFixBufferStall(p, h)}_tryFixBufferStall(t, e) {const {config: r, fragmentTracker: n, media: i} = this;if (null === i)return;const o = i.currentTime, s = n.getPartialFragment(o);if (s) {if (this._trySkipBufferHole(s) || !this.media)return}(t.len > r.maxBufferHole || t.nextStart && t.nextStart - o < r.maxBufferHole) && e > 1e3 * r.highBufferWatchdogPeriod && (w.warn("Trying to nudge playhead over buffer-hole"),this.stalled = null,this._tryNudgeBuffer())}_reportStall(t) {const {hls: e, media: r, stallReported: n} = this;if (!n && r) {this.stallReported = !0;const n = new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(t)})`);w.warn(n.message),e.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.BUFFER_STALLED_ERROR,fatal: !1,error: n,buffer: t.len})}}_trySkipBufferHole(t) {const {config: e, hls: r, media: n} = this;if (null === n)return 0;const i = n.currentTime, o = Ur.bufferInfo(n, i, 0), s = i < o.start ? o.start : o.nextStart;if (s) {const a = o.len <= e.maxBufferHole, c = o.len > 0 && o.len < 1 && n.readyState < 3, u = s - i;if (u > 0 && (a || c)) {if (u > e.maxBufferHole) {const {fragmentTracker: e} = this;let r = !1;if (0 === i) {const t = e.getAppendedFrag(0, Se.MAIN);t && s < t.end && (r = !0)}if (!r) {const r = t || e.getAppendedFrag(i, Se.MAIN);if (r) {let t = !1, n = r.end;for (; n < s; ) {const r = e.getPartialFragment(n);if (!r) {t = !0;break}n += r.duration}if (t)return 0}}}const o = Math.max(s + .05, i + .1);if (w.warn(`skipping hole, adjusting currentTime from ${i} to ${o}`),this.moved = !0,this.stalled = null,n.currentTime = o,t && !t.gap) {const e = new Error(`fragment loaded with buffer holes, seeking from ${i} to ${o}`);r.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.BUFFER_SEEK_OVER_HOLE,fatal: !1,error: e,reason: e.message,frag: t})}return o}}return 0}_tryNudgeBuffer() {const {config: t, hls: e, media: r, nudgeRetry: n} = this;if (null === r)return;const i = r.currentTime;if (this.nudgeRetry++,n < t.nudgeMaxRetry) {const o = i + (n + 1) * t.nudgeOffset, s = new Error(`Nudging 'currentTime' from ${i} to ${o}`);w.warn(s.message),r.currentTime = o,e.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.BUFFER_NUDGE_ON_STALL,error: s,fatal: !1})} else {const r = new Error(`Playhead still not moving while enough data buffered @${i} after ${t.nudgeMaxRetry} nudges`);w.error(r.message),e.trigger(p.ERROR, {type: g.MEDIA_ERROR,details: m.BUFFER_STALLED_ERROR,error: r,fatal: !0})}}}class js extends fn {constructor(t, e, r) {super(t, e, r, "[stream-controller]", Se.MAIN),this.audioCodecSwap = !1,this.gapController = null,this.level = -1,this._forceStartLoad = !1,this.altAudio = !1,this.audioOnly = !1,this.fragPlaying = null,this.onvplaying = null,this.onvseeked = null,this.fragLastKbps = 0,this.couldBacktrack = !1,this.backtrackFragment = null,this.audioCodecSwitch = !1,this.videoBuffer = null,this._registerListeners()}_registerListeners() {const {hls: t} = this;t.on(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.on(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.on(p.MANIFEST_LOADING, this.onManifestLoading, this),t.on(p.MANIFEST_PARSED, this.onManifestParsed, this),t.on(p.LEVEL_LOADING, this.onLevelLoading, this),t.on(p.LEVEL_LOADED, this.onLevelLoaded, this),t.on(p.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this),t.on(p.ERROR, this.onError, this),t.on(p.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),t.on(p.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),t.on(p.BUFFER_CREATED, this.onBufferCreated, this),t.on(p.BUFFER_FLUSHED, this.onBufferFlushed, this),t.on(p.LEVELS_UPDATED, this.onLevelsUpdated, this),t.on(p.FRAG_BUFFERED, this.onFragBuffered, this)}_unregisterListeners() {const {hls: t} = this;t.off(p.MEDIA_ATTACHED, this.onMediaAttached, this),t.off(p.MEDIA_DETACHING, this.onMediaDetaching, this),t.off(p.MANIFEST_LOADING, this.onManifestLoading, this),t.off(p.MANIFEST_PARSED, this.onManifestParsed, this),t.off(p.LEVEL_LOADED, this.onLevelLoaded, this),t.off(p.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this),t.off(p.ERROR, this.onError, this),t.off(p.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),t.off(p.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),t.off(p.BUFFER_CREATED, this.onBufferCreated, this),t.off(p.BUFFER_FLUSHED, this.onBufferFlushed, this),t.off(p.LEVELS_UPDATED, this.onLevelsUpdated, this),t.off(p.FRAG_BUFFERED, this.onFragBuffered, this)}onHandlerDestroying() {this._unregisterListeners(),super.onHandlerDestroying()}startLoad(t) {if (this.levels) {const {lastCurrentTime: e, hls: r} = this;if (this.stopLoad(),this.setInterval(100),this.level = -1,!this.startFragRequested) {let t = r.startLevel;-1 === t && (r.config.testBandwidth && this.levels.length > 1 ? (t = 0,this.bitrateTest = !0) : t = r.firstAutoLevel),r.nextLoadLevel = t,this.level = r.loadLevel,this.loadedmetadata = !1}e > 0 && -1 === t && (this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),t = e),this.state = tn,this.nextLoadPosition = this.startPosition = this.lastCurrentTime = t,this.tick()} elsethis._forceStartLoad = !0,this.state = Zr}stopLoad() {this._forceStartLoad = !1,super.stopLoad()}doTick() {switch (this.state) {case dn:{const {levels: t, level: e} = this, r = null == t ? void 0 : t[e], n = null == r ? void 0 : r.details;if (n && (!n.live || this.levelLastLoaded === r)) {if (this.waitForCdnTuneIn(n))break;this.state = tn;break}if (this.hls.nextLoadLevel !== this.level) {this.state = tn;break}break}case nn:{var t;const e = self.performance.now(), r = this.retryDate;if (!r || e >= r || null != (t = this.media) && t.seeking) {const {levels: t, level: e} = this, r = null == t ? void 0 : t[e];this.resetStartWhenNotLoaded(r || null),this.state = tn}}}this.state === tn && this.doTickIdle(),this.onTickEnd()}onTickEnd() {super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle() {const {hls: t, levelLastLoaded: e, levels: r, media: n} = this;if (null === e || !n && (this.startFragRequested || !t.config.startFragPrefetch))return;if (this.altAudio && this.audioOnly)return;const i = this.buffering ? t.nextLoadLevel : t.loadLevel;if (null == r || !r[i])return;const o = r[i], s = this.getMainFwdBufferInfo();if (null === s)return;const a = this.getLevelDetails();if (a && this._streamEnded(s, a)) {const t = {};return this.altAudio && (t.type = "video"),this.hls.trigger(p.BUFFER_EOS, t),void (this.state = cn)}if (!this.buffering)return;t.loadLevel !== i && -1 === t.manualLevel && this.log(`Adapting to level ${i} from level ${this.level}`),this.level = t.nextLoadLevel = i;const c = o.details;if (!c || this.state === dn || c.live && this.levelLastLoaded !== o)return this.level = i,void (this.state = dn);const u = s.len, l = this.getMaxBufferLength(o.maxBitrate);if (u >= l)return;this.backtrackFragment && this.backtrackFragment.start > s.end && (this.backtrackFragment = null);const d = this.backtrackFragment ? this.backtrackFragment.start : s.end;let f = this.getNextFragment(d, c);if (this.couldBacktrack && !this.fragPrevious && f && "initSegment" !== f.sn && this.fragmentTracker.getState(f) !== Cr) {var h;const t = (null != (h = this.backtrackFragment) ? h : f).sn - c.startSN, e = c.fragments[t - 1];e && f.cc === e.cc && (f = e,this.fragmentTracker.removeFragment(e))} elsethis.backtrackFragment && s.len && (this.backtrackFragment = null);if (f && this.isLoopLoading(f, d)) {if (!f.gap) {const t = this.audioOnly && !this.altAudio ? L : k, e = (t === k ? this.videoBuffer : this.mediaBuffer) || this.media;e && this.afterBufferFlushed(e, t, Se.MAIN)}f = this.getNextFragmentLoopLoading(f, c, s, Se.MAIN, l)}f && (!f.initSegment || f.initSegment.data || this.bitrateTest || (f = f.initSegment),this.loadFragment(f, o, d))}loadFragment(t, e, r) {const n = this.fragmentTracker.getState(t);this.fragCurrent = t,n === Lr || n === Rr ? "initSegment" === t.sn ? this._loadInitSegment(t, e) : this.bitrateTest ? (this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t, e)) : (this.startFragRequested = !0,super.loadFragment(t, e, r)) : this.clearTrackerIfNeeded(t)}getBufferedFrag(t) {return this.fragmentTracker.getBufferedFrag(t, Se.MAIN)}followingBufferedFrag(t) {return t ? this.getBufferedFrag(t.end + .5) : null}immediateLevelSwitch() {this.abortCurrentFrag(),this.flushMainBuffer(0, Number.POSITIVE_INFINITY)}nextLevelSwitch() {const {levels: t, media: e} = this;if (null != e && e.readyState) {let r;const n = this.getAppendedFrag(e.currentTime);n && n.start > 1 && this.flushMainBuffer(0, n.start - 1);const i = this.getLevelDetails();if (null != i && i.live) {const t = this.getMainFwdBufferInfo();if (!t || t.len < 2 * i.targetduration)return}if (!e.paused && t) {const e = t[this.hls.nextLoadLevel], n = this.fragLastKbps;r = n && this.fragCurrent ? this.fragCurrent.duration * e.maxBitrate / (1e3 * n) + 1 : 0} elser = 0;const o = this.getBufferedFrag(e.currentTime + r);if (o) {const t = this.followingBufferedFrag(o);if (t) {this.abortCurrentFrag();const e = t.maxStartPTS ? t.maxStartPTS : t.start, r = t.duration, n = Math.max(o.end, e + Math.min(Math.max(r - this.config.maxFragLookUpTolerance, r * (this.couldBacktrack ? .5 : .125)), r * (this.couldBacktrack ? .75 : .25)));this.flushMainBuffer(n, Number.POSITIVE_INFINITY)}}}}abortCurrentFrag() {const t = this.fragCurrent;switch (this.fragCurrent = null,this.backtrackFragment = null,t && (t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state) {case en:case rn:case nn:case sn:case an:this.state = tn}this.nextLoadPosition = this.getLoadPosition()}flushMainBuffer(t, e) {super.flushMainBuffer(t, e, this.altAudio ? "video" : null)}onMediaAttached(t, e) {super.onMediaAttached(t, e);const r = e.media;this.onvplaying = this.onMediaPlaying.bind(this),this.onvseeked = this.onMediaSeeked.bind(this),r.addEventListener("playing", this.onvplaying),r.addEventListener("seeked", this.onvseeked),this.gapController = new Bs(this.config,r,this.fragmentTracker,this.hls)}onMediaDetaching() {const {media: t} = this;t && this.onvplaying && this.onvseeked && (t.removeEventListener("playing", this.onvplaying),t.removeEventListener("seeked", this.onvseeked),this.onvplaying = this.onvseeked = null,this.videoBuffer = null),this.fragPlaying = null,this.gapController && (this.gapController.destroy(),this.gapController = null),super.onMediaDetaching()}onMediaPlaying() {this.tick()}onMediaSeeked() {const t = this.media, e = t ? t.currentTime : null;d(e) && this.log(`Media seeked to ${e.toFixed(3)}`);const r = this.getMainFwdBufferInfo();null !== r && 0 !== r.len ? this.tick() : this.warn(`Main forward buffer length on "seeked" event ${r ? r.len : "empty"})`)}onManifestLoading() {this.log("Trigger BUFFER_RESET"),this.hls.trigger(p.BUFFER_RESET, void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack = !1,this.startPosition = this.lastCurrentTime = this.fragLastKbps = 0,this.levels = this.fragPlaying = this.backtrackFragment = this.levelLastLoaded = null,this.altAudio = this.audioOnly = this.startFragRequested = !1}onManifestParsed(t, e) {let r = !1, n = !1;e.levels.forEach((t => {const e = t.audioCodec;e && (r = r || -1 !== e.indexOf("mp4a.40.2"),n = n || -1 !== e.indexOf("mp4a.40.5"))})),this.audioCodecSwitch = r && n && !function() {var t;const e = Us();return "function" == typeof (null == e || null == (t = e.prototype) ? void 0 : t.changeType)}(),this.audioCodecSwitch && this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels = e.levels,this.startFragRequested = !1}onLevelLoading(t, e) {const {levels: r} = this;if (!r || this.state !== tn)return;const n = r[e.level];(!n.details || n.details.live && this.levelLastLoaded !== n || this.waitForCdnTuneIn(n.details)) && (this.state = dn)}onLevelLoaded(t, e) {var r;const {levels: n} = this, i = e.level, o = e.details, s = o.totalduration;if (!n)return void this.warn(`Levels were reset while loading level ${i}`);this.log(`Level ${i} loaded [${o.startSN},${o.endSN}]${o.lastPartSn ? `[part-${o.lastPartSn}-${o.lastPartIndex}]` : ""}, cc [${o.startCC}, ${o.endCC}] duration:${s}`);const a = n[i], c = this.fragCurrent;!c || this.state !== rn && this.state !== nn || c.level !== e.level && c.loader && this.abortCurrentFrag();let u = 0;if (o.live || null != (r = a.details) && r.live) {var l;if (this.checkLiveUpdate(o),o.deltaUpdateFailed)return;u = this.alignPlaylists(o, a.details, null == (l = this.levelLastLoaded) ? void 0 : l.details)}if (a.details = o,this.levelLastLoaded = a,this.hls.trigger(p.LEVEL_UPDATED, {details: o,level: i}),this.state === dn) {if (this.waitForCdnTuneIn(o))return;this.state = tn}this.startFragRequested ? o.live && this.synchronizeToLiveEdge(o) : this.setStartPosition(o, u),this.tick()}_handleFragmentLoadProgress(t) {var e;const {frag: r, part: n, payload: i} = t, {levels: o} = this;if (!o)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);const s = o[r.level], a = s.details;if (!a)return this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),void this.fragmentTracker.removeFragment(r);const c = s.videoCodec, u = a.PTSKnown || !a.live, l = null == (e = r.initSegment) ? void 0 : e.data, d = this._getAudioCodec(s), f = this.transmuxer = this.transmuxer || new bi(this.hls,Se.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)), h = n ? n.index : -1, p = -1 !== h, g = new Fr(r.level,r.sn,r.stats.chunkCount,i.byteLength,h,p), m = this.initPTS[r.cc];f.push(i, l, d, c, r, n, a.totalduration, u, g, m)}onAudioTrackSwitching(t, e) {const r = this.altAudio;if (!!!e.url) {if (this.mediaBuffer !== this.media) {this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer = this.media;const t = this.fragCurrent;t && (this.log("Switching to main audio track, cancel main fragment load"),t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.resetLoadingState()} elsethis.audioOnly && this.resetTransmuxer();const t = this.hls;r && (t.trigger(p.BUFFER_FLUSHING, {startOffset: 0,endOffset: Number.POSITIVE_INFINITY,type: null}),this.fragmentTracker.removeAllFragments()),t.trigger(p.AUDIO_TRACK_SWITCHED, e)}}onAudioTrackSwitched(t, e) {const r = e.id, n = !!this.hls.audioTracks[r].url;if (n) {const t = this.videoBuffer;t && this.mediaBuffer !== t && (this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer = t)}this.altAudio = n,this.tick()}onBufferCreated(t, e) {const r = e.tracks;let n, i, o = !1;for (const t in r) {const e = r[t];if ("main" === e.id) {if (i = t,n = e,"video" === t) {const e = r[t];e && (this.videoBuffer = e.buffer)}} elseo = !0}o && n ? (this.log(`Alternate track found, use ${i}.buffered to schedule main fragment loading`),this.mediaBuffer = n.buffer) : this.mediaBuffer = this.media}onFragBuffered(t, e) {const {frag: r, part: n} = e;if (r && r.type !== Se.MAIN)return;if (this.fragContextChanged(r))return this.warn(`Fragment ${r.sn}${n ? " p: " + n.index : ""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),void (this.state === an && (this.state = tn));const i = n ? n.stats : r.stats;this.fragLastKbps = Math.round(8 * i.total / (i.buffering.end - i.loading.first)),"initSegment" !== r.sn && (this.fragPrevious = r),this.fragBufferedComplete(r, n)}onError(t, e) {var r;if (e.fatal)this.state = un;elseswitch (e.details) {case m.FRAG_GAP:case m.FRAG_PARSING_ERROR:case m.FRAG_DECRYPT_ERROR:case m.FRAG_LOAD_ERROR:case m.FRAG_LOAD_TIMEOUT:case m.KEY_LOAD_ERROR:case m.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Se.MAIN, e);break;case m.LEVEL_LOAD_ERROR:case m.LEVEL_LOAD_TIMEOUT:case m.LEVEL_PARSING_ERROR:e.levelRetry || this.state !== dn || (null == (r = e.context) ? void 0 : r.type) !== we || (this.state = tn);break;case m.BUFFER_APPEND_ERROR:case m.BUFFER_FULL_ERROR:if (!e.parent || "main" !== e.parent)return;if (e.details === m.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(e) && this.flushMainBuffer(0, Number.POSITIVE_INFINITY);break;case m.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer() {const {media: t, gapController: e} = this;if (t && e && t.readyState) {if (this.loadedmetadata || !Ur.getBuffered(t).length) {const t = this.state !== tn ? this.fragCurrent : null;e.poll(this.lastCurrentTime, t)}this.lastCurrentTime = t.currentTime}}onFragLoadEmergencyAborted() {this.state = tn,this.loadedmetadata || (this.startFragRequested = !1,this.nextLoadPosition = this.startPosition),this.tickImmediate()}onBufferFlushed(t, {type: e}) {if (e !== L || this.audioOnly && !this.altAudio) {const t = (e === k ? this.videoBuffer : this.mediaBuffer) || this.media;this.afterBufferFlushed(t, e, Se.MAIN),this.tick()}}onLevelsUpdated(t, e) {this.level > -1 && this.fragCurrent && (this.level = this.fragCurrent.level),this.levels = e.levels}swapAudioCodec() {this.audioCodecSwap = !this.audioCodecSwap}seekToStartPos() {const {media: t} = this;if (!t)return;const e = t.currentTime;let r = this.startPosition;if (r >= 0 && e < r) {if (t.seeking)return void this.log(`could not seek to ${r}, already seeking at ${e}`);const n = Ur.getBuffered(t), i = (n.length ? n.start(0) : 0) - r;i > 0 && (i < this.config.maxBufferHole || i < this.config.maxFragLookUpTolerance) && (this.log(`adjusting start position by ${i} to match buffer start`),r += i,this.startPosition = r),this.log(`seek to target start position ${r} from current time ${e}`),t.currentTime = r}}_getAudioCodec(t) {let e = this.config.defaultAudioCodec || t.audioCodec;return this.audioCodecSwap && e && (this.log("Swapping audio codec"),e = -1 !== e.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5"),e}_loadBitrateTestFrag(t, e) {t.bitrateTest = !0,this._doFragLoad(t, e).then((r => {const {hls: n} = this;if (!r || this.fragContextChanged(t))return;e.fragmentError = 0,this.state = tn,this.startFragRequested = !1,this.bitrateTest = !1;const i = t.stats;i.parsing.start = i.parsing.end = i.buffering.start = i.buffering.end = self.performance.now(),n.trigger(p.FRAG_LOADED, r),t.bitrateTest = !1}))}_handleTransmuxComplete(t) {var e;const r = "main", {hls: n} = this, {remuxResult: i, chunkMeta: o} = t, s = this.getCurrentContext(o);if (!s)return void this.resetWhenMissingContext(o);const {frag: a, part: c, level: u} = s, {video: l, text: f, id3: h, initSegment: g} = i, {details: m} = u, v = this.altAudio ? void 0 : i.audio;if (this.fragContextChanged(a))this.fragmentTracker.removeFragment(a);else {if (this.state = sn,g) {if (null != g && g.tracks) {const t = a.initSegment || a;this._bufferInitSegment(u, g.tracks, t, o),n.trigger(p.FRAG_PARSING_INIT_SEGMENT, {frag: t,id: r,tracks: g.tracks})}const t = g.initPTS, e = g.timescale;d(t) && (this.initPTS[a.cc] = {baseTime: t,timescale: e},n.trigger(p.INIT_PTS_FOUND, {frag: a,id: r,initPTS: t,timescale: e}))}if (l && m && "initSegment" !== a.sn) {const t = m.fragments[a.sn - 1 - m.startSN], e = a.sn === m.startSN, r = !t || a.cc > t.cc;if (!1 !== i.independent) {const {startPTS: t, endPTS: n, startDTS: i, endDTS: s} = l;if (c)c.elementaryStreams[l.type] = {startPTS: t,endPTS: n,startDTS: i,endDTS: s};else if (l.firstKeyFrame && l.independent && 1 === o.id && !r && (this.couldBacktrack = !0),l.dropped && l.independent) {const i = this.getMainFwdBufferInfo(), o = (i ? i.end : this.getLoadPosition()) + this.config.maxBufferHole, c = l.firstKeyFramePTS ? l.firstKeyFramePTS : t;if (!e && o < c - this.config.maxBufferHole && !r)return void this.backtrack(a);r && (a.gap = !0),a.setElementaryStreamInfo(l.type, a.start, n, a.start, s, !0)} elsee && t > 2 && (a.gap = !0);a.setElementaryStreamInfo(l.type, t, n, i, s),this.backtrackFragment && (this.backtrackFragment = a),this.bufferFragmentData(l, a, c, o, e || r)} else {if (!e && !r)return void this.backtrack(a);a.gap = !0}}if (v) {const {startPTS: t, endPTS: e, startDTS: r, endDTS: n} = v;c && (c.elementaryStreams[L] = {startPTS: t,endPTS: e,startDTS: r,endDTS: n}),a.setElementaryStreamInfo(L, t, e, r, n),this.bufferFragmentData(v, a, c, o)}if (m && null != h && null != (e = h.samples) && e.length) {const t = {id: r,frag: a,details: m,samples: h.samples};n.trigger(p.FRAG_PARSING_METADATA, t)}if (m && f) {const t = {id: r,frag: a,details: m,samples: f.samples};n.trigger(p.FRAG_PARSING_USERDATA, t)}}}_bufferInitSegment(t, e, r, n) {if (this.state !== sn)return;this.audioOnly = !!e.audio && !e.video,this.altAudio && !this.audioOnly && delete e.audio;const {audio: i, video: o, audiovideo: s} = e;if (i) {let e = t.audioCodec;const r = navigator.userAgent.toLowerCase();if (this.audioCodecSwitch) {e && (e = -1 !== e.indexOf("mp4a.40.5") ? "mp4a.40.2" : "mp4a.40.5");const t = i.metadata;t && "channelCount"in t && 1 !== (t.channelCount || 1) && -1 === r.indexOf("firefox") && (e = "mp4a.40.5")}e && -1 !== e.indexOf("mp4a.40.5") && -1 !== r.indexOf("android") && "audio/mpeg" !== i.container && (e = "mp4a.40.2",this.log(`Android: force audio codec to ${e}`)),t.audioCodec && t.audioCodec !== e && this.log(`Swapping manifest audio codec "${t.audioCodec}" for "${e}"`),i.levelCodec = e,i.id = "main",this.log(`Init audio buffer, container:${i.container}, codecs[selected/level/parsed]=[${e || ""}/${t.audioCodec || ""}/${i.codec}]`)}o && (o.levelCodec = t.videoCodec,o.id = "main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${t.videoCodec || ""}/${o.codec}]`)),s && this.log(`Init audiovideo buffer, container:${s.container}, codecs[level/parsed]=[${t.codecs}/${s.codec}]`),this.hls.trigger(p.BUFFER_CODECS, e),Object.keys(e).forEach((t => {const i = e[t].initSegment;null != i && i.byteLength && this.hls.trigger(p.BUFFER_APPENDING, {type: t,data: i,frag: r,part: null,chunkMeta: n,parent: r.type})})),this.tickImmediate()}getMainFwdBufferInfo() {return this.getFwdBufferInfo(this.mediaBuffer ? this.mediaBuffer : this.media, Se.MAIN)}backtrack(t) {this.couldBacktrack = !0,this.backtrackFragment = t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious = null,this.nextLoadPosition = t.start,this.state = tn}checkFragmentChanged() {const t = this.media;let e = null;if (t && t.readyState > 1 && !1 === t.seeking) {const r = t.currentTime;if (Ur.isBuffered(t, r) ? e = this.getAppendedFrag(r) : Ur.isBuffered(t, r + .1) && (e = this.getAppendedFrag(r + .1)),e) {this.backtrackFragment = null;const t = this.fragPlaying, r = e.level;t && e.sn === t.sn && t.level === r || (this.fragPlaying = e,this.hls.trigger(p.FRAG_CHANGED, {frag: e}),t && t.level === r || this.hls.trigger(p.LEVEL_SWITCHED, {level: r}))}}}get nextLevel() {const t = this.nextBufferedFrag;return t ? t.level : -1}get currentFrag() {const t = this.media;return t ? this.fragPlaying || this.getAppendedFrag(t.currentTime) : null}get currentProgramDateTime() {const t = this.media;if (t) {const e = t.currentTime, r = this.currentFrag;if (r && d(e) && d(r.programDateTime)) {const t = r.programDateTime + 1e3 * (e - r.start);return new Date(t)}}return null}get currentLevel() {const t = this.currentFrag;return t ? t.level : -1}get nextBufferedFrag() {const t = this.currentFrag;return t ? this.followingBufferedFrag(t) : null}get forceStartLoad() {return this._forceStartLoad}}class $s {static get version() {return "1.5.20"}static isMSESupported() {return Fs()}static isSupported() {return Ns()}static getMediaSource() {return Qt()}static get Events() {return p}static get ErrorTypes() {return g}static get ErrorDetails() {return m}static get DefaultConfig() {return $s.defaultConfig ? $s.defaultConfig : ks}static set DefaultConfig(t) {$s.defaultConfig = t}constructor(t={}) {this.config = void 0,this.userConfig = void 0,this.coreComponents = void 0,this.networkControllers = void 0,this.started = !1,this._emitter = new _i,this._autoLevelCapping = -1,this._maxHdcpLevel = null,this.abrController = void 0,this.bufferController = void 0,this.capLevelController = void 0,this.latencyController = void 0,this.levelController = void 0,this.streamController = void 0,this.audioTrackController = void 0,this.subtitleTrackController = void 0,this.emeController = void 0,this.cmcdController = void 0,this._media = null,this.url = null,this.triggeringException = void 0,function(t, e) {if ("object" == typeof console && !0 === t || "object" == typeof t) {b(t, "debug", "log", "info", "warn", "error");try {_.log(`Debug logs enabled for "${e}" in hls.js version 1.5.20`)} catch (t) {_ = y}} else_ = y}(t.debug || !1, "Hls instance");const e = this.config = function(t, e) {if ((e.liveSyncDurationCount || e.liveMaxLatencyDurationCount) && (e.liveSyncDuration || e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if (void 0 !== e.liveMaxLatencyDurationCount && (void 0 === e.liveSyncDurationCount || e.liveMaxLatencyDurationCount <= e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if (void 0 !== e.liveMaxLatencyDuration && (void 0 === e.liveSyncDuration || e.liveMaxLatencyDuration <= e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r = Rs(t), n = ["TimeOut", "MaxRetry", "RetryDelay", "MaxRetryTimeout"];return ["manifest", "level", "frag"].forEach((t => {const i = `${"level" === t ? "playlist" : t}LoadPolicy`, o = void 0 === e[i], s = [];n.forEach((n => {const a = `${t}Loading${n}`, c = e[a];if (void 0 !== c && o) {s.push(a);const t = r[i].default;switch (e[i] = {default: t},n) {case "TimeOut":t.maxLoadTimeMs = c,t.maxTimeToFirstByteMs = c;break;case "MaxRetry":t.errorRetry.maxNumRetry = c,t.timeoutRetry.maxNumRetry = c;break;case "RetryDelay":t.errorRetry.retryDelayMs = c,t.timeoutRetry.retryDelayMs = c;break;case "MaxRetryTimeout":t.errorRetry.maxRetryDelayMs = c,t.timeoutRetry.maxRetryDelayMs = c}}})),s.length && w.warn(`hls.js config: "${s.join('", "')}" setting(s) are deprecated, use "${i}": ${JSON.stringify(e[i])}`)})),a(a({}, r), e)}($s.DefaultConfig, t);this.userConfig = t,e.progressive && Cs(e);const {abrController: r, bufferController: n, capLevelController: i, errorController: o, fpsController: s} = e, c = new o(this), u = this.abrController = new r(this), l = this.bufferController = new n(this), d = this.capLevelController = new i(this), f = new s(this), h = new xe(this), g = new Ne(this), m = e.contentSteeringController, v = m ? new m(this) : null, E = this.levelController = new Ds(this,v), T = new Pr(this), S = new Ms(this.config), A = this.streamController = new js(this,T,S);d.setStreamController(A),f.setStreamController(A);const I = [h, E, A];v && I.splice(1, 0, v),this.networkControllers = I;const x = [u, l, d, f, g, T];this.audioTrackController = this.createController(e.audioTrackController, I);const L = e.audioStreamController;L && I.push(new L(this,T,S)),this.subtitleTrackController = this.createController(e.subtitleTrackController, I);const k = e.subtitleStreamController;k && I.push(new k(this,T,S)),this.createController(e.timelineController, x),S.emeController = this.emeController = this.createController(e.emeController, x),this.cmcdController = this.createController(e.cmcdController, x),this.latencyController = this.createController(Be, x),this.coreComponents = x,I.push(c);const R = c.onErrorOut;"function" == typeof R && this.on(p.ERROR, R, c)}createController(t, e) {if (t) {const r = new t(this);return e && e.push(r),r}return null}on(t, e, r=this) {this._emitter.on(t, e, r)}once(t, e, r=this) {this._emitter.once(t, e, r)}removeAllListeners(t) {this._emitter.removeAllListeners(t)}off(t, e, r=this, n) {this._emitter.off(t, e, r, n)}listeners(t) {return this._emitter.listeners(t)}emit(t, e, r) {return this._emitter.emit(t, e, r)}trigger(t, e) {if (this.config.debug)return this.emit(t, t, e);try {return this.emit(t, t, e)} catch (e) {if (w.error("An internal error happened while handling event " + t + '. Error message: "' + e.message + '". Here is a stacktrace:', e),!this.triggeringException) {this.triggeringException = !0;const r = t === p.ERROR;this.trigger(p.ERROR, {type: g.OTHER_ERROR,details: m.INTERNAL_EXCEPTION,fatal: r,event: t,error: e}),this.triggeringException = !1}}return !1}listenerCount(t) {return this._emitter.listenerCount(t)}destroy() {w.log("destroy"),this.trigger(p.DESTROYING, void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping = -1,this.url = null,this.networkControllers.forEach((t => t.destroy())),this.networkControllers.length = 0,this.coreComponents.forEach((t => t.destroy())),this.coreComponents.length = 0;const t = this.config;t.xhrSetup = t.fetchSetup = void 0,this.userConfig = null}attachMedia(t) {w.log("attachMedia"),this._media = t,this.trigger(p.MEDIA_ATTACHING, {media: t})}detachMedia() {w.log("detachMedia"),this.trigger(p.MEDIA_DETACHING, void 0),this._media = null}loadSource(t) {this.stopLoad();const e = this.media, r = this.url, n = this.url = o.buildAbsoluteURL(self.location.href, t, {alwaysNormalize: !0});this._autoLevelCapping = -1,this._maxHdcpLevel = null,w.log(`loadSource:${n}`),e && r && (r !== n || this.bufferController.hasSourceTypes()) && (this.detachMedia(),this.attachMedia(e)),this.trigger(p.MANIFEST_LOADING, {url: t})}startLoad(t=-1) {w.log(`startLoad(${t})`),this.started = !0,this.resumeBuffering();for (let e = 0; e < this.networkControllers.length && (this.networkControllers[e].startLoad(t),this.started && this.networkControllers); e++);}stopLoad() {w.log("stopLoad"),this.started = !1;for (let t = 0; t < this.networkControllers.length && (this.networkControllers[t].stopLoad(),!this.started && this.networkControllers); t++);}resumeBuffering() {w.log("resume buffering"),this.networkControllers.forEach((t => {t.resumeBuffering && t.resumeBuffering()}))}pauseBuffering() {w.log("pause buffering"),this.networkControllers.forEach((t => {t.pauseBuffering && t.pauseBuffering()}))}swapAudioCodec() {w.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError() {w.log("recoverMediaError");const t = this._media;this.detachMedia(),t && this.attachMedia(t)}removeLevel(t) {this.levelController.removeLevel(t)}get levels() {const t = this.levelController.levels;return t || []}get currentLevel() {return this.streamController.currentLevel}set currentLevel(t) {w.log(`set currentLevel:${t}`),this.levelController.manualLevel = t,this.streamController.immediateLevelSwitch()}get nextLevel() {return this.streamController.nextLevel}set nextLevel(t) {w.log(`set nextLevel:${t}`),this.levelController.manualLevel = t,this.streamController.nextLevelSwitch()}get loadLevel() {return this.levelController.level}set loadLevel(t) {w.log(`set loadLevel:${t}`),this.levelController.manualLevel = t}get nextLoadLevel() {return this.levelController.nextLoadLevel}set nextLoadLevel(t) {this.levelController.nextLoadLevel = t}get firstLevel() {return Math.max(this.levelController.firstLevel, this.minAutoLevel)}set firstLevel(t) {w.log(`set firstLevel:${t}`),this.levelController.firstLevel = t}get startLevel() {const t = this.levelController.startLevel;return -1 === t && this.abrController.forcedAutoLevel > -1 ? this.abrController.forcedAutoLevel : t}set startLevel(t) {w.log(`set startLevel:${t}`),-1 !== t && (t = Math.max(t, this.minAutoLevel)),this.levelController.startLevel = t}get capLevelToPlayerSize() {return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t) {const e = !!t;e !== this.config.capLevelToPlayerSize && (e ? this.capLevelController.startCapping() : (this.capLevelController.stopCapping(),this.autoLevelCapping = -1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize = e)}get autoLevelCapping() {return this._autoLevelCapping}get bandwidthEstimate() {const {bwEstimator: t} = this.abrController;return t ? t.getEstimate() : NaN}set bandwidthEstimate(t) {this.abrController.resetEstimator(t)}get ttfbEstimate() {const {bwEstimator: t} = this.abrController;return t ? t.getEstimateTTFB() : NaN}set autoLevelCapping(t) {this._autoLevelCapping !== t && (w.log(`set autoLevelCapping:${t}`),this._autoLevelCapping = t,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel() {return this._maxHdcpLevel}set maxHdcpLevel(t) {(function(t) {return je.indexOf(t) > -1})(t) && this._maxHdcpLevel !== t && (this._maxHdcpLevel = t,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled() {return -1 === this.levelController.manualLevel}get manualLevel() {return this.levelController.manualLevel}get minAutoLevel() {const {levels: t, config: {minAutoBitrate: e}} = this;if (!t)return 0;const r = t.length;for (let n = 0; n < r; n++)if (t[n].maxBitrate >= e)return n;return 0}get maxAutoLevel() {const {levels: t, autoLevelCapping: e, maxHdcpLevel: r} = this;let n;if (n = -1 === e && null != t && t.length ? t.length - 1 : e,r)for (let e = n; e--; ) {const n = t[e].attrs["HDCP-LEVEL"];if (n && n <= r)return e}return n}get firstAutoLevel() {return this.abrController.firstAutoLevel}get nextAutoLevel() {return this.abrController.nextAutoLevel}set nextAutoLevel(t) {this.abrController.nextAutoLevel = t}get playingDate() {return this.streamController.currentProgramDateTime}get mainForwardBufferInfo() {return this.streamController.getMainFwdBufferInfo()}setAudioOption(t) {var e;return null == (e = this.audioTrackController) ? void 0 : e.setAudioOption(t)}setSubtitleOption(t) {var e;return null == (e = this.subtitleTrackController) || e.setSubtitleOption(t),null}get allAudioTracks() {const t = this.audioTrackController;return t ? t.allAudioTracks : []}get audioTracks() {const t = this.audioTrackController;return t ? t.audioTracks : []}get audioTrack() {const t = this.audioTrackController;return t ? t.audioTrack : -1}set audioTrack(t) {const e = this.audioTrackController;e && (e.audioTrack = t)}get allSubtitleTracks() {const t = this.subtitleTrackController;return t ? t.allSubtitleTracks : []}get subtitleTracks() {const t = this.subtitleTrackController;return t ? t.subtitleTracks : []}get subtitleTrack() {const t = this.subtitleTrackController;return t ? t.subtitleTrack : -1}get media() {return this._media}set subtitleTrack(t) {const e = this.subtitleTrackController;e && (e.subtitleTrack = t)}get subtitleDisplay() {const t = this.subtitleTrackController;return !!t && t.subtitleDisplay}set subtitleDisplay(t) {const e = this.subtitleTrackController;e && (e.subtitleDisplay = t)}get lowLatencyMode() {return this.config.lowLatencyMode}set lowLatencyMode(t) {this.config.lowLatencyMode = t}get liveSyncPosition() {return this.latencyController.liveSyncPosition}get latency() {return this.latencyController.latency}get maxLatency() {return this.latencyController.maxLatency}get targetLatency() {return this.latencyController.targetLatency}get drift() {return this.latencyController.drift}get forceStartLoad() {return this.streamController.forceStartLoad}}$s.defaultConfig = void 0}, function(t, e, r) {"use strict";var n = r(19);Object.defineProperty(e, "__esModule", {value: !0}),e.default = void 0;var i = n(r(363));i.default.install = function(t) {t.component(i.default.name, i.default)};e.default = i.default}, function(t, e, r) {"use strict";r.r(e);var n = r(90), i = r(66);for (var o in i)["default"].indexOf(o) < 0 && function(t) {r.d(e, t, (function() {return i[t]}))}(o);r(364);var s = r(41), a = Object(s.a)(i.default, n.a, n.b, !1, null, null, null);e.default = a.exports}, function(t, e, r) {"use strict";r(147)}, function(t, e, r) {(e = r(146)(!1)).push([t.i, ".timerFloat{font-size:12px;position:fixed;z-index:100000;box-sizing:border-box;padding:0 16px;bottom:30px;left:50%;transform:translateX(-50%);width:275px;height:36px;border-radius:85px;opacity:1;background:#fff;box-shadow:0px 2px 4px 0px rgba(0,0,0,.1);display:flex;justify-content:space-between;align-items:center}.timerFloat .times{color:#fe492e}.timerFloat .close{padding-left:16px;border-left:1px solid #d8d8d8;height:20px;display:flex;justify-content:center;align-items:center;color:#00d792}", ""]),t.exports = e}]).default},24095: function(t, e, r) {"use strict";r.r(e)},77669: function(t, e, r) {"use strict";r.r(e)},12507: function(t, e, r) {"use strict";r.r(e)},67251: function(t, e, r) {"use strict";r.r(e)},61250: function(t, e, r) {"use strict";r.r(e)},97984: function(t, e, r) {"use strict";r.r(e)},10075: function(t, e, r) {"use strict";r.r(e)},6821: function(t, e, r) {"use strict";r.r(e)},9529: function(t, e, r) {"use strict";r.r(e)},79551: function(t, e, r) {"use strict";r.r(e)},29699: function(t, e, r) {"use strict";r.r(e)},73992: function(t, e) {"use strict";var r = Object.prototype.hasOwnProperty;function n(t) {try {return decodeURIComponent(t.replace(/\+/g, " "))} catch (t) {return null}}function i(t) {try {return encodeURIComponent(t)} catch (t) {return null}}e.stringify = function(t, e) {e = e || "";var n, o, s = [];for (o in "string" != typeof e && (e = "?"),t)if (r.call(t, o)) {if ((n = t[o]) || null != n && !isNaN(n) || (n = ""),o = i(o),n = i(n),null === o || null === n)continue;s.push(o + "=" + n)}return s.length ? e + s.join("&") : ""},e.parse = function(t) {for (var e, r = /([^=?#&]+)=?([^&]*)/g, i = {}; e = r.exec(t); ) {var o = n(e[1]), s = n(e[2]);null === o || null === s || o in i || (i[o] = s)}return i}},92063: function(t) {"use strict";t.exports = function(t, e) {if (e = e.split(":")[0],!(t = +t))return !1;switch (e) {case "http":case "ws":return 80 !== t;case "https":case "wss":return 443 !== t;case "ftp":return 21 !== t;case "gopher":return 70 !== t;case "file":return !1}return 0 !== t}},61160: function(t, e, r) {"use strict";var n = r(92063), i = r(73992), o = /^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/, s = /[\n\r\t]/g, a = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//, c = /:\d+$/, u = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i, l = /^[a-zA-Z]:/;function d(t) {return (t || "").toString().replace(o, "")}var f = [["#", "hash"], ["?", "query"], function(t, e) {return g(e.protocol) ? t.replace(/\\/g, "/") : t}, ["/", "pathname"], ["@", "auth", 1], [NaN, "host", void 0, 1, 1], [/:(\d*)$/, "port", void 0, 1], [NaN, "hostname", void 0, 1, 1]], h = {hash: 1,query: 1};function p(t) {var e, n = ("undefined" != typeof window ? window : void 0 !== r.g ? r.g : "undefined" != typeof self ? self : {}).location || {}, i = {}, o = typeof (t = t || n);if ("blob:" === t.protocol)i = new v(unescape(t.pathname),{});else if ("string" === o)for (e in i = new v(t,{}),h)delete i[e];else if ("object" === o) {for (e in t)e in h || (i[e] = t[e]);void 0 === i.slashes && (i.slashes = a.test(t.href))}return i}function g(t) {return "file:" === t || "ftp:" === t || "http:" === t || "https:" === t || "ws:" === t || "wss:" === t}function m(t, e) {t = (t = d(t)).replace(s, ""),e = e || {};var r, n = u.exec(t), i = n[1] ? n[1].toLowerCase() : "", o = !!n[2], a = !!n[3], c = 0;return o ? a ? (r = n[2] + n[3] + n[4],c = n[2].length + n[3].length) : (r = n[2] + n[4],c = n[2].length) : a ? (r = n[3] + n[4],c = n[3].length) : r = n[4],"file:" === i ? c >= 2 && (r = r.slice(2)) : g(i) ? r = n[4] : i ? o && (r = r.slice(2)) : c >= 2 && g(e.protocol) && (r = n[4]),{protocol: i,slashes: o || g(i),slashesCount: c,rest: r}}function v(t, e, r) {if (t = (t = d(t)).replace(s, ""),!(this instanceof v))return new v(t,e,r);var o, a, c, u, h, y, _ = f.slice(), b = typeof e, w = this, E = 0;for ("object" !== b && "string" !== b && (r = e,e = null),r && "function" != typeof r && (r = i.parse),o = !(a = m(t || "", e = p(e))).protocol && !a.slashes,w.slashes = a.slashes || o && e.slashes,w.protocol = a.protocol || e.protocol || "",t = a.rest,("file:" === a.protocol && (2 !== a.slashesCount || l.test(t)) || !a.slashes && (a.protocol || a.slashesCount < 2 || !g(w.protocol))) && (_[3] = [/(.*)/, "pathname"]); E < _.length; E++)"function" != typeof (u = _[E]) ? (c = u[0],y = u[1],c != c ? w[y] = t : "string" == typeof c ? ~(h = "@" === c ? t.lastIndexOf(c) : t.indexOf(c)) && ("number" == typeof u[2] ? (w[y] = t.slice(0, h),t = t.slice(h + u[2])) : (w[y] = t.slice(h),t = t.slice(0, h))) : (h = c.exec(t)) && (w[y] = h[1],t = t.slice(0, h.index)),w[y] = w[y] || o && u[3] && e[y] || "",u[4] && (w[y] = w[y].toLowerCase())) : t = u(t, w);r && (w.query = r(w.query)),o && e.slashes && "/" !== w.pathname.charAt(0) && ("" !== w.pathname || "" !== e.pathname) && (w.pathname = function(t, e) {if ("" === t)return e;for (var r = (e || "/").split("/").slice(0, -1).concat(t.split("/")), n = r.length, i = r[n - 1], o = !1, s = 0; n--; )"." === r[n] ? r.splice(n, 1) : ".." === r[n] ? (r.splice(n, 1),s++) : s && (0 === n && (o = !0),r.splice(n, 1),s--);return o && r.unshift(""),"." !== i && ".." !== i || r.push(""),r.join("/")}(w.pathname, e.pathname)),"/" !== w.pathname.charAt(0) && g(w.protocol) && (w.pathname = "/" + w.pathname),n(w.port, w.protocol) || (w.host = w.hostname,w.port = ""),w.username = w.password = "",w.auth && (~(h = w.auth.indexOf(":")) ? (w.username = w.auth.slice(0, h),w.username = encodeURIComponent(decodeURIComponent(w.username)),w.password = w.auth.slice(h + 1),w.password = encodeURIComponent(decodeURIComponent(w.password))) : w.username = encodeURIComponent(decodeURIComponent(w.auth)),w.auth = w.password ? w.username + ":" + w.password : w.username),w.origin = "file:" !== w.protocol && g(w.protocol) && w.host ? w.protocol + "//" + w.host : "null",w.href = w.toString()}v.prototype = {set: function(t, e, r) {var o = this;switch (t) {case "query":"string" == typeof e && e.length && (e = (r || i.parse)(e)),o[t] = e;break;case "port":o[t] = e,n(e, o.protocol) ? e && (o.host = o.hostname + ":" + e) : (o.host = o.hostname,o[t] = "");break;case "hostname":o[t] = e,o.port && (e += ":" + o.port),o.host = e;break;case "host":o[t] = e,c.test(e) ? (e = e.split(":"),o.port = e.pop(),o.hostname = e.join(":")) : (o.hostname = e,o.port = "");break;case "protocol":o.protocol = e.toLowerCase(),o.slashes = !r;break;case "pathname":case "hash":if (e) {var s = "pathname" === t ? "/" : "#";o[t] = e.charAt(0) !== s ? s + e : e} elseo[t] = e;break;case "username":case "password":o[t] = encodeURIComponent(e);break;case "auth":var a = e.indexOf(":");~a ? (o.username = e.slice(0, a),o.username = encodeURIComponent(decodeURIComponent(o.username)),o.password = e.slice(a + 1),o.password = encodeURIComponent(decodeURIComponent(o.password))) : o.username = encodeURIComponent(decodeURIComponent(e))}for (var u = 0; u < f.length; u++) {var l = f[u];l[4] && (o[l[1]] = o[l[1]].toLowerCase())}return o.auth = o.password ? o.username + ":" + o.password : o.username,o.origin = "file:" !== o.protocol && g(o.protocol) && o.host ? o.protocol + "//" + o.host : "null",o.href = o.toString(),o},toString: function(t) {t && "function" == typeof t || (t = i.stringify);var e, r = this, n = r.host, o = r.protocol;o && ":" !== o.charAt(o.length - 1) && (o += ":");var s = o + (r.protocol && r.slashes || g(r.protocol) ? "//" : "");return r.username ? (s += r.username,r.password && (s += ":" + r.password),s += "@") : r.password ? (s += ":" + r.password,s += "@") : "file:" !== r.protocol && g(r.protocol) && !n && "/" !== r.pathname && (s += "@"),(":" === n[n.length - 1] || c.test(r.hostname) && !r.port) && (n += ":"),s += n + r.pathname,(e = "object" == typeof r.query ? t(r.query) : r.query) && (s += "?" !== e.charAt(0) ? "?" + e : e),r.hash && (s += r.hash),s}},v.extractProtocol = m,v.location = p,v.trimLeft = d,v.qs = i,t.exports = v},15087: function(t, e, r) {r(29699),r(77669)},8965: function(t, e, r) {r(29699),r(9529),r(10075),r(97984),r(79551),r(6821),r(24095),r(67251),r(61250),r(12507)},41807: function(t, e, r) {r(29699),r(6821)},95681: function(t, e, r) {var n = r(13698), i = {install: function(t) {t.prototype.$copyText = function(t, e) {return new Promise((function(r, i) {var o = document.createElement("button"), s = new n(o,{text: function() {return t},action: function() {return "copy"},container: "object" == typeof e ? e : document.body});s.on("success", (function(t) {s.destroy(),r(t)})),s.on("error", (function(t) {s.destroy(),i(t)})),o.click()}))},t.directive("clipboard", {bind: function(t, e, r) {if ("success" === e.arg)t._v_clipboard_success = e.value;else if ("error" === e.arg)t._v_clipboard_error = e.value;else {var i = new n(t,{text: function() {return e.value},action: function() {return "cut" === e.arg ? "cut" : "copy"}});i.on("success", (function(e) {var r = t._v_clipboard_success;r && r(e)})),i.on("error", (function(e) {var r = t._v_clipboard_error;r && r(e)})),t._v_clipboard = i}},update: function(t, e) {"success" === e.arg ? t._v_clipboard_success = e.value : "error" === e.arg ? t._v_clipboard_error = e.value : (t._v_clipboard.text = function() {return e.value},t._v_clipboard.action = function() {return "cut" === e.arg ? "cut" : "copy"})},unbind: function(t, e) {"success" === e.arg ? delete t._v_clipboard_success : "error" === e.arg ? delete t._v_clipboard_error : (t._v_clipboard.destroy(),delete t._v_clipboard)}})}};t.exports = i},14486: function(t, e, r) {"use strict";function n(t, e, r, n, i, o, s, a) {var c, u = "function" == typeof t ? t.options : t;if (e && (u.render = e,u.staticRenderFns = r,u._compiled = !0),n && (u.functional = !0),o && (u._scopeId = "data-v-" + o),s ? (c = function(t) {(t = t || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) || "undefined" == typeof __VUE_SSR_CONTEXT__ || (t = __VUE_SSR_CONTEXT__),i && i.call(this, t),t && t._registeredComponents && t._registeredComponents.add(s)},u._ssrRegister = c) : i && (c = a ? function() {i.call(this, (u.functional ? this.parent : this).$root.$options.shadowRoot)}: i),c)if (u.functional) {u._injectStyles = c;var l = u.render;u.render = function(t, e) {return c.call(e),l(t, e)}} else {var d = u.beforeCreate;u.beforeCreate = d ? [].concat(d, c) : [c]}return {exports: t,options: u}}r.d(e, {A: function() {return n}})},95353: function(t, e, r) {"use strict";r.d(e, {PY: function() {return E},aH: function() {return w}});var n = ("undefined" != typeof window ? window : void 0 !== r.g ? r.g : {}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function i(t, e) {if (void 0 === e && (e = []),null === t || "object" != typeof t)return t;var r, n = (r = function(e) {return e.original === t},e.filter(r)[0]);if (n)return n.copy;var o = Array.isArray(t) ? [] : {};return e.push({original: t,copy: o}),Object.keys(t).forEach((function(r) {o[r] = i(t[r], e)})),o}function o(t, e) {Object.keys(t).forEach((function(r) {return e(t[r], r)}))}function s(t) {return null !== t && "object" == typeof t}var a = function(t, e) {this.runtime = e,this._children = Object.create(null),this._rawModule = t;var r = t.state;this.state = ("function" == typeof r ? r() : r) || {}}, c = {namespaced: {configurable: !0}};c.namespaced.get = function() {return !!this._rawModule.namespaced},a.prototype.addChild = function(t, e) {this._children[t] = e},a.prototype.removeChild = function(t) {delete this._children[t]},a.prototype.getChild = function(t) {return this._children[t]},a.prototype.hasChild = function(t) {return t in this._children},a.prototype.update = function(t) {this._rawModule.namespaced = t.namespaced,t.actions && (this._rawModule.actions = t.actions),t.mutations && (this._rawModule.mutations = t.mutations),t.getters && (this._rawModule.getters = t.getters)},a.prototype.forEachChild = function(t) {o(this._children, t)},a.prototype.forEachGetter = function(t) {this._rawModule.getters && o(this._rawModule.getters, t)},a.prototype.forEachAction = function(t) {this._rawModule.actions && o(this._rawModule.actions, t)},a.prototype.forEachMutation = function(t) {this._rawModule.mutations && o(this._rawModule.mutations, t)},Object.defineProperties(a.prototype, c);var u = function(t) {this.register([], t, !1)};function l(t, e, r) {if (e.update(r),r.modules)for (var n in r.modules) {if (!e.getChild(n))return void 0;l(t.concat(n), e.getChild(n), r.modules[n])}}u.prototype.get = function(t) {return t.reduce((function(t, e) {return t.getChild(e)}), this.root)},u.prototype.getNamespace = function(t) {var e = this.root;return t.reduce((function(t, r) {return t + ((e = e.getChild(r)).namespaced ? r + "/" : "")}), "")},u.prototype.update = function(t) {l([], this.root, t)},u.prototype.register = function(t, e, r) {var n = this;void 0 === r && (r = !0);var i = new a(e,r);0 === t.length ? this.root = i : this.get(t.slice(0, -1)).addChild(t[t.length - 1], i);e.modules && o(e.modules, (function(e, i) {n.register(t.concat(i), e, r)}))},u.prototype.unregister = function(t) {var e = this.get(t.slice(0, -1)), r = t[t.length - 1], n = e.getChild(r);n && n.runtime && e.removeChild(r)},u.prototype.isRegistered = function(t) {var e = this.get(t.slice(0, -1)), r = t[t.length - 1];return !!e && e.hasChild(r)};var d;var f = function(t) {var e = this;void 0 === t && (t = {}),!d && "undefined" != typeof window && window.Vue && b(window.Vue);var r = t.plugins;void 0 === r && (r = []);var i = t.strict;void 0 === i && (i = !1),this._committing = !1,this._actions = Object.create(null),this._actionSubscribers = [],this._mutations = Object.create(null),this._wrappedGetters = Object.create(null),this._modules = new u(t),this._modulesNamespaceMap = Object.create(null),this._subscribers = [],this._watcherVM = new d,this._makeLocalGettersCache = Object.create(null);var o = this, s = this.dispatch, a = this.commit;this.dispatch = function(t, e) {return s.call(o, t, e)},this.commit = function(t, e, r) {return a.call(o, t, e, r)},this.strict = i;var c = this._modules.root.state;v(this, c, [], this._modules.root),m(this, c),r.forEach((function(t) {return t(e)})),(void 0 !== t.devtools ? t.devtools : d.config.devtools) && function(t) {n && (t._devtoolHook = n,n.emit("vuex:init", t),n.on("vuex:travel-to-state", (function(e) {t.replaceState(e)})),t.subscribe((function(t, e) {n.emit("vuex:mutation", t, e)}), {prepend: !0}),t.subscribeAction((function(t, e) {n.emit("vuex:action", t, e)}), {prepend: !0}))}(this)}, h = {state: {configurable: !0}};function p(t, e, r) {return e.indexOf(t) < 0 && (r && r.prepend ? e.unshift(t) : e.push(t)),function() {var r = e.indexOf(t);r > -1 && e.splice(r, 1)}}function g(t, e) {t._actions = Object.create(null),t._mutations = Object.create(null),t._wrappedGetters = Object.create(null),t._modulesNamespaceMap = Object.create(null);var r = t.state;v(t, r, [], t._modules.root, !0),m(t, r, e)}function m(t, e, r) {var n = t._vm;t.getters = {},t._makeLocalGettersCache = Object.create(null);var i = t._wrappedGetters, s = {};o(i, (function(e, r) {s[r] = function(t, e) {return function() {return t(e)}}(e, t),Object.defineProperty(t.getters, r, {get: function() {return t._vm[r]},enumerable: !0})}));var a = d.config.silent;d.config.silent = !0,t._vm = new d({data: {$$state: e},computed: s}),d.config.silent = a,t.strict && function(t) {t._vm.$watch((function() {return this._data.$$state}), (function() {0}), {deep: !0,sync: !0})}(t),n && (r && t._withCommit((function() {n._data.$$state = null})),d.nextTick((function() {return n.$destroy()})))}function v(t, e, r, n, i) {var o = !r.length, s = t._modules.getNamespace(r);if (n.namespaced && (t._modulesNamespaceMap[s],t._modulesNamespaceMap[s] = n),!o && !i) {var a = y(e, r.slice(0, -1)), c = r[r.length - 1];t._withCommit((function() {d.set(a, c, n.state)}))}var u = n.context = function(t, e, r) {var n = "" === e, i = {dispatch: n ? t.dispatch : function(r, n, i) {var o = _(r, n, i), s = o.payload, a = o.options, c = o.type;return a && a.root || (c = e + c),t.dispatch(c, s)},commit: n ? t.commit : function(r, n, i) {var o = _(r, n, i), s = o.payload, a = o.options, c = o.type;a && a.root || (c = e + c),t.commit(c, s, a)}};return Object.defineProperties(i, {getters: {get: n ? function() {return t.getters}: function() {return function(t, e) {if (!t._makeLocalGettersCache[e]) {var r = {}, n = e.length;Object.keys(t.getters).forEach((function(i) {if (i.slice(0, n) === e) {var o = i.slice(n);Object.defineProperty(r, o, {get: function() {return t.getters[i]},enumerable: !0})}})),t._makeLocalGettersCache[e] = r}return t._makeLocalGettersCache[e]}(t, e)}},state: {get: function() {return y(t.state, r)}}}),i}(t, s, r);n.forEachMutation((function(e, r) {!function(t, e, r, n) {var i = t._mutations[e] || (t._mutations[e] = []);i.push((function(e) {r.call(t, n.state, e)}))}(t, s + r, e, u)})),n.forEachAction((function(e, r) {var n = e.root ? r : s + r, i = e.handler || e;!function(t, e, r, n) {var i = t._actions[e] || (t._actions[e] = []);i.push((function(e) {var i, o = r.call(t, {dispatch: n.dispatch,commit: n.commit,getters: n.getters,state: n.state,rootGetters: t.getters,rootState: t.state}, e);return (i = o) && "function" == typeof i.then || (o = Promise.resolve(o)),t._devtoolHook ? o.catch((function(e) {throw t._devtoolHook.emit("vuex:error", e),e})) : o}))}(t, n, i, u)})),n.forEachGetter((function(e, r) {!function(t, e, r, n) {if (t._wrappedGetters[e])return void 0;t._wrappedGetters[e] = function(t) {return r(n.state, n.getters, t.state, t.getters)}}(t, s + r, e, u)})),n.forEachChild((function(n, o) {v(t, e, r.concat(o), n, i)}))}function y(t, e) {return e.reduce((function(t, e) {return t[e]}), t)}function _(t, e, r) {return s(t) && t.type && (r = e,e = t,t = t.type),{type: t,payload: e,options: r}}function b(t) {d && t === d || function(t) {if (Number(t.version.split(".")[0]) >= 2)t.mixin({beforeCreate: r});else {var e = t.prototype._init;t.prototype._init = function(t) {void 0 === t && (t = {}),t.init = t.init ? [r].concat(t.init) : r,e.call(this, t)}}function r() {var t = this.$options;t.store ? this.$store = "function" == typeof t.store ? t.store() : t.store : t.parent && t.parent.$store && (this.$store = t.parent.$store)}}(d = t)}h.state.get = function() {return this._vm._data.$$state},h.state.set = function(t) {0},f.prototype.commit = function(t, e, r) {var n = this, i = _(t, e, r), o = i.type, s = i.payload, a = (i.options,{type: o,payload: s}), c = this._mutations[o];c && (this._withCommit((function() {c.forEach((function(t) {t(s)}))})),this._subscribers.slice().forEach((function(t) {return t(a, n.state)})))},f.prototype.dispatch = function(t, e) {var r = this, n = _(t, e), i = n.type, o = n.payload, s = {type: i,payload: o}, a = this._actions[i];if (a) {try {this._actionSubscribers.slice().filter((function(t) {return t.before})).forEach((function(t) {return t.before(s, r.state)}))} catch (t) {0}var c = a.length > 1 ? Promise.all(a.map((function(t) {return t(o)}))) : a[0](o);return new Promise((function(t, e) {c.then((function(e) {try {r._actionSubscribers.filter((function(t) {return t.after})).forEach((function(t) {return t.after(s, r.state)}))} catch (t) {0}t(e)}), (function(t) {try {r._actionSubscribers.filter((function(t) {return t.error})).forEach((function(e) {return e.error(s, r.state, t)}))} catch (t) {0}e(t)}))}))}},f.prototype.subscribe = function(t, e) {return p(t, this._subscribers, e)},f.prototype.subscribeAction = function(t, e) {return p("function" == typeof t ? {before: t} : t, this._actionSubscribers, e)},f.prototype.watch = function(t, e, r) {var n = this;return this._watcherVM.$watch((function() {return t(n.state, n.getters)}), e, r)},f.prototype.replaceState = function(t) {var e = this;this._withCommit((function() {e._vm._data.$$state = t}))},f.prototype.registerModule = function(t, e, r) {void 0 === r && (r = {}),"string" == typeof t && (t = [t]),this._modules.register(t, e),v(this, this.state, t, this._modules.get(t), r.preserveState),m(this, this.state)},f.prototype.unregisterModule = function(t) {var e = this;"string" == typeof t && (t = [t]),this._modules.unregister(t),this._withCommit((function() {var r = y(e.state, t.slice(0, -1));d.delete(r, t[t.length - 1])})),g(this)},f.prototype.hasModule = function(t) {return "string" == typeof t && (t = [t]),this._modules.isRegistered(t)},f.prototype.hotUpdate = function(t) {this._modules.update(t),g(this, !0)},f.prototype._withCommit = function(t) {var e = this._committing;this._committing = !0,t(),this._committing = e},Object.defineProperties(f.prototype, h);var w = I((function(t, e) {var r = {};return A(e).forEach((function(e) {var n = e.key, i = e.val;r[n] = function() {var e = this.$store.state, r = this.$store.getters;if (t) {var n = x(this.$store, "mapState", t);if (!n)return;e = n.context.state,r = n.context.getters}return "function" == typeof i ? i.call(this, e, r) : e[i]},r[n].vuex = !0})),r})), E = I((function(t, e) {var r = {};return A(e).forEach((function(e) {var n = e.key, i = e.val;r[n] = function() {for (var e = [], r = arguments.length; r--; )e[r] = arguments[r];var n = this.$store.commit;if (t) {var o = x(this.$store, "mapMutations", t);if (!o)return;n = o.context.commit}return "function" == typeof i ? i.apply(this, [n].concat(e)) : n.apply(this.$store, [i].concat(e))}})),r})), T = I((function(t, e) {var r = {};return A(e).forEach((function(e) {var n = e.key, i = e.val;i = t + i,r[n] = function() {if (!t || x(this.$store, "mapGetters", t))return this.$store.getters[i]},r[n].vuex = !0})),r})), S = I((function(t, e) {var r = {};return A(e).forEach((function(e) {var n = e.key, i = e.val;r[n] = function() {for (var e = [], r = arguments.length; r--; )e[r] = arguments[r];var n = this.$store.dispatch;if (t) {var o = x(this.$store, "mapActions", t);if (!o)return;n = o.context.dispatch}return "function" == typeof i ? i.apply(this, [n].concat(e)) : n.apply(this.$store, [i].concat(e))}})),r}));function A(t) {return function(t) {return Array.isArray(t) || s(t)}(t) ? Array.isArray(t) ? t.map((function(t) {return {key: t,val: t}})) : Object.keys(t).map((function(e) {return {key: e,val: t[e]}})) : []}function I(t) {return function(e, r) {return "string" != typeof e ? (r = e,e = "") : "/" !== e.charAt(e.length - 1) && (e += "/"),t(e, r)}}function x(t, e, r) {return t._modulesNamespaceMap[r]}function L(t, e, r) {var n = r ? t.groupCollapsed : t.group;try {n.call(t, e)} catch (r) {t.log(e)}}function k(t) {try {t.groupEnd()} catch (e) {t.log("—— log end ——")}}function R() {var t = new Date;return " @ " + C(t.getHours(), 2) + ":" + C(t.getMinutes(), 2) + ":" + C(t.getSeconds(), 2) + "." + C(t.getMilliseconds(), 3)}function C(t, e) {return r = "0",n = e - t.toString().length,new Array(n + 1).join(r) + t;var r, n}var P = {Store: f,install: b,version: "3.6.2",mapState: w,mapMutations: E,mapGetters: T,mapActions: S,createNamespacedHelpers: function(t) {return {mapState: w.bind(null, t),mapGetters: T.bind(null, t),mapMutations: E.bind(null, t),mapActions: S.bind(null, t)}},createLogger: function(t) {void 0 === t && (t = {});var e = t.collapsed;void 0 === e && (e = !0);var r = t.filter;void 0 === r && (r = function(t, e, r) {return !0});var n = t.transformer;void 0 === n && (n = function(t) {return t});var o = t.mutationTransformer;void 0 === o && (o = function(t) {return t});var s = t.actionFilter;void 0 === s && (s = function(t, e) {return !0});var a = t.actionTransformer;void 0 === a && (a = function(t) {return t});var c = t.logMutations;void 0 === c && (c = !0);var u = t.logActions;void 0 === u && (u = !0);var l = t.logger;return void 0 === l && (l = console),function(t) {var d = i(t.state);void 0 !== l && (c && t.subscribe((function(t, s) {var a = i(s);if (r(t, d, a)) {var c = R(), u = o(t), f = "mutation " + t.type + c;L(l, f, e),l.log("%c prev state", "color: #9E9E9E; font-weight: bold", n(d)),l.log("%c mutation", "color: #03A9F4; font-weight: bold", u),l.log("%c next state", "color: #4CAF50; font-weight: bold", n(a)),k(l)}d = a})),u && t.subscribeAction((function(t, r) {if (s(t, r)) {var n = R(), i = a(t), o = "action " + t.type + n;L(l, o, e),l.log("%c action", "color: #03A9F4; font-weight: bold", i),k(l)}})))}}};e.Ay = P},12922: function(t, e, r) {"use strict";t.exports = r.p + "static/img/denglu.45e79e5.png"},25637: function(t) {"use strict";t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAA2CAYAAAEkDCBUAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALaADAAQAAAABAAAANgAAAABRmKPDAAAEtUlEQVRoBd2ZTYgVRxSF7ZdRcYgGETchMm5MFiLoIiAJijBBEHQTsjJCEAJRBDdZZhckC8kyuIpEEfwhP4NgICMTIiJxk2QVNIQQdRaCrhwMMc7TmXyn9DbV1d2v6k2/fqM2nKmfe+vcU7eqq7vfZEu45ubm5lXa1el0sqyqc35+fqZkyEdZJSw7YYe16w1Zlr1mXoUSBRNSZjBjSRUMj8DSUgwYRjSqZDCqARqWEOyUSa0qsd9Tv8UuTcMMVjKlzdTvMfCmlsmtnRi41piTStq3w4jqzyPAxCpneWgZ7TJJipCno87ZBlnpsquGsZhhYGUmJiaoWbt6yIzUEfBY/fmEQye/7VJJRz5Z3+jX5WjzyifqO/h15I3RXq8B+Sjfoa6eM5suc7TQ1lbZF3O+X3wGv47mnxWlb80pzGcXxBxdFF9/sjP74wt/YLTudlrVAkRHBg7hosrcIe/dwK+vpki5Hkgg16w/WOT5lvIN/dQhH32qfORpkGmN72/79RFRwUqqpULTrONhpjfA+jq739+q8vx2sC2Pql1+9JQ6Y9zjwThUalyryqtyfpKg52sUVz5B8P0O9aXTuVXlyfd+zUx6duv2+qunRwOjyDeA9xtwFIbCNVk4Z1iMt8Adfyul1hn3TYHdGhg+TSWp84Pjc+PLyzrnlH4I95sf9YM5KZVG24+c6t1rNaQ/iZT2bvC96o23HkSXwLsiI8AFsGUgxCKBeAJ8qDrEv4F1TRUfhWRMgHMK8mMi5/qxUY6fcJT/EuBaU8Vl1ic93QIxka7rzqkD9lV1TEF/kRjjisAhbK4NO2ra3cIZzSK4V8waZ614nSnsLykOHRbaLiomh/+BWDoKwZjFDuDuPM9QUjztGZOqCLlU4Tgb5vh1HSoVjv12lRT3S1DnX8yxvJiaO1AqRtTNZCc5LhyZjO0WXmZwmKogjHbZmWwlPMfDHI8/8zkunBXROac7tLYrZttS/GfGCs6A1OMwKRnu2GXfvgJmkkYkOMH1aoJbQxdSMQKOgEe2yYddEvvL1Glo/Tbh/Cvl0tRBg/JjSbphXPo+AZ/1iiHR02BdL6e2bIjTG+AouIiGly0O/XPU91GesT6/1Af4ogg2EQi7ClaCXcD9OoAm6ToN/gXbzNfKts4N408uEfwDWA72AmVa7zQrwGVwF7xhZIstunQWIvgMeAkcNpEIXgv+AFfVV3gKmtOwSkRc5pSqDIetqn+1Ohc701XCevW5X9eimWaZbsHyey+mHrYtZGyQT5q4aASfAPt7iIqaEP01eC/qmObgTpfoVyCi78O30J9UNiJ4WZqeuBdaroBt0e1B0JXQuS/zOG3rHvHtYRKYnXO29qBLEpP6ChEXjdgLYM+gRVbxIfwE+KDK5vXFRUOyG+hAP+8NbKM6Tpx3EojjokUC2VYK4Vm4nOgX7+HCfv4FvDmMFLOik2BnJJY7p2NHnp5oH0M0ESFrah6HYHsCidse0YdLAtHQXFj1Y+DQc7mnn0/RpPvh0Na3eaB/RKFMH2/O1T4DydVXwVeKpP9bHQIftR924RHQp3f6VZTTYin8U5LjTV/mB8DbQL/AF+y0h3Xpn9p/g2/BOcRWfnsNS8xA4vwPiJvMvxowAu0AAAAASUVORK5CYII="},6319: function(t, e, r) {"use strict";t.exports = r.p + "static/img/icon-rocket.f89ff9d.png"},92565: function(t) {"use strict";t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAzCAYAAAGmkbu/AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMwAAAACclxbcAAAFKElEQVRoBe2ZW6gWVRTHPWqFZpHVkyQV9mA3iyiMLkQJZpcHiaILJfhoPZyg6KGghyLqredeOhD0YlRSlBZBnIOBRhc6lidLMyHoyTCvqMe+fv9pr+2a/c2emfM5xxTOgsVa+7/+a+3LzOzZ832zZgXp9XrXy8WOGKZGLzb+C/aGPDiEWHs2hGHPNn9IjrHSDCOVrErlhVJ/WhR/zPzCqh+JgXF4BpjN9pELrMkFZqmP49Sda7WDvSq2bUTYQ+hjCghDVqCXyfHkXwUE2WUOVrjFDuKPZ6fn1zlWHsQpXT1fINNDfpl8cqXPhJ5Bv0uDYPvRhSUc4Ef0XYHYuHzmm41JHsD/Cl2dYK/QfrhIwBlBba334O9GTQxXW/4Su5pGMPuGOanNXbildP9zHLNzcnffUcfpwE3HSXtZBVYsd25I2WGcgQl9Y62aLNiOlAi2OMN9PuXGtiVEIDgpTvvJgH3kuWDrAv6Ex6NPcFMgTEQwOAGXeSj4X3gO2E0Bj0+T4rpVP8Ou9OQu/dyzkOtjKVvPDo00R0hx3XetyWlym/ZcRjSbAV0IeXlDwiGNPnDOwa5o4B+BPxY5dDKC1skxI0N6oY5I7AR6rvEL25Bg4WUiW6PBPiXulJ99JU1Fzv4O4mxZT91Ner/l5LCRIQznSOD/oC8Zt88SvAj9AP0dfauP4ADi96K70b3ocy5U7UJ6Ea2SRWkGJP9OjTkpr9SOrF7vUgVo32eYJ4KtCfh+w2l/ErBvDCtZgmsD4XEfABsN+COGh3bfFlOF+9vUntTFVkiWx/2u0F4vS5HivIi7KeDtjY0Ae43Por01xB4wjo/LB98ZYht8TNv1EoAP0XmoLuZ81OQ3HJ0aNdPLDcRqeXaF9nlYP+udAd/M7NdO9X0Qclubz/01aMxiRJrNy43Ek4SVU+og5BUX+2SNem+QDuorJtHp7qA3SAf6yGorw/bhchsZ5zdkfck1nhSHW/t2zIIG/hb4fzdwOgozIj0Pk2idvGndQTpSRyT2sXELC3BPQ0IRFhnnkrZc8Qe5yMprLTMdNC7VzBK1XqKvG5kDEoprwJ5xkPyn0WKvydR6XTjcvZh4XKng/gKm74d2wlN7P/pHw9OrM9HF7SoWu8Ei+Bsbau4jHo9KbWtHHsmrKjpQ0ffREfQHNJWNsUCFA1l76miaRHscfQf9FNUvbF50lr67olweIuFGXwH/J7T8xRXSwR9NuNtp9z2+YHPQ9Li8qmoU8Bage1Av+pGpnZD1rM/Ev6Muk7h+0PSiq1O8i5WHry+bCU/Av6Wh5oMJf10dvxQj8YokWc/ABSVS0iCe3nLfigKu22Yb6kUHjKxAXIj+5RJ0G+nM3F5IuBrVT8dedCZ4D721qhJ4umpbwL5HvdinRqkEhDvRDah+IPBygIYO/5Wi1bmWiPbR+ZWMMxfUB/VyTeAATtP5b9BpbCVRn0GVV2zQoi7vsCagDqZDbuClNK7CdHEdZtt0dNK33XXYyVFXayqfEi6t2Z3OCTT33gFDE9jeQZ3/q8SEJqD781W0y8s8Sj0dukzkj1mjA6tD4WuodtCzW+Lr3k+DXUN/kKZ/knpKnX+c3edEFYG6c8DbH4XLRSapW3ccL7a7m+mkK7nS+qfgPLTpy75tv6utrmy6C+mPia7En530ltfqdyG+bt8EuujgtNZIr8Bp7byLzmYm0MUqnkqNmStwKqvXRW56BY51UXSaa/hTbnkb5U23mc51LupC9rki+nqqf4s6co37NmNc7+P/Aq6lPZaj9usZAAAAAElFTkSuQmCC"},30954: function(t) {"use strict";t.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAoCAYAAABdGbwdAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAXuSURBVGiB7ZpPaBNbFMa/Se6UGwgyceFLw3MMFPqy0Da6cQhICgUrIrbCgBQMWmlJ60bMpg93b1FwFha6iRSLUBTddGGgXVRRHMUQwUJFpN0E4vCY1oVOFpUOWGfeIpm+GCdJ86/Ne/W3KjP3njn36z3nnjMZBrXDsSzrZxgmYJomBUBN0+QA0DpsthxMleM5QojAMIzfNE1vUzxqMXYqECWECAAE/M92SCUqCsSybBBATz589h1lBSKE9ADo2RVPWpRSAtG8OMIu+tKSELuLbW1tZwzDCO62M62Io/gCIaTnlzj/8oNAVkLeG1dak0KBqGmaZ/bMkxZlW6B8nbOvapydYAlEsUcnFs/zlOf5mv8xAwMDXkmSuuuxUQ4HsDu7R5KkoCzL/YIgbBec4+PjgQ8fPlyXJOlkrXZv3brVF4vFBuqxUQ4CAPmGsxn2txkaGgp7PB7uwoULH1Op1DIAfP78WaeU0nPnzgkA5FJzl5aWLh4+fNi293O5XBQARFHs6e3tLXn6rqysZMLhcKJavx0cx3HNbjwXFhb6PB4Pl0wml8fHx5et6zMzM5l0Op2hlNKFhYW+UvM3Njb0Uvc2Nzd1TdOymqZly/ngdrtrihCGZVmhmafX9PS0cPXq1T5N07Lnz5+fTaVSPyxEEATu6dOnUUopHRsbm52ZmcmUszcyMuKv5vmLi4vriqKUFLgSTFtb20CzCkNJkoKxWKwfAMot3hJR13U9EonMPn78eN1unCAI3KtXr65X48O1a9dm7969a/vcnUCa1aVbiwaAycnJRLmdEY1GUwcOHKCiKIbv379/OR6PLxaGYjHpdDqTSCRK3geA/v7+YEdHh79W/y0IgIYKxPM8ffLkycWOjg6/rut6pcVaDA4OvgAAURTDsVis/+jRo7+NjY3JduHhcrkoz/Nl/baSd72Q/OvShmEtSNO07M2bNxORSKRbluUjO5m7sbGhT05OJoaGhsKFtorx+XxeURR35Y0mQwj5Ew2ugQRB4FRV1X0+H60mZ2ialj106NCUIAhccTIvtF2NL6qq6nUlaZZlR5t1zPM8T/v6+rZtj46Onuzq6grMzc3Jz58/zxSOjcfjly2B7GyNjIz44/H45Vr8YFn2r1rmAbkcVLO6lVAURS88QSYmJvoBYGpqarl4h8TjcXz58qVkLfP+/ftsMpmsmMvcbjft6uoKAICu6/r8/Hyq5gUAIAzD6M2uooFcz+TxeLi1tbV1u1qo0vxUKpUtVwkPDw/7I5FId2dnpz+dTmdkWV6dmJh4V094AbkkvQogUI+RnXDjxo2TAPDo0aM3xfeOHTvGAcCnT59sd1Cl4vDSpUvdoVAouLa2tj4/P//GCt/C8AZqKxrJt2/fMoTYvnltGNPT00IoFApqmpa1O/IPHjxIAfuWQhAEbqe5p7293SuKolcUxbDd/VOnTk1VLRCALMMw681K1JIkBa2C8fbt24t2Y86ePfsHALx8+fJj8T1VVfW5ubkX5Z4RCoUCPp/Pm0wml1VVLZnHVFWtOtwIAJimmQHQUIF4nqd37twJnz59WgCAe/fuLUqStFo8bnh42H/ixIkAAMiy/FOLoSiKPjg4WLLTB4ClpSWvz+fzPnjw4F09bYUdBAC2trZShJAgGlQP8TxP3759G/V4PJyu6/rDhw/laDSaAgBFUaLt7e1eTdOyLpeLUkopkGsfStU+dhR2/52dnf5G+G2HlXyyAFJo0At7RVH0Z8+evTt+/PiRK1euJAoX/vr169Xe3l4K5F5VbG5u6isrK5lIJGIbfqXwer2cdZwDOYEbvXuAH384pPmicV/+xFwKZ8HfW06nU8cuHPn/JQoFgmEY6w6HAwD8e+JNC+IsvmAYRsbhcFAAv++BPy3HTwIBgGEYfxNC3PvlI6ly2AoEYOv79++rv8KttEAAcuHmdDqzyInU3H6kRSkrEJBL3IZhvHU4HFvIVdv7SqiKAuXZMgwjYwnFMAwF4G6mY61CtV+5bsNxHPf169cAwzDefHHJWZ8DN869vecfUzRxtAvtjH8AAAAASUVORK5CYII="},49763: function(t, e, r) {t.exports = r(86450)},11393: function(t, e, r) {t.exports = r(50530)},27124: function(t, e, r) {t.exports = r(85837)},5496: function(t, e, r) {t.exports = r(40587)},96319: function(t, e, r) {t.exports = r(22616)},26327: function(t, e, r) {t.exports = r(70228)},71426: function(t, e, r) {t.exports = r(99617)},8628: function(t, e, r) {t.exports = r(76343)},48079: function(t, e, r) {t.exports = r(98894)},18979: function(t, e, r) {t.exports = r(6686)},385: function(t, e, r) {t.exports = r(40026)},165: function(t, e, r) {t.exports = r(12268)},11265: function(t, e, r) {t.exports = r(34598)},85569: function(t, e, r) {t.exports = r(76660)},29544: function(t, e, r) {t.exports = r(40975)},78928: function(t, e, r) {t.exports = r(46513)},36751: function(t, e, r) {t.exports = r(93220)},26100: function(t, e, r) {t.exports = r(69563)},50697: function(t, e, r) {t.exports = r(76490)},61240: function(t, e, r) {t.exports = r(45204)},14607: function(t, e, r) {t.exports = r(74674)},56255: function(t, e, r) {t.exports = r(70568)},66512: function(t, e, r) {t.exports = r(48348)},96984: function(t, e, r) {t.exports = r(49792)},25953: function(t, e, r) {var n = r(91234).default, i = r(20591), o = r(93071), s = r(14006), a = r(55169), c = r(73113), u = r(1958), l = r(56269), d = r(16160), f = r(80734), h = r(55186);function p() {"use strict";t.exports = p = function() {return r},t.exports.__esModule = !0,t.exports.default = t.exports;var e, r = {}, g = Object.prototype, m = g.hasOwnProperty, v = i || function(t, e, r) {t[e] = r.value}, y = "function" == typeof o ? o : {}, _ = y.iterator || "@@iterator", b = y.asyncIterator || "@@asyncIterator", w = y.toStringTag || "@@toStringTag";function E(t, e, r) {return i(t, e, {value: r,enumerable: !0,configurable: !0,writable: !0}),t[e]}try {E({}, "")} catch (e) {E = function(t, e, r) {return t[e] = r}}function T(t, e, r, n) {var i = e && e.prototype instanceof R ? e : R, o = s(i.prototype), a = new H(n || []);return v(o, "_invoke", {value: N(t, r, a)}),o}function S(t, e, r) {try {return {type: "normal",arg: t.call(e, r)}} catch (t) {return {type: "throw",arg: t}}}r.wrap = T;var A = "suspendedStart", I = "suspendedYield", x = "executing", L = "completed", k = {};function R() {}function C() {}function P() {}var D = {};E(D, _, (function() {return this}));var O = a && a(a(G([])));O && O !== g && m.call(O, _) && (D = O);var M = P.prototype = R.prototype = s(D);function U(t) {var e;c(e = ["next", "throw", "return"]).call(e, (function(e) {E(t, e, (function(t) {return this._invoke(e, t)}))}))}function F(t, e) {function r(i, o, s, a) {var c = S(t[i], t, o);if ("throw" !== c.type) {var u = c.arg, l = u.value;return l && "object" == n(l) && m.call(l, "__await") ? e.resolve(l.__await).then((function(t) {r("next", t, s, a)}), (function(t) {r("throw", t, s, a)})) : e.resolve(l).then((function(t) {u.value = t,s(u)}), (function(t) {return r("throw", t, s, a)}))}a(c.arg)}var i;v(this, "_invoke", {value: function(t, n) {function o() {return new e((function(e, i) {r(t, n, e, i)}))}return i = i ? i.then(o, o) : o()}})}function N(t, r, n) {var i = A;return function(o, s) {if (i === x)throw new Error("Generator is already running");if (i === L) {if ("throw" === o)throw s;return {value: e,done: !0}}for (n.method = o,n.arg = s; ; ) {var a = n.delegate;if (a) {var c = B(a, n);if (c) {if (c === k)continue;return c}}if ("next" === n.method)n.sent = n._sent = n.arg;else if ("throw" === n.method) {if (i === A)throw i = L,n.arg;n.dispatchException(n.arg)} else"return" === n.method && n.abrupt("return", n.arg);i = x;var u = S(t, r, n);if ("normal" === u.type) {if (i = n.done ? L : I,u.arg === k)continue;return {value: u.arg,done: n.done}}"throw" === u.type && (i = L,n.method = "throw",n.arg = u.arg)}}}function B(t, r) {var n = r.method, i = t.iterator[n];if (i === e)return r.delegate = null,"throw" === n && t.iterator.return && (r.method = "return",r.arg = e,B(t, r),"throw" === r.method) || "return" !== n && (r.method = "throw",r.arg = new TypeError("The iterator does not provide a '" + n + "' method")),k;var o = S(i, t.iterator, r.arg);if ("throw" === o.type)return r.method = "throw",r.arg = o.arg,r.delegate = null,k;var s = o.arg;return s ? s.done ? (r[t.resultName] = s.value,r.next = t.nextLoc,"return" !== r.method && (r.method = "next",r.arg = e),r.delegate = null,k) : s : (r.method = "throw",r.arg = new TypeError("iterator result is not an object"),r.delegate = null,k)}function j(t) {var e, r = {tryLoc: t[0]};1 in t && (r.catchLoc = t[1]),2 in t && (r.finallyLoc = t[2],r.afterLoc = t[3]),u(e = this.tryEntries).call(e, r)}function $(t) {var e = t.completion || {};e.type = "normal",delete e.arg,t.completion = e}function H(t) {this.tryEntries = [{tryLoc: "root"}],c(t).call(t, j, this),this.reset(!0)}function G(t) {if (t || "" === t) {var r = t[_];if (r)return r.call(t);if ("function" == typeof t.next)return t;if (!isNaN(t.length)) {var i = -1, o = function r() {for (; ++i < t.length; )if (m.call(t, i))return r.value = t[i],r.done = !1,r;return r.value = e,r.done = !0,r};return o.next = o}}throw new TypeError(n(t) + " is not iterable")}return C.prototype = P,v(M, "constructor", {value: P,configurable: !0}),v(P, "constructor", {value: C,configurable: !0}),C.displayName = E(P, w, "GeneratorFunction"),r.isGeneratorFunction = function(t) {var e = "function" == typeof t && t.constructor;return !!e && (e === C || "GeneratorFunction" === (e.displayName || e.name))},r.mark = function(t) {return l ? l(t, P) : (t.__proto__ = P,E(t, w, "GeneratorFunction")),t.prototype = s(M),t},r.awrap = function(t) {return {__await: t}},U(F.prototype),E(F.prototype, b, (function() {return this})),r.AsyncIterator = F,r.async = function(t, e, n, i, o) {void 0 === o && (o = d);var s = new F(T(t, e, n, i),o);return r.isGeneratorFunction(e) ? s : s.next().then((function(t) {return t.done ? t.value : s.next()}))},U(M),E(M, w, "Generator"),E(M, _, (function() {return this})),E(M, "toString", (function() {return "[object Generator]"})),r.keys = function(t) {var e = Object(t), r = [];for (var n in e)u(r).call(r, n);return f(r).call(r),function t() {for (; r.length; ) {var n = r.pop();if (n in e)return t.value = n,t.done = !1,t}return t.done = !0,t}},r.values = G,H.prototype = {constructor: H,reset: function(t) {var r;if (this.prev = 0,this.next = 0,this.sent = this._sent = e,this.done = !1,this.delegate = null,this.method = "next",this.arg = e,c(r = this.tryEntries).call(r, $),!t)for (var n in this)"t" === n.charAt(0) && m.call(this, n) && !isNaN(+h(n).call(n, 1)) && (this[n] = e)},stop: function() {this.done = !0;var t = this.tryEntries[0].completion;if ("throw" === t.type)throw t.arg;return this.rval},dispatchException: function(t) {if (this.done)throw t;var r = this;function n(n, i) {return s.type = "throw",s.arg = t,r.next = n,i && (r.method = "next",r.arg = e),!!i}for (var i = this.tryEntries.length - 1; i >= 0; --i) {var o = this.tryEntries[i], s = o.completion;if ("root" === o.tryLoc)return n("end");if (o.tryLoc <= this.prev) {var a = m.call(o, "catchLoc"), c = m.call(o, "finallyLoc");if (a && c) {if (this.prev < o.catchLoc)return n(o.catchLoc, !0);if (this.prev < o.finallyLoc)return n(o.finallyLoc)} else if (a) {if (this.prev < o.catchLoc)return n(o.catchLoc, !0)} else {if (!c)throw new Error("try statement without catch or finally");if (this.prev < o.finallyLoc)return n(o.finallyLoc)}}}},abrupt: function(t, e) {for (var r = this.tryEntries.length - 1; r >= 0; --r) {var n = this.tryEntries[r];if (n.tryLoc <= this.prev && m.call(n, "finallyLoc") && this.prev < n.finallyLoc) {var i = n;break}}i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);var o = i ? i.completion : {};return o.type = t,o.arg = e,i ? (this.method = "next",this.next = i.finallyLoc,k) : this.complete(o)},complete: function(t, e) {if ("throw" === t.type)throw t.arg;return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg,this.method = "return",this.next = "end") : "normal" === t.type && e && (this.next = e),k},finish: function(t) {for (var e = this.tryEntries.length - 1; e >= 0; --e) {var r = this.tryEntries[e];if (r.finallyLoc === t)return this.complete(r.completion, r.afterLoc),$(r),k}},catch: function(t) {for (var e = this.tryEntries.length - 1; e >= 0; --e) {var r = this.tryEntries[e];if (r.tryLoc === t) {var n = r.completion;if ("throw" === n.type) {var i = n.arg;$(r)}return i}}throw new Error("illegal catch attempt")},delegateYield: function(t, r, n) {return this.delegate = {iterator: G(t),resultName: r,nextLoc: n},"next" === this.method && (this.arg = e),k}},r}t.exports = p,t.exports.__esModule = !0,t.exports.default = t.exports},91234: function(t, e, r) {var n = r(93071), i = r(4473);function o(e) {return t.exports = o = "function" == typeof n && "symbol" == typeof i ? function(t) {return typeof t}: function(t) {return t && "function" == typeof n && t.constructor === n && t !== n.prototype ? "symbol" : typeof t},t.exports.__esModule = !0,t.exports.default = t.exports,o(e)}t.exports = o,t.exports.__esModule = !0,t.exports.default = t.exports},44828: function(t, e, r) {var n = r(25953)();t.exports = n;try {regeneratorRuntime = n} catch (t) {"object" == typeof globalThis ? globalThis.regeneratorRuntime = n : Function("r", "regeneratorRuntime = r")(n)}},47985: function(t, e, r) {"use strict";var n = r(86450);t.exports = n},77725: function(t, e, r) {"use strict";var n = r(18402);t.exports = n},68690: function(t, e, r) {"use strict";var n = r(33067);t.exports = n},2544: function(t, e, r) {"use strict";var n = r(24525);t.exports = n},45779: function(t, e, r) {"use strict";var n = r(33266);t.exports = n},9433: function(t, e, r) {"use strict";var n = r(14106);t.exports = n},6221: function(t, e, r) {"use strict";var n = r(6686);t.exports = n},56975: function(t, e, r) {"use strict";var n = r(93658);t.exports = n},26040: function(t, e, r) {"use strict";var n = r(68251);t.exports = n},1168: function(t, e, r) {"use strict";var n = r(49261);t.exports = n},94972: function(t, e, r) {"use strict";var n = r(27777);t.exports = n},49645: function(t, e, r) {"use strict";var n = r(45204);r(33568),t.exports = n},57264: function(t, e, r) {"use strict";var n = r(24139);r(20768),r(8549),r(87152),r(11372),t.exports = n},59692: function(t, e, r) {"use strict";var n = r(27045);t.exports = n},25663: function(t, e, r) {"use strict";var n = r(10070);t.exports = n},93607: function(t, e, r) {"use strict";r(7057),r(57277);var n = r(92046);t.exports = n.Array.from},13531: function(t, e, r) {"use strict";r(92425);var n = r(92046);t.exports = n.Array.isArray},96275: function(t, e, r) {"use strict";r(58545);var n = r(61747);t.exports = n("Array", "concat")},25366: function(t, e, r) {"use strict";r(36744);var n = r(61747);t.exports = n("Array", "fill")},16177: function(t, e, r) {"use strict";r(49295);var n = r(61747);t.exports = n("Array", "filter")},60285: function(t, e, r) {"use strict";r(79175);var n = r(61747);t.exports = n("Array", "findIndex")},94668: function(t, e, r) {"use strict";r(6290);var n = r(61747);t.exports = n("Array", "find")},22092: function(t, e, r) {"use strict";r(95650);var n = r(61747);t.exports = n("Array", "forEach")},11362: function(t, e, r) {"use strict";r(19748);var n = r(61747);t.exports = n("Array", "includes")},28253: function(t, e, r) {"use strict";r(6687);var n = r(61747);t.exports = n("Array", "map")},21127: function(t, e, r) {"use strict";r(85745);var n = r(61747);t.exports = n("Array", "push")},66429: function(t, e, r) {"use strict";r(48559);var n = r(61747);t.exports = n("Array", "reverse")},75265: function(t, e, r) {"use strict";r(62099);var n = r(61747);t.exports = n("Array", "slice")},84923: function(t, e, r) {"use strict";r(35953);var n = r(61747);t.exports = n("Array", "splice")},54712: function(t, e, r) {"use strict";r(99363),r(7057);var n = r(73448);t.exports = n},45837: function(t, e, r) {"use strict";var n = r(88280), i = r(96275), o = Array.prototype;t.exports = function(t) {var e = t.concat;return t === o || n(o, t) && e === o.concat ? i : e}},64048: function(t, e, r) {"use strict";var n = r(88280), i = r(48270), o = String.prototype;t.exports = function(t) {var e = t.endsWith;return "string" == typeof t || t === o || n(o, t) && e === o.endsWith ? i : e}},22948: function(t, e, r) {"use strict";var n = r(88280), i = r(25366), o = Array.prototype;t.exports = function(t) {var e = t.fill;return t === o || n(o, t) && e === o.fill ? i : e}},33155: function(t, e, r) {"use strict";var n = r(88280), i = r(16177), o = Array.prototype;t.exports = function(t) {var e = t.filter;return t === o || n(o, t) && e === o.filter ? i : e}},9635: function(t, e, r) {"use strict";var n = r(88280), i = r(60285), o = Array.prototype;t.exports = function(t) {var e = t.findIndex;return t === o || n(o, t) && e === o.findIndex ? i : e}},63246: function(t, e, r) {"use strict";var n = r(88280), i = r(94668), o = Array.prototype;t.exports = function(t) {var e = t.find;return t === o || n(o, t) && e === o.find ? i : e}},36880: function(t, e, r) {"use strict";var n = r(88280), i = r(11362), o = r(44378), s = Array.prototype, a = String.prototype;t.exports = function(t) {var e = t.includes;return t === s || n(s, t) && e === s.includes ? i : "string" == typeof t || t === a || n(a, t) && e === a.includes ? o : e}},39299: function(t, e, r) {"use strict";var n = r(88280), i = r(28253), o = Array.prototype;t.exports = function(t) {var e = t.map;return t === o || n(o, t) && e === o.map ? i : e}},78685: function(t, e, r) {"use strict";var n = r(88280), i = r(21127), o = Array.prototype;t.exports = function(t) {var e = t.push;return t === o || n(o, t) && e === o.push ? i : e}},98059: function(t, e, r) {"use strict";var n = r(88280), i = r(66429), o = Array.prototype;t.exports = function(t) {var e = t.reverse;return t === o || n(o, t) && e === o.reverse ? i : e}},40303: function(t, e, r) {"use strict";var n = r(88280), i = r(75265), o = Array.prototype;t.exports = function(t) {var e = t.slice;return t === o || n(o, t) && e === o.slice ? i : e}},95029: function(t, e, r) {"use strict";var n = r(88280), i = r(84923), o = Array.prototype;t.exports = function(t) {var e = t.splice;return t === o || n(o, t) && e === o.splice ? i : e}},67961: function(t, e, r) {"use strict";var n = r(88280), i = r(54491), o = String.prototype;t.exports = function(t) {var e = t.startsWith;return "string" == typeof t || t === o || n(o, t) && e === o.startsWith ? i : e}},8661: function(t, e, r) {"use strict";var n = r(88280), i = r(77511), o = String.prototype;t.exports = function(t) {var e = t.trim;return "string" == typeof t || t === o || n(o, t) && e === o.trim ? i : e}},10317: function(t, e, r) {"use strict";r(56648),r(49721);var n = r(92046), i = r(76024);n.JSON || (n.JSON = {stringify: JSON.stringify}),t.exports = function(t, e, r) {return i(n.JSON.stringify, null, arguments)}},9748: function(t, e, r) {"use strict";r(71340);var n = r(92046);t.exports = n.Object.assign},80149: function(t, e, r) {"use strict";r(25837);var n = r(92046).Object;t.exports = function(t, e) {return n.create(t, e)}},21926: function(t, e, r) {"use strict";r(46750);var n = r(92046).Object, i = t.exports = function(t, e, r) {return n.defineProperty(t, e, r)};n.defineProperty.sham && (i.sham = !0)},95092: function(t, e, r) {"use strict";r(87052);var n = r(92046).Object, i = t.exports = function(t, e) {return n.getOwnPropertyDescriptor(t, e)};n.getOwnPropertyDescriptor.sham && (i.sham = !0)},69147: function(t, e, r) {"use strict";r(50179);var n = r(92046);t.exports = n.Object.getOwnPropertyDescriptors},94776: function(t, e, r) {"use strict";r(94452);var n = r(92046);t.exports = n.Object.getOwnPropertySymbols},56286: function(t, e, r) {"use strict";r(38966);var n = r(92046);t.exports = n.Object.getPrototypeOf},19661: function(t, e, r) {"use strict";r(83589);var n = r(92046);t.exports = n.Object.keys},61418: function(t, e, r) {"use strict";r(91906);var n = r(92046);t.exports = n.Object.setPrototypeOf},97027: function(t, e, r) {"use strict";r(64502),r(99363),r(86024),r(65931),r(57450),r(36415),r(25823),r(47714),r(7057);var n = r(92046);t.exports = n.Promise},48270: function(t, e, r) {"use strict";r(80430);var n = r(61747);t.exports = n("String", "endsWith")},44378: function(t, e, r) {"use strict";r(19770);var n = r(61747);t.exports = n("String", "includes")},54491: function(t, e, r) {"use strict";r(22395);var n = r(61747);t.exports = n("String", "startsWith")},77511: function(t, e, r) {"use strict";r(50727);var n = r(61747);t.exports = n("String", "trim")},83842: function(t, e, r) {"use strict";r(58545),r(86024),r(94452),r(3997),r(75084),r(2596),r(5721),r(44954),r(44123),r(73377),r(72230),r(15344),r(51660),r(4610),r(33669),r(44810),r(93325),r(87024),r(38172),r(85205);var n = r(92046);t.exports = n.Symbol},1730: function(t, e, r) {"use strict";r(99363),r(86024),r(7057),r(44954);var n = r(80560);t.exports = n.f("iterator")},31661: function(t, e, r) {"use strict";r(98537),r(33669);var n = r(80560);t.exports = n.f("toPrimitive")},73113: function(t, e, r) {"use strict";t.exports = r(28959)},1958: function(t, e, r) {"use strict";t.exports = r(63520)},80734: function(t, e, r) {"use strict";t.exports = r(90288)},55186: function(t, e, r) {"use strict";t.exports = r(64908)},14006: function(t, e, r) {"use strict";t.exports = r(47764)},20591: function(t, e, r) {"use strict";t.exports = r(84997)},55169: function(t, e, r) {"use strict";t.exports = r(27415)},56269: function(t, e, r) {"use strict";t.exports = r(5363)},16160: function(t, e, r) {"use strict";t.exports = r(87166)},93071: function(t, e, r) {"use strict";t.exports = r(32321)},4473: function(t, e, r) {"use strict";t.exports = r(22231)},8980: function(t, e, r) {"use strict";var n = r(47985);t.exports = n},31564: function(t, e, r) {"use strict";var n = r(77725);t.exports = n},99029: function(t, e, r) {"use strict";var n = r(68690);t.exports = n},28959: function(t, e, r) {"use strict";var n = r(2544);t.exports = n},63520: function(t, e, r) {"use strict";var n = r(45779);t.exports = n},90288: function(t, e, r) {"use strict";var n = r(9433);t.exports = n},64908: function(t, e, r) {"use strict";var n = r(6221);t.exports = n},47764: function(t, e, r) {"use strict";var n = r(56975);t.exports = n},84997: function(t, e, r) {"use strict";var n = r(26040);t.exports = n},27415: function(t, e, r) {"use strict";var n = r(1168);t.exports = n},5363: function(t, e, r) {"use strict";var n = r(94972);t.exports = n},87166: function(t, e, r) {"use strict";var n = r(49645);r(91599),r(27939),r(27637),r(64362),t.exports = n},32321: function(t, e, r) {"use strict";var n = r(57264);r(13939),r(21785),r(28703),r(84664),r(63422),r(70036),r(86878),r(59671),r(50359),t.exports = n},22231: function(t, e, r) {"use strict";var n = r(59692);t.exports = n},19280: function(t, e, r) {"use strict";var n = r(25663);t.exports = n},82159: function(t, e, r) {"use strict";var n = r(62250), i = r(4640), o = TypeError;t.exports = function(t) {if (n(t))return t;throw new o(i(t) + " is not a function")}},82235: function(t, e, r) {"use strict";var n = r(25468), i = r(4640), o = TypeError;t.exports = function(t) {if (n(t))return t;throw new o(i(t) + " is not a constructor")}},10043: function(t, e, r) {"use strict";var n = r(54018), i = String, o = TypeError;t.exports = function(t) {if (n(t))return t;throw new o("Can't set " + i(t) + " as a prototype")}},42156: function(t) {"use strict";t.exports = function() {}},59596: function(t, e, r) {"use strict";var n = r(88280), i = TypeError;t.exports = function(t, e) {if (n(e, t))return t;throw new i("Incorrect invocation")}},36624: function(t, e, r) {"use strict";var n = r(46285), i = String, o = TypeError;t.exports = function(t) {if (n(t))return t;throw new o(i(t) + " is not an object")}},29832: function(t, e, r) {"use strict";var n = r(39298), i = r(34849), o = r(20575);t.exports = function(t) {for (var e = n(this), r = o(e), s = arguments.length, a = i(s > 1 ? arguments[1] : void 0, r), c = s > 2 ? arguments[2] : void 0, u = void 0 === c ? r : i(c, r); u > a; )e[a++] = t;return e}},22914: function(t, e, r) {"use strict";var n = r(70726).forEach, i = r(77623)("forEach");t.exports = i ? [].forEach : function(t) {return n(this, t, arguments.length > 1 ? arguments[1] : void 0)}},11229: function(t, e, r) {"use strict";var n = r(28311), i = r(13930), o = r(39298), s = r(26818), a = r(37812), c = r(25468), u = r(20575), l = r(5543), d = r(10300), f = r(73448), h = Array;t.exports = function(t) {var e = o(t), r = c(this), p = arguments.length, g = p > 1 ? arguments[1] : void 0, m = void 0 !== g;m && (g = n(g, p > 2 ? arguments[2] : void 0));var v, y, _, b, w, E, T = f(e), S = 0;if (!T || this === h && a(T))for (v = u(e),y = r ? new this(v) : h(v); v > S; S++)E = m ? g(e[S], S) : e[S],l(y, S, E);elsefor (w = (b = d(e, T)).next,y = r ? new this : []; !(_ = i(w, b)).done; S++)E = m ? s(b, g, [_.value, S], !0) : _.value,l(y, S, E);return y.length = S,y}},74436: function(t, e, r) {"use strict";var n = r(27374), i = r(34849), o = r(20575), s = function(t) {return function(e, r, s) {var a = n(e), c = o(a);if (0 === c)return !t && -1;var u, l = i(s, c);if (t && r != r) {for (; c > l; )if ((u = a[l++]) != u)return !0} elsefor (; c > l; l++)if ((t || l in a) && a[l] === r)return t || l || 0;return !t && -1}};t.exports = {includes: s(!0),indexOf: s(!1)}},70726: function(t, e, r) {"use strict";var n = r(28311), i = r(1907), o = r(16946), s = r(39298), a = r(20575), c = r(56968), u = i([].push), l = function(t) {var e = 1 === t, r = 2 === t, i = 3 === t, l = 4 === t, d = 6 === t, f = 7 === t, h = 5 === t || d;return function(p, g, m, v) {for (var y, _, b = s(p), w = o(b), E = a(w), T = n(g, m), S = 0, A = v || c, I = e ? A(p, E) : r || f ? A(p, 0) : void 0; E > S; S++)if ((h || S in w) && (_ = T(y = w[S], S, b),t))if (e)I[S] = _;else if (_)switch (t) {case 3:return !0;case 5:return y;case 6:return S;case 2:u(I, y)}elseswitch (t) {case 4:return !1;case 7:u(I, y)}return d ? -1 : i || l ? l : I}};t.exports = {forEach: l(0),map: l(1),filter: l(2),some: l(3),every: l(4),find: l(5),findIndex: l(6),filterReject: l(7)}},59552: function(t, e, r) {"use strict";var n = r(98828), i = r(76264), o = r(15683), s = i("species");t.exports = function(t) {return o >= 51 || !n((function() {var e = [];return (e.constructor = {})[s] = function() {return {foo: 1}},1 !== e[t](Boolean).foo}))}},77623: function(t, e, r) {"use strict";var n = r(98828);t.exports = function(t, e) {var r = [][t];return !!r && n((function() {r.call(null, e || function() {return 1}, 1)}))}},3130: function(t, e, r) {"use strict";var n = r(39447), i = r(11793), o = TypeError, s = Object.getOwnPropertyDescriptor, a = n && !function() {if (void 0 !== this)return !0;try {Object.defineProperty([], "length", {writable: !1}).length = 1} catch (t) {return t instanceof TypeError}}();t.exports = a ? function(t, e) {if (i(t) && !s(t, "length").writable)throw new o("Cannot set read only .length");return t.length = e}: function(t, e) {return t.length = e}},93427: function(t, e, r) {"use strict";var n = r(1907);t.exports = n([].slice)},34321: function(t, e, r) {"use strict";var n = r(93427), i = Math.floor, o = function(t, e) {var r = t.length;if (r < 8)for (var s, a, c = 1; c < r; ) {for (a = c,s = t[c]; a && e(t[a - 1], s) > 0; )t[a] = t[--a];a !== c++ && (t[a] = s)}elsefor (var u = i(r / 2), l = o(n(t, 0, u), e), d = o(n(t, u), e), f = l.length, h = d.length, p = 0, g = 0; p < f || g < h; )t[p + g] = p < f && g < h ? e(l[p], d[g]) <= 0 ? l[p++] : d[g++] : p < f ? l[p++] : d[g++];return t};t.exports = o},64010: function(t, e, r) {"use strict";var n = r(11793), i = r(25468), o = r(46285), s = r(76264)("species"), a = Array;t.exports = function(t) {var e;return n(t) && (e = t.constructor,(i(e) && (e === a || n(e.prototype)) || o(e) && null === (e = e[s])) && (e = void 0)),void 0 === e ? a : e}},56968: function(t, e, r) {"use strict";var n = r(64010);t.exports = function(t, e) {return new (n(t))(0 === e ? 0 : e)}},26818: function(t, e, r) {"use strict";var n = r(36624), i = r(40154);t.exports = function(t, e, r, o) {try {return o ? e(n(r)[0], r[1]) : e(r)} catch (e) {i(t, "throw", e)}}},70473: function(t, e, r) {"use strict";var n = r(76264)("iterator"), i = !1;try {var o = 0, s = {next: function() {return {done: !!o++}},return: function() {i = !0}};s[n] = function() {return this},Array.from(s, (function() {throw 2}))} catch (t) {}t.exports = function(t, e) {try {if (!e && !i)return !1} catch (t) {return !1}var r = !1;try {var o = {};o[n] = function() {return {next: function() {return {done: r = !0}}}},t(o)} catch (t) {}return r}},45807: function(t, e, r) {"use strict";var n = r(1907), i = n({}.toString), o = n("".slice);t.exports = function(t) {return o(i(t), 8, -1)}},73948: function(t, e, r) {"use strict";var n = r(52623), i = r(62250), o = r(45807), s = r(76264)("toStringTag"), a = Object, c = "Arguments" === o(function() {return arguments}());t.exports = n ? o : function(t) {var e, r, n;return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (r = function(t, e) {try {return t[e]} catch (t) {}}(e = a(t), s)) ? r : c ? o(e) : "Object" === (n = o(e)) && i(e.callee) ? "Arguments" : n}},19595: function(t, e, r) {"use strict";var n = r(49724), i = r(11042), o = r(13846), s = r(74284);t.exports = function(t, e, r) {for (var a = i(e), c = s.f, u = o.f, l = 0; l < a.length; l++) {var d = a[l];n(t, d) || r && n(r, d) || c(t, d, u(e, d))}}},25735: function(t, e, r) {"use strict";var n = r(76264)("match");t.exports = function(t) {var e = /./;try {"/./"[t](e)} catch (r) {try {return e[n] = !1,"/./"[t](e)} catch (t) {}}return !1}},57382: function(t, e, r) {"use strict";var n = r(98828);t.exports = !n((function() {function t() {}return t.prototype.constructor = null,Object.getPrototypeOf(new t) !== t.prototype}))},59550: function(t) {"use strict";t.exports = function(t, e) {return {value: t,done: e}}},61626: function(t, e, r) {"use strict";var n = r(39447), i = r(74284), o = r(75817);t.exports = n ? function(t, e, r) {return i.f(t, e, o(1, r))}: function(t, e, r) {return t[e] = r,t}},75817: function(t) {"use strict";t.exports = function(t, e) {return {enumerable: !(1 & t),configurable: !(2 & t),writable: !(4 & t),value: e}}},5543: function(t, e, r) {"use strict";var n = r(39447), i = r(74284), o = r(75817);t.exports = function(t, e, r) {n ? i.f(t, e, o(0, r)) : t[e] = r}},3701: function(t, e, r) {"use strict";var n = r(1907), i = r(98828), o = r(81164).start, s = RangeError, a = isFinite, c = Math.abs, u = Date.prototype, l = u.toISOString, d = n(u.getTime), f = n(u.getUTCDate), h = n(u.getUTCFullYear), p = n(u.getUTCHours), g = n(u.getUTCMilliseconds), m = n(u.getUTCMinutes), v = n(u.getUTCMonth), y = n(u.getUTCSeconds);t.exports = i((function() {return "0385-07-25T07:06:39.999Z" !== l.call(new Date(-50000000000001))})) || !i((function() {l.call(new Date(NaN))})) ? function() {if (!a(d(this)))throw new s("Invalid time value");var t = this, e = h(t), r = g(t), n = e < 0 ? "-" : e > 9999 ? "+" : "";return n + o(c(e), n ? 6 : 4, 0) + "-" + o(v(t) + 1, 2, 0) + "-" + o(f(t), 2, 0) + "T" + o(p(t), 2, 0) + ":" + o(m(t), 2, 0) + ":" + o(y(t), 2, 0) + "." + o(r, 3, 0) + "Z"}: l},89251: function(t, e, r) {"use strict";var n = r(74284);t.exports = function(t, e, r) {return n.f(t, e, r)}},68055: function(t, e, r) {"use strict";var n = r(61626);t.exports = function(t, e, r, i) {return i && i.enumerable ? t[e] = r : n(t, e, r),t}},12802: function(t, e, r) {"use strict";var n = r(68055);t.exports = function(t, e, r) {for (var i in e)r && r.unsafe && t[i] ? t[i] = e[i] : n(t, i, e[i], r);return t}},2532: function(t, e, r) {"use strict";var n = r(41010), i = Object.defineProperty;t.exports = function(t, e) {try {i(n, t, {value: e,configurable: !0,writable: !0})} catch (r) {n[t] = e}return e}},74535: function(t, e, r) {"use strict";var n = r(4640), i = TypeError;t.exports = function(t, e) {if (!delete t[e])throw new i("Cannot delete property " + n(e) + " of " + n(t))}},39447: function(t, e, r) {"use strict";var n = r(98828);t.exports = !n((function() {return 7 !== Object.defineProperty({}, 1, {get: function() {return 7}})[1]}))},49552: function(t, e, r) {"use strict";var n = r(41010), i = r(46285), o = n.document, s = i(o) && i(o.createElement);t.exports = function(t) {return s ? o.createElement(t) : {}}},88024: function(t) {"use strict";var e = TypeError;t.exports = function(t) {if (t > 9007199254740991)throw e("Maximum allowed index exceeded");return t}},19287: function(t) {"use strict";t.exports = {CSSRuleList: 0,CSSStyleDeclaration: 0,CSSValueList: 0,ClientRectList: 0,DOMRectList: 0,DOMStringList: 0,DOMTokenList: 1,DataTransferItemList: 0,FileList: 0,HTMLAllCollection: 0,HTMLCollection: 0,HTMLFormElement: 0,HTMLSelectElement: 0,MediaList: 0,MimeTypeArray: 0,NamedNodeMap: 0,NodeList: 1,PaintRequestList: 0,Plugin: 0,PluginArray: 0,SVGLengthList: 0,SVGNumberList: 0,SVGPathSegList: 0,SVGPointList: 0,SVGStringList: 0,SVGTransformList: 0,SourceBufferList: 0,StyleSheetList: 0,TextTrackCueList: 0,TextTrackList: 0,TouchList: 0}},71885: function(t, e, r) {"use strict";var n = r(7593), i = r(70853);t.exports = !n && !i && "object" == typeof window && "object" == typeof document},39300: function(t) {"use strict";t.exports = "function" == typeof Bun && Bun && "string" == typeof Bun.version},7593: function(t) {"use strict";t.exports = "object" == typeof Deno && Deno && "object" == typeof Deno.version},61509: function(t, e, r) {"use strict";var n = r(64723);t.exports = /ipad|iphone|ipod/i.test(n) && "undefined" != typeof Pebble},37724: function(t, e, r) {"use strict";var n = r(64723);t.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(n)},70853: function(t, e, r) {"use strict";var n = r(41010), i = r(45807);t.exports = "process" === i(n.process)},3280: function(t, e, r) {"use strict";var n = r(64723);t.exports = /web0s(?!.*chrome)/i.test(n)},64723: function(t) {"use strict";t.exports = "undefined" != typeof navigator && String(navigator.userAgent) || ""},15683: function(t, e, r) {"use strict";var n, i, o = r(41010), s = r(64723), a = o.process, c = o.Deno, u = a && a.versions || c && c.version, l = u && u.v8;l && (i = (n = l.split("."))[0] > 0 && n[0] < 4 ? 1 : +(n[0] + n[1])),!i && s && (!(n = s.match(/Edge\/(\d+)/)) || n[1] >= 74) && (n = s.match(/Chrome\/(\d+)/)) && (i = +n[1]),t.exports = i},80376: function(t) {"use strict";t.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"]},85762: function(t, e, r) {"use strict";var n = r(1907), i = Error, o = n("".replace), s = String(new i("zxcasd").stack), a = /\n\s*at [^:]*:[^\n]*/, c = a.test(s);t.exports = function(t, e) {if (c && "string" == typeof t && !i.prepareStackTrace)for (; e--; )t = o(t, a, "");return t}},85884: function(t, e, r) {"use strict";var n = r(61626), i = r(85762), o = r(23888), s = Error.captureStackTrace;t.exports = function(t, e, r, a) {o && (s ? s(t, e) : n(t, "stack", i(r, a)))}},23888: function(t, e, r) {"use strict";var n = r(98828), i = r(75817);t.exports = !n((function() {var t = new Error("a");return !("stack"in t) || (Object.defineProperty(t, "stack", i(1, 7)),7 !== t.stack)}))},11091: function(t, e, r) {"use strict";var n = r(41010), i = r(76024), o = r(92361), s = r(62250), a = r(13846).f, c = r(7463), u = r(92046), l = r(28311), d = r(61626), f = r(49724);r(36128);var h = function(t) {var e = function(r, n, o) {if (this instanceof e) {switch (arguments.length) {case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return i(t, this, arguments)};return e.prototype = t.prototype,e};t.exports = function(t, e) {var r, i, p, g, m, v, y, _, b, w = t.target, E = t.global, T = t.stat, S = t.proto, A = E ? n : T ? n[w] : n[w] && n[w].prototype, I = E ? u : u[w] || d(u, w, {})[w], x = I.prototype;for (g in e)i = !(r = c(E ? g : w + (T ? "." : "#") + g, t.forced)) && A && f(A, g),v = I[g],i && (y = t.dontCallGetSet ? (b = a(A, g)) && b.value : A[g]),m = i && y ? y : e[g],(r || S || typeof v != typeof m) && (_ = t.bind && i ? l(m, n) : t.wrap && i ? h(m) : S && s(m) ? o(m) : m,(t.sham || m && m.sham || v && v.sham) && d(_, "sham", !0),d(I, g, _),S && (f(u, p = w + "Prototype") || d(u, p, {}),d(u[p], g, m),t.real && x && (r || !x[g]) && d(x, g, m)))}},98828: function(t) {"use strict";t.exports = function(t) {try {return !!t()} catch (t) {return !0}}},76024: function(t, e, r) {"use strict";var n = r(41505), i = Function.prototype, o = i.apply, s = i.call;t.exports = "object" == typeof Reflect && Reflect.apply || (n ? s.bind(o) : function() {return s.apply(o, arguments)})},28311: function(t, e, r) {"use strict";var n = r(92361), i = r(82159), o = r(41505), s = n(n.bind);t.exports = function(t, e) {return i(t),void 0 === e ? t : o ? s(t, e) : function() {return t.apply(e, arguments)}}},41505: function(t, e, r) {"use strict";var n = r(98828);t.exports = !n((function() {var t = function() {}.bind();return "function" != typeof t || t.hasOwnProperty("prototype")}))},13930: function(t, e, r) {"use strict";var n = r(41505), i = Function.prototype.call;t.exports = n ? i.bind(i) : function() {return i.apply(i, arguments)}},36833: function(t, e, r) {"use strict";var n = r(39447), i = r(49724), o = Function.prototype, s = n && Object.getOwnPropertyDescriptor, a = i(o, "name"), c = a && "something" === function() {}.name, u = a && (!n || n && s(o, "name").configurable);t.exports = {EXISTS: a,PROPER: c,CONFIGURABLE: u}},51871: function(t, e, r) {"use strict";var n = r(1907), i = r(82159);t.exports = function(t, e, r) {try {return n(i(Object.getOwnPropertyDescriptor(t, e)[r]))} catch (t) {}}},92361: function(t, e, r) {"use strict";var n = r(45807), i = r(1907);t.exports = function(t) {if ("Function" === n(t))return i(t)}},1907: function(t, e, r) {"use strict";var n = r(41505), i = Function.prototype, o = i.call, s = n && i.bind.bind(o, o);t.exports = n ? s : function(t) {return function() {return o.apply(t, arguments)}}},61747: function(t, e, r) {"use strict";var n = r(41010), i = r(92046);t.exports = function(t, e) {var r = i[t + "Prototype"], o = r && r[e];if (o)return o;var s = n[t], a = s && s.prototype;return a && a[e]}},85582: function(t, e, r) {"use strict";var n = r(92046), i = r(41010), o = r(62250), s = function(t) {return o(t) ? t : void 0};t.exports = function(t, e) {return arguments.length < 2 ? s(n[t]) || s(i[t]) : n[t] && n[t][e] || i[t] && i[t][e]}},73448: function(t, e, r) {"use strict";var n = r(73948), i = r(29367), o = r(87136), s = r(93742), a = r(76264)("iterator");t.exports = function(t) {if (!o(t))return i(t, a) || i(t, "@@iterator") || s[n(t)]}},10300: function(t, e, r) {"use strict";var n = r(13930), i = r(82159), o = r(36624), s = r(4640), a = r(73448), c = TypeError;t.exports = function(t, e) {var r = arguments.length < 2 ? a(t) : e;if (i(r))return o(n(r, t));throw new c(s(t) + " is not iterable")}},96656: function(t, e, r) {"use strict";var n = r(1907), i = r(11793), o = r(62250), s = r(45807), a = r(90160), c = n([].push);t.exports = function(t) {if (o(t))return t;if (i(t)) {for (var e = t.length, r = [], n = 0; n < e; n++) {var u = t[n];"string" == typeof u ? c(r, u) : "number" != typeof u && "Number" !== s(u) && "String" !== s(u) || c(r, a(u))}var l = r.length, d = !0;return function(t, e) {if (d)return d = !1,e;if (i(this))return e;for (var n = 0; n < l; n++)if (r[n] === t)return e}}}},29367: function(t, e, r) {"use strict";var n = r(82159), i = r(87136);t.exports = function(t, e) {var r = t[e];return i(r) ? void 0 : n(r)}},41010: function(t, e, r) {"use strict";var n = function(t) {return t && t.Math === Math && t};t.exports = n("object" == typeof globalThis && globalThis) || n("object" == typeof window && window) || n("object" == typeof self && self) || n("object" == typeof r.g && r.g) || n("object" == typeof this && this) || function() {return this}() || Function("return this")()},49724: function(t, e, r) {"use strict";var n = r(1907), i = r(39298), o = n({}.hasOwnProperty);t.exports = Object.hasOwn || function(t, e) {return o(i(t), e)}},38530: function(t) {"use strict";t.exports = {}},73904: function(t) {"use strict";t.exports = function(t, e) {}},62416: function(t, e, r) {"use strict";var n = r(85582);t.exports = n("document", "documentElement")},73648: function(t, e, r) {"use strict";var n = r(39447), i = r(98828), o = r(49552);t.exports = !n && !i((function() {return 7 !== Object.defineProperty(o("div"), "a", {get: function() {return 7}}).a}))},16946: function(t, e, r) {"use strict";var n = r(1907), i = r(98828), o = r(45807), s = Object, a = n("".split);t.exports = i((function() {return !s("z").propertyIsEnumerable(0)})) ? function(t) {return "String" === o(t) ? a(t, "") : s(t)}: s},12647: function(t, e, r) {"use strict";var n = r(1907), i = r(62250), o = r(36128), s = n(Function.toString);i(o.inspectSource) || (o.inspectSource = function(t) {return s(t)}),t.exports = o.inspectSource},39259: function(t, e, r) {"use strict";var n = r(46285), i = r(61626);t.exports = function(t, e) {n(e) && "cause"in e && i(t, "cause", e.cause)}},64932: function(t, e, r) {"use strict";var n, i, o, s = r(40551), a = r(41010), c = r(46285), u = r(61626), l = r(49724), d = r(36128), f = r(92522), h = r(38530), p = "Object already initialized", g = a.TypeError, m = a.WeakMap;if (s || d.state) {var v = d.state || (d.state = new m);v.get = v.get,v.has = v.has,v.set = v.set,n = function(t, e) {if (v.has(t))throw new g(p);return e.facade = t,v.set(t, e),e},i = function(t) {return v.get(t) || {}},o = function(t) {return v.has(t)}} else {var y = f("state");h[y] = !0,n = function(t, e) {if (l(t, y))throw new g(p);return e.facade = t,u(t, y, e),e},i = function(t) {return l(t, y) ? t[y] : {}},o = function(t) {return l(t, y)}}t.exports = {set: n,get: i,has: o,enforce: function(t) {return o(t) ? i(t) : n(t, {})},getterFor: function(t) {return function(e) {var r;if (!c(e) || (r = i(e)).type !== t)throw new g("Incompatible receiver, " + t + " required");return r}}}},37812: function(t, e, r) {"use strict";var n = r(76264), i = r(93742), o = n("iterator"), s = Array.prototype;t.exports = function(t) {return void 0 !== t && (i.Array === t || s[o] === t)}},11793: function(t, e, r) {"use strict";var n = r(45807);t.exports = Array.isArray || function(t) {return "Array" === n(t)}},62250: function(t) {"use strict";var e = "object" == typeof document && document.all;t.exports = void 0 === e && void 0 !== e ? function(t) {return "function" == typeof t || t === e}: function(t) {return "function" == typeof t}},25468: function(t, e, r) {"use strict";var n = r(1907), i = r(98828), o = r(62250), s = r(73948), a = r(85582), c = r(12647), u = function() {}, l = a("Reflect", "construct"), d = /^\s*(?:class|function)\b/, f = n(d.exec), h = !d.test(u), p = function(t) {if (!o(t))return !1;try {return l(u, [], t),!0} catch (t) {return !1}}, g = function(t) {if (!o(t))return !1;switch (s(t)) {case "AsyncFunction":case "GeneratorFunction":case "AsyncGeneratorFunction":return !1}try {return h || !!f(d, c(t))} catch (t) {return !0}};g.sham = !0,t.exports = !l || i((function() {var t;return p(p.call) || !p(Object) || !p((function() {t = !0})) || t})) ? g : p},7463: function(t, e, r) {"use strict";var n = r(98828), i = r(62250), o = /#|\.prototype\./, s = function(t, e) {var r = c[a(t)];return r === l || r !== u && (i(e) ? n(e) : !!e)}, a = s.normalize = function(t) {return String(t).replace(o, ".").toLowerCase()}, c = s.data = {}, u = s.NATIVE = "N", l = s.POLYFILL = "P";t.exports = s},87136: function(t) {"use strict";t.exports = function(t) {return null == t}},46285: function(t, e, r) {"use strict";var n = r(62250);t.exports = function(t) {return "object" == typeof t ? null !== t : n(t)}},54018: function(t, e, r) {"use strict";var n = r(46285);t.exports = function(t) {return n(t) || null === t}},7376: function(t) {"use strict";t.exports = !0},72087: function(t, e, r) {"use strict";var n = r(46285), i = r(45807), o = r(76264)("match");t.exports = function(t) {var e;return n(t) && (void 0 !== (e = t[o]) ? !!e : "RegExp" === i(t))}},25594: function(t, e, r) {"use strict";var n = r(85582), i = r(62250), o = r(88280), s = r(51175), a = Object;t.exports = s ? function(t) {return "symbol" == typeof t}: function(t) {var e = n("Symbol");return i(e) && o(e.prototype, a(t))}},24823: function(t, e, r) {"use strict";var n = r(28311), i = r(13930), o = r(36624), s = r(4640), a = r(37812), c = r(20575), u = r(88280), l = r(10300), d = r(73448), f = r(40154), h = TypeError, p = function(t, e) {this.stopped = t,this.result = e}, g = p.prototype;t.exports = function(t, e, r) {var m, v, y, _, b, w, E, T = r && r.that, S = !(!r || !r.AS_ENTRIES), A = !(!r || !r.IS_RECORD), I = !(!r || !r.IS_ITERATOR), x = !(!r || !r.INTERRUPTED), L = n(e, T), k = function(t) {return m && f(m, "normal", t),new p(!0,t)}, R = function(t) {return S ? (o(t),x ? L(t[0], t[1], k) : L(t[0], t[1])) : x ? L(t, k) : L(t)};if (A)m = t.iterator;else if (I)m = t;else {if (!(v = d(t)))throw new h(s(t) + " is not iterable");if (a(v)) {for (y = 0,_ = c(t); _ > y; y++)if ((b = R(t[y])) && u(g, b))return b;return new p(!1)}m = l(t, v)}for (w = A ? t.next : m.next; !(E = i(w, m)).done; ) {try {b = R(E.value)} catch (t) {f(m, "throw", t)}if ("object" == typeof b && b && u(g, b))return b}return new p(!1)}},40154: function(t, e, r) {"use strict";var n = r(13930), i = r(36624), o = r(29367);t.exports = function(t, e, r) {var s, a;i(t);try {if (!(s = o(t, "return"))) {if ("throw" === e)throw r;return r}s = n(s, t)} catch (t) {a = !0,s = t}if ("throw" === e)throw r;if (a)throw s;return i(s),r}},47181: function(t, e, r) {"use strict";var n = r(95116).IteratorPrototype, i = r(58075), o = r(75817), s = r(14840), a = r(93742), c = function() {return this};t.exports = function(t, e, r, u) {var l = e + " Iterator";return t.prototype = i(n, {next: o(+!u, r)}),s(t, l, !1, !0),a[l] = c,t}},60183: function(t, e, r) {"use strict";var n = r(11091), i = r(13930), o = r(7376), s = r(36833), a = r(62250), c = r(47181), u = r(15972), l = r(79192), d = r(14840), f = r(61626), h = r(68055), p = r(76264), g = r(93742), m = r(95116), v = s.PROPER, y = s.CONFIGURABLE, _ = m.IteratorPrototype, b = m.BUGGY_SAFARI_ITERATORS, w = p("iterator"), E = "keys", T = "values", S = "entries", A = function() {return this};t.exports = function(t, e, r, s, p, m, I) {c(r, e, s);var x, L, k, R = function(t) {if (t === p && M)return M;if (!b && t && t in D)return D[t];switch (t) {case E:case T:case S:return function() {return new r(this,t)}}return function() {return new r(this)}}, C = e + " Iterator", P = !1, D = t.prototype, O = D[w] || D["@@iterator"] || p && D[p], M = !b && O || R(p), U = "Array" === e && D.entries || O;if (U && (x = u(U.call(new t))) !== Object.prototype && x.next && (o || u(x) === _ || (l ? l(x, _) : a(x[w]) || h(x, w, A)),d(x, C, !0, !0),o && (g[C] = A)),v && p === T && O && O.name !== T && (!o && y ? f(D, "name", T) : (P = !0,M = function() {return i(O, this)})),p)if (L = {values: R(T),keys: m ? M : R(E),entries: R(S)},I)for (k in L)(b || P || !(k in D)) && h(D, k, L[k]);elsen({target: e,proto: !0,forced: b || P}, L);return o && !I || D[w] === M || h(D, w, M, {name: p}),g[e] = M,L}},95116: function(t, e, r) {"use strict";var n, i, o, s = r(98828), a = r(62250), c = r(46285), u = r(58075), l = r(15972), d = r(68055), f = r(76264), h = r(7376), p = f("iterator"), g = !1;[].keys && ("next"in (o = [].keys()) ? (i = l(l(o))) !== Object.prototype && (n = i) : g = !0),!c(n) || s((function() {var t = {};return n[p].call(t) !== t})) ? n = {} : h && (n = u(n)),a(n[p]) || d(n, p, (function() {return this})),t.exports = {IteratorPrototype: n,BUGGY_SAFARI_ITERATORS: g}},93742: function(t) {"use strict";t.exports = {}},20575: function(t, e, r) {"use strict";var n = r(3121);t.exports = function(t) {return n(t.length)}},41176: function(t) {"use strict";var e = Math.ceil, r = Math.floor;t.exports = Math.trunc || function(t) {var n = +t;return (n > 0 ? r : e)(n)}},52292: function(t, e, r) {"use strict";var n, i, o, s, a, c = r(41010), u = r(52098), l = r(28311), d = r(49472).set, f = r(1626), h = r(37724), p = r(61509), g = r(3280), m = r(70853), v = c.MutationObserver || c.WebKitMutationObserver, y = c.document, _ = c.process, b = c.Promise, w = u("queueMicrotask");if (!w) {var E = new f, T = function() {var t, e;for (m && (t = _.domain) && t.exit(); e = E.get(); )try {e()} catch (t) {throw E.head && n(),t}t && t.enter()};h || m || g || !v || !y ? !p && b && b.resolve ? ((s = b.resolve(void 0)).constructor = b,a = l(s.then, s),n = function() {a(T)}) : m ? n = function() {_.nextTick(T)}: (d = l(d, c),n = function() {d(T)}) : (i = !0,o = y.createTextNode(""),new v(T).observe(o, {characterData: !0}),n = function() {o.data = i = !i}),w = function(t) {E.head || n(),E.add(t)}}t.exports = w},56254: function(t, e, r) {"use strict";var n = r(82159), i = TypeError, o = function(t) {var e, r;this.promise = new t((function(t, n) {if (void 0 !== e || void 0 !== r)throw new i("Bad Promise constructor");e = t,r = n})),this.resolve = n(e),this.reject = n(r)};t.exports.f = function(t) {return new o(t)}},32096: function(t, e, r) {"use strict";var n = r(90160);t.exports = function(t, e) {return void 0 === t ? arguments.length < 2 ? "" : e : n(t)}},12074: function(t, e, r) {"use strict";var n = r(72087), i = TypeError;t.exports = function(t) {if (n(t))throw new i("The method doesn't accept regular expressions");return t}},29538: function(t, e, r) {"use strict";var n = r(39447), i = r(1907), o = r(13930), s = r(98828), a = r(2875), c = r(87170), u = r(22574), l = r(39298), d = r(16946), f = Object.assign, h = Object.defineProperty, p = i([].concat);t.exports = !f || s((function() {if (n && 1 !== f({b: 1}, f(h({}, "a", {enumerable: !0,get: function() {h(this, "b", {value: 3,enumerable: !1})}}), {b: 2})).b)return !0;var t = {}, e = {}, r = Symbol("assign detection"), i = "abcdefghijklmnopqrst";return t[r] = 7,i.split("").forEach((function(t) {e[t] = t})),7 !== f({}, t)[r] || a(f({}, e)).join("") !== i})) ? function(t, e) {for (var r = l(t), i = arguments.length, s = 1, f = c.f, h = u.f; i > s; )for (var g, m = d(arguments[s++]), v = f ? p(a(m), f(m)) : a(m), y = v.length, _ = 0; y > _; )g = v[_++],n && !o(h, m, g) || (r[g] = m[g]);return r}: f},58075: function(t, e, r) {"use strict";var n, i = r(36624), o = r(42220), s = r(80376), a = r(38530), c = r(62416), u = r(49552), l = r(92522), d = "prototype", f = "script", h = l("IE_PROTO"), p = function() {}, g = function(t) {return "<" + f + ">" + t + "</" + f + ">"}, m = function(t) {t.write(g("")),t.close();var e = t.parentWindow.Object;return t = null,e}, v = function() {try {n = new ActiveXObject("htmlfile")} catch (t) {}var t, e, r;v = "undefined" != typeof document ? document.domain && n ? m(n) : (e = u("iframe"),r = "java" + f + ":",e.style.display = "none",c.appendChild(e),e.src = String(r),(t = e.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F) : m(n);for (var i = s.length; i--; )delete v[d][s[i]];return v()};a[h] = !0,t.exports = Object.create || function(t, e) {var r;return null !== t ? (p[d] = i(t),r = new p,p[d] = null,r[h] = t) : r = v(),void 0 === e ? r : o.f(r, e)}},42220: function(t, e, r) {"use strict";var n = r(39447), i = r(58661), o = r(74284), s = r(36624), a = r(27374), c = r(2875);e.f = n && !i ? Object.defineProperties : function(t, e) {s(t);for (var r, n = a(e), i = c(e), u = i.length, l = 0; u > l; )o.f(t, r = i[l++], n[r]);return t}},74284: function(t, e, r) {"use strict";var n = r(39447), i = r(73648), o = r(58661), s = r(36624), a = r(70470), c = TypeError, u = Object.defineProperty, l = Object.getOwnPropertyDescriptor, d = "enumerable", f = "configurable", h = "writable";e.f = n ? o ? function(t, e, r) {if (s(t),e = a(e),s(r),"function" == typeof t && "prototype" === e && "value"in r && h in r && !r[h]) {var n = l(t, e);n && n[h] && (t[e] = r.value,r = {configurable: f in r ? r[f] : n[f],enumerable: d in r ? r[d] : n[d],writable: !1})}return u(t, e, r)}: u : function(t, e, r) {if (s(t),e = a(e),s(r),i)try {return u(t, e, r)} catch (t) {}if ("get"in r || "set"in r)throw new c("Accessors not supported");return "value"in r && (t[e] = r.value),t}},13846: function(t, e, r) {"use strict";var n = r(39447), i = r(13930), o = r(22574), s = r(75817), a = r(27374), c = r(70470), u = r(49724), l = r(73648), d = Object.getOwnPropertyDescriptor;e.f = n ? d : function(t, e) {if (t = a(t),e = c(e),l)try {return d(t, e)} catch (t) {}if (u(t, e))return s(!i(o.f, t, e), t[e])}},25407: function(t, e, r) {"use strict";var n = r(45807), i = r(27374), o = r(24443).f, s = r(93427), a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];t.exports.f = function(t) {return a && "Window" === n(t) ? function(t) {try {return o(t)} catch (t) {return s(a)}}(t) : o(i(t))}},24443: function(t, e, r) {"use strict";var n = r(23045), i = r(80376).concat("length", "prototype");e.f = Object.getOwnPropertyNames || function(t) {return n(t, i)}},87170: function(t, e) {"use strict";e.f = Object.getOwnPropertySymbols},15972: function(t, e, r) {"use strict";var n = r(49724), i = r(62250), o = r(39298), s = r(92522), a = r(57382), c = s("IE_PROTO"), u = Object, l = u.prototype;t.exports = a ? u.getPrototypeOf : function(t) {var e = o(t);if (n(e, c))return e[c];var r = e.constructor;return i(r) && e instanceof r ? r.prototype : e instanceof u ? l : null}},88280: function(t, e, r) {"use strict";var n = r(1907);t.exports = n({}.isPrototypeOf)},23045: function(t, e, r) {"use strict";var n = r(1907), i = r(49724), o = r(27374), s = r(74436).indexOf, a = r(38530), c = n([].push);t.exports = function(t, e) {var r, n = o(t), u = 0, l = [];for (r in n)!i(a, r) && i(n, r) && c(l, r);for (; e.length > u; )i(n, r = e[u++]) && (~s(l, r) || c(l, r));return l}},2875: function(t, e, r) {"use strict";var n = r(23045), i = r(80376);t.exports = Object.keys || function(t) {return n(t, i)}},22574: function(t, e) {"use strict";var r = {}.propertyIsEnumerable, n = Object.getOwnPropertyDescriptor, i = n && !r.call({1: 2}, 1);e.f = i ? function(t) {var e = n(this, t);return !!e && e.enumerable}: r},79192: function(t, e, r) {"use strict";var n = r(51871), i = r(36624), o = r(10043);t.exports = Object.setPrototypeOf || ("__proto__"in {} ? function() {var t, e = !1, r = {};try {(t = n(Object.prototype, "__proto__", "set"))(r, []),e = r instanceof Array} catch (t) {}return function(r, n) {return i(r),o(n),e ? t(r, n) : r.__proto__ = n,r}}() : void 0)},54878: function(t, e, r) {"use strict";var n = r(52623), i = r(73948);t.exports = n ? {}.toString : function() {return "[object " + i(this) + "]"}},60581: function(t, e, r) {"use strict";var n = r(13930), i = r(62250), o = r(46285), s = TypeError;t.exports = function(t, e) {var r, a;if ("string" === e && i(r = t.toString) && !o(a = n(r, t)))return a;if (i(r = t.valueOf) && !o(a = n(r, t)))return a;if ("string" !== e && i(r = t.toString) && !o(a = n(r, t)))return a;throw new s("Can't convert object to primitive value")}},11042: function(t, e, r) {"use strict";var n = r(85582), i = r(1907), o = r(24443), s = r(87170), a = r(36624), c = i([].concat);t.exports = n("Reflect", "ownKeys") || function(t) {var e = o.f(a(t)), r = s.f;return r ? c(e, r(t)) : e}},92046: function(t) {"use strict";t.exports = {}},94420: function(t) {"use strict";t.exports = function(t) {try {return {error: !1,value: t()}} catch (t) {return {error: !0,value: t}}}},1759: function(t, e, r) {"use strict";var n = r(41010), i = r(55463), o = r(62250), s = r(7463), a = r(12647), c = r(76264), u = r(71885), l = r(7593), d = r(7376), f = r(15683), h = i && i.prototype, p = c("species"), g = !1, m = o(n.PromiseRejectionEvent), v = s("Promise", (function() {var t = a(i), e = t !== String(i);if (!e && 66 === f)return !0;if (d && (!h.catch || !h.finally))return !0;if (!f || f < 51 || !/native code/.test(t)) {var r = new i((function(t) {t(1)})), n = function(t) {t((function() {}), (function() {}))};if ((r.constructor = {})[p] = n,!(g = r.then((function() {}))instanceof n))return !0}return !e && (u || l) && !m}));t.exports = {CONSTRUCTOR: v,REJECTION_EVENT: m,SUBCLASSING: g}},55463: function(t, e, r) {"use strict";var n = r(41010);t.exports = n.Promise},83569: function(t, e, r) {"use strict";var n = r(36624), i = r(46285), o = r(56254);t.exports = function(t, e) {if (n(t),i(e) && e.constructor === t)return e;var r = o.f(t);return (0,r.resolve)(e),r.promise}},3282: function(t, e, r) {"use strict";var n = r(55463), i = r(70473), o = r(1759).CONSTRUCTOR;t.exports = o || !i((function(t) {n.all(t).then(void 0, (function() {}))}))},1626: function(t) {"use strict";var e = function() {this.head = null,this.tail = null};e.prototype = {add: function(t) {var e = {item: t,next: null}, r = this.tail;r ? r.next = e : this.head = e,this.tail = e},get: function() {var t = this.head;if (t)return null === (this.head = t.next) && (this.tail = null),t.item}},t.exports = e},74239: function(t, e, r) {"use strict";var n = r(87136), i = TypeError;t.exports = function(t) {if (n(t))throw new i("Can't call method on " + t);return t}},52098: function(t, e, r) {"use strict";var n = r(41010), i = r(39447), o = Object.getOwnPropertyDescriptor;t.exports = function(t) {if (!i)return n[t];var e = o(n, t);return e && e.value}},70485: function(t, e, r) {"use strict";var n, i = r(41010), o = r(76024), s = r(62250), a = r(39300), c = r(64723), u = r(93427), l = r(24787), d = i.Function, f = /MSIE .\./.test(c) || a && ((n = i.Bun.version.split(".")).length < 3 || "0" === n[0] && (n[1] < 3 || "3" === n[1] && "0" === n[2]));t.exports = function(t, e) {var r = e ? 2 : 1;return f ? function(n, i) {var a = l(arguments.length, 1) > r, c = s(n) ? n : d(n), f = a ? u(arguments, r) : [], h = a ? function() {o(c, this, f)}: c;return e ? t(h, i) : t(h)}: t}},47118: function(t, e, r) {"use strict";var n = r(85582), i = r(89251), o = r(76264), s = r(39447), a = o("species");t.exports = function(t) {var e = n(t);s && e && !e[a] && i(e, a, {configurable: !0,get: function() {return this}})}},14840: function(t, e, r) {"use strict";var n = r(52623), i = r(74284).f, o = r(61626), s = r(49724), a = r(54878), c = r(76264)("toStringTag");t.exports = function(t, e, r, u) {var l = r ? t : t && t.prototype;l && (s(l, c) || i(l, c, {configurable: !0,value: e}),u && !n && o(l, "toString", a))}},92522: function(t, e, r) {"use strict";var n = r(85816), i = r(6499), o = n("keys");t.exports = function(t) {return o[t] || (o[t] = i(t))}},36128: function(t, e, r) {"use strict";var n = r(7376), i = r(41010), o = r(2532), s = "__core-js_shared__", a = t.exports = i[s] || o(s, {});(a.versions || (a.versions = [])).push({version: "3.36.0",mode: n ? "pure" : "global",copyright: "© 2014-2024 Denis Pushkarev (zloirock.ru)",license: "https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source: "https://github.com/zloirock/core-js"})},85816: function(t, e, r) {"use strict";var n = r(36128);t.exports = function(t, e) {return n[t] || (n[t] = e || {})}},28450: function(t, e, r) {"use strict";var n = r(36624), i = r(82235), o = r(87136), s = r(76264)("species");t.exports = function(t, e) {var r, a = n(t).constructor;return void 0 === a || o(r = n(a)[s]) ? e : i(r)}},11470: function(t, e, r) {"use strict";var n = r(1907), i = r(65482), o = r(90160), s = r(74239), a = n("".charAt), c = n("".charCodeAt), u = n("".slice), l = function(t) {return function(e, r) {var n, l, d = o(s(e)), f = i(r), h = d.length;return f < 0 || f >= h ? t ? "" : void 0 : (n = c(d, f)) < 55296 || n > 56319 || f + 1 === h || (l = c(d, f + 1)) < 56320 || l > 57343 ? t ? a(d, f) : n : t ? u(d, f, f + 2) : l - 56320 + (n - 55296 << 10) + 65536}};t.exports = {codeAt: l(!1),charAt: l(!0)}},81164: function(t, e, r) {"use strict";var n = r(1907), i = r(3121), o = r(90160), s = r(69314), a = r(74239), c = n(s), u = n("".slice), l = Math.ceil, d = function(t) {return function(e, r, n) {var s, d, f = o(a(e)), h = i(r), p = f.length, g = void 0 === n ? " " : o(n);return h <= p || "" === g ? f : ((d = c(g, l((s = h - p) / g.length))).length > s && (d = u(d, 0, s)),t ? f + d : d + f)}};t.exports = {start: d(!1),end: d(!0)}},79156: function(t, e, r) {"use strict";var n = r(1907), i = 2147483647, o = /[^\0-\u007E]/, s = /[.\u3002\uFF0E\uFF61]/g, a = "Overflow: input needs wider integers to process", c = RangeError, u = n(s.exec), l = Math.floor, d = String.fromCharCode, f = n("".charCodeAt), h = n([].join), p = n([].push), g = n("".replace), m = n("".split), v = n("".toLowerCase), y = function(t) {return t + 22 + 75 * (t < 26)}, _ = function(t, e, r) {var n = 0;for (t = r ? l(t / 700) : t >> 1,t += l(t / e); t > 455; )t = l(t / 35),n += 36;return l(n + 36 * t / (t + 38))}, b = function(t) {var e = [];t = function(t) {for (var e = [], r = 0, n = t.length; r < n; ) {var i = f(t, r++);if (i >= 55296 && i <= 56319 && r < n) {var o = f(t, r++);56320 == (64512 & o) ? p(e, ((1023 & i) << 10) + (1023 & o) + 65536) : (p(e, i),r--)} elsep(e, i)}return e}(t);var r, n, o = t.length, s = 128, u = 0, g = 72;for (r = 0; r < t.length; r++)(n = t[r]) < 128 && p(e, d(n));var m = e.length, v = m;for (m && p(e, "-"); v < o; ) {var b = i;for (r = 0; r < t.length; r++)(n = t[r]) >= s && n < b && (b = n);var w = v + 1;if (b - s > l((i - u) / w))throw new c(a);for (u += (b - s) * w,s = b,r = 0; r < t.length; r++) {if ((n = t[r]) < s && ++u > i)throw new c(a);if (n === s) {for (var E = u, T = 36; ; ) {var S = T <= g ? 1 : T >= g + 26 ? 26 : T - g;if (E < S)break;var A = E - S, I = 36 - S;p(e, d(y(S + A % I))),E = l(A / I),T += 36}p(e, d(y(E))),g = _(u, w, v === m),u = 0,v++}}u++,s++}return h(e, "")};t.exports = function(t) {var e, r, n = [], i = m(g(v(t), s, "."), ".");for (e = 0; e < i.length; e++)r = i[e],p(n, u(o, r) ? "xn--" + b(r) : r);return h(n, ".")}},69314: function(t, e, r) {"use strict";var n = r(65482), i = r(90160), o = r(74239), s = RangeError;t.exports = function(t) {var e = i(o(this)), r = "", a = n(t);if (a < 0 || a === 1 / 0)throw new s("Wrong number of repetitions");for (; a > 0; (a >>>= 1) && (e += e))1 & a && (r += e);return r}},95819: function(t, e, r) {"use strict";var n = r(36833).PROPER, i = r(98828), o = r(86395);t.exports = function(t) {return i((function() {return !!o[t]() || "​᠎" !== "​᠎"[t]() || n && o[t].name !== t}))}},65993: function(t, e, r) {"use strict";var n = r(1907), i = r(74239), o = r(90160), s = r(86395), a = n("".replace), c = RegExp("^[" + s + "]+"), u = RegExp("(^|[^" + s + "])[" + s + "]+$"), l = function(t) {return function(e) {var r = o(i(e));return 1 & t && (r = a(r, c, "")),2 & t && (r = a(r, u, "$1")),r}};t.exports = {start: l(1),end: l(2),trim: l(3)}},19846: function(t, e, r) {"use strict";var n = r(15683), i = r(98828), o = r(41010).String;t.exports = !!Object.getOwnPropertySymbols && !i((function() {var t = Symbol("symbol detection");return !o(t) || !(Object(t)instanceof Symbol) || !Symbol.sham && n && n < 41}))},83467: function(t, e, r) {"use strict";var n = r(13930), i = r(85582), o = r(76264), s = r(68055);t.exports = function() {var t = i("Symbol"), e = t && t.prototype, r = e && e.valueOf, a = o("toPrimitive");e && !e[a] && s(e, a, (function(t) {return n(r, this)}), {arity: 1})}},12595: function(t, e, r) {"use strict";var n = r(85582), i = r(1907), o = n("Symbol"), s = o.keyFor, a = i(o.prototype.valueOf);t.exports = o.isRegisteredSymbol || function(t) {try {return void 0 !== s(a(t))} catch (t) {return !1}}},69197: function(t, e, r) {"use strict";for (var n = r(85816), i = r(85582), o = r(1907), s = r(25594), a = r(76264), c = i("Symbol"), u = c.isWellKnownSymbol, l = i("Object", "getOwnPropertyNames"), d = o(c.prototype.valueOf), f = n("wks"), h = 0, p = l(c), g = p.length; h < g; h++)try {var m = p[h];s(c[m]) && a(m)} catch (t) {}t.exports = function(t) {if (u && u(t))return !0;try {for (var e = d(t), r = 0, n = l(f), i = n.length; r < i; r++)if (f[n[r]] == e)return !0} catch (t) {}return !1}},84411: function(t, e, r) {"use strict";var n = r(19846);t.exports = n && !!Symbol.for && !!Symbol.keyFor},49472: function(t, e, r) {"use strict";var n, i, o, s, a = r(41010), c = r(76024), u = r(28311), l = r(62250), d = r(49724), f = r(98828), h = r(62416), p = r(93427), g = r(49552), m = r(24787), v = r(37724), y = r(70853), _ = a.setImmediate, b = a.clearImmediate, w = a.process, E = a.Dispatch, T = a.Function, S = a.MessageChannel, A = a.String, I = 0, x = {}, L = "onreadystatechange";f((function() {n = a.location}));var k = function(t) {if (d(x, t)) {var e = x[t];delete x[t],e()}}, R = function(t) {return function() {k(t)}}, C = function(t) {k(t.data)}, P = function(t) {a.postMessage(A(t), n.protocol + "//" + n.host)};_ && b || (_ = function(t) {m(arguments.length, 1);var e = l(t) ? t : T(t), r = p(arguments, 1);return x[++I] = function() {c(e, void 0, r)},i(I),I},b = function(t) {delete x[t]},y ? i = function(t) {w.nextTick(R(t))}: E && E.now ? i = function(t) {E.now(R(t))}: S && !v ? (s = (o = new S).port2,o.port1.onmessage = C,i = u(s.postMessage, s)) : a.addEventListener && l(a.postMessage) && !a.importScripts && n && "file:" !== n.protocol && !f(P) ? (i = P,a.addEventListener("message", C, !1)) : i = L in g("script") ? function(t) {h.appendChild(g("script"))[L] = function() {h.removeChild(this),k(t)}}: function(t) {setTimeout(R(t), 0)}),t.exports = {set: _,clear: b}},34849: function(t, e, r) {"use strict";var n = r(65482), i = Math.max, o = Math.min;t.exports = function(t, e) {var r = n(t);return r < 0 ? i(r + e, 0) : o(r, e)}},27374: function(t, e, r) {"use strict";var n = r(16946), i = r(74239);t.exports = function(t) {return n(i(t))}},65482: function(t, e, r) {"use strict";var n = r(41176);t.exports = function(t) {var e = +t;return e != e || 0 === e ? 0 : n(e)}},3121: function(t, e, r) {"use strict";var n = r(65482), i = Math.min;t.exports = function(t) {var e = n(t);return e > 0 ? i(e, 9007199254740991) : 0}},39298: function(t, e, r) {"use strict";var n = r(74239), i = Object;t.exports = function(t) {return i(n(t))}},46028: function(t, e, r) {"use strict";var n = r(13930), i = r(46285), o = r(25594), s = r(29367), a = r(60581), c = r(76264), u = TypeError, l = c("toPrimitive");t.exports = function(t, e) {if (!i(t) || o(t))return t;var r, c = s(t, l);if (c) {if (void 0 === e && (e = "default"),r = n(c, t, e),!i(r) || o(r))return r;throw new u("Can't convert object to primitive value")}return void 0 === e && (e = "number"),a(t, e)}},70470: function(t, e, r) {"use strict";var n = r(46028), i = r(25594);t.exports = function(t) {var e = n(t, "string");return i(e) ? e : e + ""}},52623: function(t, e, r) {"use strict";var n = {};n[r(76264)("toStringTag")] = "z",t.exports = "[object z]" === String(n)},90160: function(t, e, r) {"use strict";var n = r(73948), i = String;t.exports = function(t) {if ("Symbol" === n(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},4640: function(t) {"use strict";var e = String;t.exports = function(t) {try {return e(t)} catch (t) {return "Object"}}},6499: function(t, e, r) {"use strict";var n = r(1907), i = 0, o = Math.random(), s = n(1..toString);t.exports = function(t) {return "Symbol(" + (void 0 === t ? "" : t) + ")_" + s(++i + o, 36)}},34791: function(t, e, r) {"use strict";var n = r(98828), i = r(76264), o = r(39447), s = r(7376), a = i("iterator");t.exports = !n((function() {var t = new URL("b?a=1&b=2&c=3","http://a"), e = t.searchParams, r = new URLSearchParams("a=1&a=2&b=3"), n = "";return t.pathname = "c%20d",e.forEach((function(t, r) {e.delete("b"),n += r + t})),r.delete("a", 2),r.delete("b", void 0),s && (!t.toJSON || !r.has("a", 1) || r.has("a", 2) || !r.has("a", void 0) || r.has("b")) || !e.size && (s || !o) || !e.sort || "http://a/c%20d?a=1&c=3" !== t.href || "3" !== e.get("c") || "a=1" !== String(new URLSearchParams("?a=1")) || !e[a] || "a" !== new URL("https://a@b").username || "b" !== new URLSearchParams(new URLSearchParams("a=b")).get("a") || "xn--e1aybc" !== new URL("http://тест").host || "#%D0%B1" !== new URL("http://a#б").hash || "a1c3" !== n || "x" !== new URL("http://x",void 0).host}))},51175: function(t, e, r) {"use strict";var n = r(19846);t.exports = n && !Symbol.sham && "symbol" == typeof Symbol.iterator},58661: function(t, e, r) {"use strict";var n = r(39447), i = r(98828);t.exports = n && i((function() {return 42 !== Object.defineProperty((function() {}), "prototype", {value: 42,writable: !1}).prototype}))},24787: function(t) {"use strict";var e = TypeError;t.exports = function(t, r) {if (t < r)throw new e("Not enough arguments");return t}},40551: function(t, e, r) {"use strict";var n = r(41010), i = r(62250), o = n.WeakMap;t.exports = i(o) && /native code/.test(String(o))},20366: function(t, e, r) {"use strict";var n = r(92046), i = r(49724), o = r(80560), s = r(74284).f;t.exports = function(t) {var e = n.Symbol || (n.Symbol = {});i(e, t) || s(e, t, {value: o.f(t)})}},80560: function(t, e, r) {"use strict";var n = r(76264);e.f = n},76264: function(t, e, r) {"use strict";var n = r(41010), i = r(85816), o = r(49724), s = r(6499), a = r(19846), c = r(51175), u = n.Symbol, l = i("wks"), d = c ? u.for || u : u && u.withoutSetter || s;t.exports = function(t) {return o(l, t) || (l[t] = a && o(u, t) ? u[t] : d("Symbol." + t)),l[t]}},86395: function(t) {"use strict";t.exports = "\t\n\v\f\r                　\u2028\u2029\ufeff"},82048: function(t, e, r) {"use strict";var n = r(11091), i = r(88280), o = r(15972), s = r(79192), a = r(19595), c = r(58075), u = r(61626), l = r(75817), d = r(39259), f = r(85884), h = r(24823), p = r(32096), g = r(76264)("toStringTag"), m = Error, v = [].push, y = function(t, e) {var r, n = i(_, this);s ? r = s(new m, n ? o(this) : _) : (r = n ? this : c(_),u(r, g, "Error")),void 0 !== e && u(r, "message", p(e)),f(r, y, r.stack, 1),arguments.length > 2 && d(r, arguments[2]);var a = [];return h(t, v, {that: a}),u(r, "errors", a),r};s ? s(y, m) : a(y, m, {name: !0});var _ = y.prototype = c(m.prototype, {constructor: l(1, y),message: l(1, ""),name: l(1, "AggregateError")});n({global: !0,constructor: !0,arity: 2}, {AggregateError: y})},64502: function(t, e, r) {"use strict";r(82048)},58545: function(t, e, r) {"use strict";var n = r(11091), i = r(98828), o = r(11793), s = r(46285), a = r(39298), c = r(20575), u = r(88024), l = r(5543), d = r(56968), f = r(59552), h = r(76264), p = r(15683), g = h("isConcatSpreadable"), m = p >= 51 || !i((function() {var t = [];return t[g] = !1,t.concat()[0] !== t})), v = function(t) {if (!s(t))return !1;var e = t[g];return void 0 !== e ? !!e : o(t)};n({target: "Array",proto: !0,arity: 1,forced: !m || !f("concat")}, {concat: function(t) {var e, r, n, i, o, s = a(this), f = d(s, 0), h = 0;for (e = -1,n = arguments.length; e < n; e++)if (v(o = -1 === e ? s : arguments[e]))for (i = c(o),u(h + i),r = 0; r < i; r++,h++)r in o && l(f, h, o[r]);elseu(h + 1),l(f, h++, o);return f.length = h,f}})},36744: function(t, e, r) {"use strict";var n = r(11091), i = r(29832), o = r(42156);n({target: "Array",proto: !0}, {fill: i}),o("fill")},49295: function(t, e, r) {"use strict";var n = r(11091), i = r(70726).filter;n({target: "Array",proto: !0,forced: !r(59552)("filter")}, {filter: function(t) {return i(this, t, arguments.length > 1 ? arguments[1] : void 0)}})},79175: function(t, e, r) {"use strict";var n = r(11091), i = r(70726).findIndex, o = r(42156), s = "findIndex", a = !0;s in [] && Array(1)[s]((function() {a = !1})),n({target: "Array",proto: !0,forced: a}, {findIndex: function(t) {return i(this, t, arguments.length > 1 ? arguments[1] : void 0)}}),o(s)},6290: function(t, e, r) {"use strict";var n = r(11091), i = r(70726).find, o = r(42156), s = "find", a = !0;s in [] && Array(1)[s]((function() {a = !1})),n({target: "Array",proto: !0,forced: a}, {find: function(t) {return i(this, t, arguments.length > 1 ? arguments[1] : void 0)}}),o(s)},95650: function(t, e, r) {"use strict";var n = r(11091), i = r(22914);n({target: "Array",proto: !0,forced: [].forEach !== i}, {forEach: i})},57277: function(t, e, r) {"use strict";var n = r(11091), i = r(11229);n({target: "Array",stat: !0,forced: !r(70473)((function(t) {Array.from(t)}))}, {from: i})},19748: function(t, e, r) {"use strict";var n = r(11091), i = r(74436).includes, o = r(98828), s = r(42156);n({target: "Array",proto: !0,forced: o((function() {return !Array(1).includes()}))}, {includes: function(t) {return i(this, t, arguments.length > 1 ? arguments[1] : void 0)}}),s("includes")},92425: function(t, e, r) {"use strict";r(11091)({target: "Array",stat: !0}, {isArray: r(11793)})},99363: function(t, e, r) {"use strict";var n = r(27374), i = r(42156), o = r(93742), s = r(64932), a = r(74284).f, c = r(60183), u = r(59550), l = r(7376), d = r(39447), f = "Array Iterator", h = s.set, p = s.getterFor(f);t.exports = c(Array, "Array", (function(t, e) {h(this, {type: f,target: n(t),index: 0,kind: e})}), (function() {var t = p(this), e = t.target, r = t.index++;if (!e || r >= e.length)return t.target = void 0,u(void 0, !0);switch (t.kind) {case "keys":return u(r, !1);case "values":return u(e[r], !1)}return u([r, e[r]], !1)}), "values");var g = o.Arguments = o.Array;if (i("keys"),i("values"),i("entries"),!l && d && "values" !== g.name)try {a(g, "name", {value: "values"})} catch (t) {}},6687: function(t, e, r) {"use strict";var n = r(11091), i = r(70726).map;n({target: "Array",proto: !0,forced: !r(59552)("map")}, {map: function(t) {return i(this, t, arguments.length > 1 ? arguments[1] : void 0)}})},85745: function(t, e, r) {"use strict";var n = r(11091), i = r(39298), o = r(20575), s = r(3130), a = r(88024);n({target: "Array",proto: !0,arity: 1,forced: r(98828)((function() {return 4294967297 !== [].push.call({length: 4294967296}, 1)})) || !function() {try {Object.defineProperty([], "length", {writable: !1}).push()} catch (t) {return t instanceof TypeError}}()}, {push: function(t) {var e = i(this), r = o(e), n = arguments.length;a(r + n);for (var c = 0; c < n; c++)e[r] = arguments[c],r++;return s(e, r),r}})},48559: function(t, e, r) {"use strict";var n = r(11091), i = r(1907), o = r(11793), s = i([].reverse), a = [1, 2];n({target: "Array",proto: !0,forced: String(a) === String(a.reverse())}, {reverse: function() {return o(this) && (this.length = this.length),s(this)}})},62099: function(t, e, r) {"use strict";var n = r(11091), i = r(11793), o = r(25468), s = r(46285), a = r(34849), c = r(20575), u = r(27374), l = r(5543), d = r(76264), f = r(59552), h = r(93427), p = f("slice"), g = d("species"), m = Array, v = Math.max;n({target: "Array",proto: !0,forced: !p}, {slice: function(t, e) {var r, n, d, f = u(this), p = c(f), y = a(t, p), _ = a(void 0 === e ? p : e, p);if (i(f) && (r = f.constructor,(o(r) && (r === m || i(r.prototype)) || s(r) && null === (r = r[g])) && (r = void 0),r === m || void 0 === r))return h(f, y, _);for (n = new (void 0 === r ? m : r)(v(_ - y, 0)),d = 0; y < _; y++,d++)y in f && l(n, d, f[y]);return n.length = d,n}})},35953: function(t, e, r) {"use strict";var n = r(11091), i = r(39298), o = r(34849), s = r(65482), a = r(20575), c = r(3130), u = r(88024), l = r(56968), d = r(5543), f = r(74535), h = r(59552)("splice"), p = Math.max, g = Math.min;n({target: "Array",proto: !0,forced: !h}, {splice: function(t, e) {var r, n, h, m, v, y, _ = i(this), b = a(_), w = o(t, b), E = arguments.length;for (0 === E ? r = n = 0 : 1 === E ? (r = 0,n = b - w) : (r = E - 2,n = g(p(s(e), 0), b - w)),u(b + r - n),h = l(_, n),m = 0; m < n; m++)(v = w + m)in _ && d(h, m, _[v]);if (h.length = n,r < n) {for (m = w; m < b - n; m++)y = m + r,(v = m + n)in _ ? _[y] = _[v] : f(_, y);for (m = b; m > b - n + r; m--)f(_, m - 1)} else if (r > n)for (m = b - n; m > w; m--)y = m + r - 1,(v = m + n - 1)in _ ? _[y] = _[v] : f(_, y);for (m = 0; m < r; m++)_[m + w] = arguments[m + 2];return c(_, b - n + r),h}})},56648: function(t, e, r) {"use strict";var n = r(11091), i = r(13930), o = r(39298), s = r(46028), a = r(3701), c = r(45807);n({target: "Date",proto: !0,forced: r(98828)((function() {return null !== new Date(NaN).toJSON() || 1 !== i(Date.prototype.toJSON, {toISOString: function() {return 1}})}))}, {toJSON: function(t) {var e = o(this), r = s(e, "number");return "number" != typeof r || isFinite(r) ? "toISOString"in e || "Date" !== c(e) ? e.toISOString() : i(a, e) : null}})},98537: function() {},49721: function(t, e, r) {"use strict";var n = r(11091), i = r(85582), o = r(76024), s = r(13930), a = r(1907), c = r(98828), u = r(62250), l = r(25594), d = r(93427), f = r(96656), h = r(19846), p = String, g = i("JSON", "stringify"), m = a(/./.exec), v = a("".charAt), y = a("".charCodeAt), _ = a("".replace), b = a(1..toString), w = /[\uD800-\uDFFF]/g, E = /^[\uD800-\uDBFF]$/, T = /^[\uDC00-\uDFFF]$/, S = !h || c((function() {var t = i("Symbol")("stringify detection");return "[null]" !== g([t]) || "{}" !== g({a: t}) || "{}" !== g(Object(t))})), A = c((function() {return '"\\udf06\\ud834"' !== g("\udf06\ud834") || '"\\udead"' !== g("\udead")})), I = function(t, e) {var r = d(arguments), n = f(e);if (u(n) || void 0 !== t && !l(t))return r[1] = function(t, e) {if (u(n) && (e = s(n, this, p(t), e)),!l(e))return e},o(g, null, r)}, x = function(t, e, r) {var n = v(r, e - 1), i = v(r, e + 1);return m(E, t) && !m(T, i) || m(T, t) && !m(E, n) ? "\\u" + b(y(t, 0), 16) : t};g && n({target: "JSON",stat: !0,arity: 3,forced: S || A}, {stringify: function(t, e, r) {var n = d(arguments), i = o(S ? I : g, null, n);return A && "string" == typeof i ? _(i, w, x) : i}})},87024: function(t, e, r) {"use strict";var n = r(41010);r(14840)(n.JSON, "JSON", !0)},38172: function() {},71340: function(t, e, r) {"use strict";var n = r(11091), i = r(29538);n({target: "Object",stat: !0,arity: 2,forced: Object.assign !== i}, {assign: i})},25837: function(t, e, r) {"use strict";r(11091)({target: "Object",stat: !0,sham: !r(39447)}, {create: r(58075)})},46750: function(t, e, r) {"use strict";var n = r(11091), i = r(39447), o = r(74284).f;n({target: "Object",stat: !0,forced: Object.defineProperty !== o,sham: !i}, {defineProperty: o})},87052: function(t, e, r) {"use strict";var n = r(11091), i = r(98828), o = r(27374), s = r(13846).f, a = r(39447);n({target: "Object",stat: !0,forced: !a || i((function() {s(1)})),sham: !a}, {getOwnPropertyDescriptor: function(t, e) {return s(o(t), e)}})},50179: function(t, e, r) {"use strict";var n = r(11091), i = r(39447), o = r(11042), s = r(27374), a = r(13846), c = r(5543);n({target: "Object",stat: !0,sham: !i}, {getOwnPropertyDescriptors: function(t) {for (var e, r, n = s(t), i = a.f, u = o(n), l = {}, d = 0; u.length > d; )void 0 !== (r = i(n, e = u[d++])) && c(l, e, r);return l}})},55264: function(t, e, r) {"use strict";var n = r(11091), i = r(19846), o = r(98828), s = r(87170), a = r(39298);n({target: "Object",stat: !0,forced: !i || o((function() {s.f(1)}))}, {getOwnPropertySymbols: function(t) {var e = s.f;return e ? e(a(t)) : []}})},38966: function(t, e, r) {"use strict";var n = r(11091), i = r(98828), o = r(39298), s = r(15972), a = r(57382);n({target: "Object",stat: !0,forced: i((function() {s(1)})),sham: !a}, {getPrototypeOf: function(t) {return s(o(t))}})},83589: function(t, e, r) {"use strict";var n = r(11091), i = r(39298), o = r(2875);n({target: "Object",stat: !0,forced: r(98828)((function() {o(1)}))}, {keys: function(t) {return o(i(t))}})},91906: function(t, e, r) {"use strict";r(11091)({target: "Object",stat: !0}, {setPrototypeOf: r(79192)})},86024: function() {},57450: function(t, e, r) {"use strict";var n = r(11091), i = r(13930), o = r(82159), s = r(56254), a = r(94420), c = r(24823);n({target: "Promise",stat: !0,forced: r(3282)}, {allSettled: function(t) {var e = this, r = s.f(e), n = r.resolve, u = r.reject, l = a((function() {var r = o(e.resolve), s = [], a = 0, u = 1;c(t, (function(t) {var o = a++, c = !1;u++,i(r, e, t).then((function(t) {c || (c = !0,s[o] = {status: "fulfilled",value: t},--u || n(s))}), (function(t) {c || (c = !0,s[o] = {status: "rejected",reason: t},--u || n(s))}))})),--u || n(s)}));return l.error && u(l.value),r.promise}})},6630: function(t, e, r) {"use strict";var n = r(11091), i = r(13930), o = r(82159), s = r(56254), a = r(94420), c = r(24823);n({target: "Promise",stat: !0,forced: r(3282)}, {all: function(t) {var e = this, r = s.f(e), n = r.resolve, u = r.reject, l = a((function() {var r = o(e.resolve), s = [], a = 0, l = 1;c(t, (function(t) {var o = a++, c = !1;l++,i(r, e, t).then((function(t) {c || (c = !0,s[o] = t,--l || n(s))}), u)})),--l || n(s)}));return l.error && u(l.value),r.promise}})},36415: function(t, e, r) {"use strict";var n = r(11091), i = r(13930), o = r(82159), s = r(85582), a = r(56254), c = r(94420), u = r(24823), l = r(3282), d = "No one promise resolved";n({target: "Promise",stat: !0,forced: l}, {any: function(t) {var e = this, r = s("AggregateError"), n = a.f(e), l = n.resolve, f = n.reject, h = c((function() {var n = o(e.resolve), s = [], a = 0, c = 1, h = !1;u(t, (function(t) {var o = a++, u = !1;c++,i(n, e, t).then((function(t) {u || h || (h = !0,l(t))}), (function(t) {u || h || (u = !0,s[o] = t,--c || f(new r(s,d)))}))})),--c || f(new r(s,d))}));return h.error && f(h.value),n.promise}})},91866: function(t, e, r) {"use strict";var n = r(11091), i = r(7376), o = r(1759).CONSTRUCTOR, s = r(55463), a = r(85582), c = r(62250), u = r(68055), l = s && s.prototype;if (n({target: "Promise",proto: !0,forced: o,real: !0}, {catch: function(t) {return this.then(void 0, t)}}),!i && c(s)) {var d = a("Promise").prototype.catch;l.catch !== d && u(l, "catch", d, {unsafe: !0})}},3825: function(t, e, r) {"use strict";var n, i, o, s = r(11091), a = r(7376), c = r(70853), u = r(41010), l = r(13930), d = r(68055), f = r(79192), h = r(14840), p = r(47118), g = r(82159), m = r(62250), v = r(46285), y = r(59596), _ = r(28450), b = r(49472).set, w = r(52292), E = r(73904), T = r(94420), S = r(1626), A = r(64932), I = r(55463), x = r(1759), L = r(56254), k = "Promise", R = x.CONSTRUCTOR, C = x.REJECTION_EVENT, P = x.SUBCLASSING, D = A.getterFor(k), O = A.set, M = I && I.prototype, U = I, F = M, N = u.TypeError, B = u.document, j = u.process, $ = L.f, H = $, G = !!(B && B.createEvent && u.dispatchEvent), K = "unhandledrejection", q = function(t) {var e;return !(!v(t) || !m(e = t.then)) && e}, W = function(t, e) {var r, n, i, o = e.value, s = 1 === e.state, a = s ? t.ok : t.fail, c = t.resolve, u = t.reject, d = t.domain;try {a ? (s || (2 === e.rejection && X(e),e.rejection = 1),!0 === a ? r = o : (d && d.enter(),r = a(o),d && (d.exit(),i = !0)),r === t.promise ? u(new N("Promise-chain cycle")) : (n = q(r)) ? l(n, r, c, u) : c(r)) : u(o)} catch (t) {d && !i && d.exit(),u(t)}}, V = function(t, e) {t.notified || (t.notified = !0,w((function() {for (var r, n = t.reactions; r = n.get(); )W(r, t);t.notified = !1,e && !t.rejection && Y(t)})))}, z = function(t, e, r) {var n, i;G ? ((n = B.createEvent("Event")).promise = e,n.reason = r,n.initEvent(t, !1, !0),u.dispatchEvent(n)) : n = {promise: e,reason: r},!C && (i = u["on" + t]) ? i(n) : t === K && E("Unhandled promise rejection", r)}, Y = function(t) {l(b, u, (function() {var e, r = t.facade, n = t.value;if (Q(t) && (e = T((function() {c ? j.emit("unhandledRejection", n, r) : z(K, r, n)})),t.rejection = c || Q(t) ? 2 : 1,e.error))throw e.value}))}, Q = function(t) {return 1 !== t.rejection && !t.parent}, X = function(t) {l(b, u, (function() {var e = t.facade;c ? j.emit("rejectionHandled", e) : z("rejectionhandled", e, t.value)}))}, J = function(t, e, r) {return function(n) {t(e, n, r)}}, Z = function(t, e, r) {t.done || (t.done = !0,r && (t = r),t.value = e,t.state = 2,V(t, !0))}, tt = function(t, e, r) {if (!t.done) {t.done = !0,r && (t = r);try {if (t.facade === e)throw new N("Promise can't be resolved itself");var n = q(e);n ? w((function() {var r = {done: !1};try {l(n, e, J(tt, r, t), J(Z, r, t))} catch (e) {Z(r, e, t)}})) : (t.value = e,t.state = 1,V(t, !1))} catch (e) {Z({done: !1}, e, t)}}};if (R && (F = (U = function(t) {y(this, F),g(t),l(n, this);var e = D(this);try {t(J(tt, e), J(Z, e))} catch (t) {Z(e, t)}}).prototype,(n = function(t) {O(this, {type: k,done: !1,notified: !1,parent: !1,reactions: new S,rejection: !1,state: 0,value: void 0})}).prototype = d(F, "then", (function(t, e) {var r = D(this), n = $(_(this, U));return r.parent = !0,n.ok = !m(t) || t,n.fail = m(e) && e,n.domain = c ? j.domain : void 0,0 === r.state ? r.reactions.add(n) : w((function() {W(n, r)})),n.promise})),i = function() {var t = new n, e = D(t);this.promise = t,this.resolve = J(tt, e),this.reject = J(Z, e)},L.f = $ = function(t) {return t === U || undefined === t ? new i(t) : H(t)},!a && m(I) && M !== Object.prototype)) {o = M.then,P || d(M, "then", (function(t, e) {var r = this;return new U((function(t, e) {l(o, r, t, e)})).then(t, e)}), {unsafe: !0});try {delete M.constructor} catch (t) {}f && f(M, F)}s({global: !0,constructor: !0,wrap: !0,forced: R}, {Promise: U}),h(U, k, !1, !0),p(k)},47714: function(t, e, r) {"use strict";var n = r(11091), i = r(7376), o = r(55463), s = r(98828), a = r(85582), c = r(62250), u = r(28450), l = r(83569), d = r(68055), f = o && o.prototype;if (n({target: "Promise",proto: !0,real: !0,forced: !!o && s((function() {f.finally.call({then: function() {}}, (function() {}))}))}, {finally: function(t) {var e = u(this, a("Promise")), r = c(t);return this.then(r ? function(r) {return l(e, t()).then((function() {return r}))}: t, r ? function(r) {return l(e, t()).then((function() {throw r}))}: t)}}),!i && c(o)) {var h = a("Promise").prototype.finally;f.finally !== h && d(f, "finally", h, {unsafe: !0})}},65931: function(t, e, r) {"use strict";r(3825),r(6630),r(91866),r(72736),r(17286),r(16761)},72736: function(t, e, r) {"use strict";var n = r(11091), i = r(13930), o = r(82159), s = r(56254), a = r(94420), c = r(24823);n({target: "Promise",stat: !0,forced: r(3282)}, {race: function(t) {var e = this, r = s.f(e), n = r.reject, u = a((function() {var s = o(e.resolve);c(t, (function(t) {i(s, e, t).then(r.resolve, n)}))}));return u.error && n(u.value),r.promise}})},17286: function(t, e, r) {"use strict";var n = r(11091), i = r(56254);n({target: "Promise",stat: !0,forced: r(1759).CONSTRUCTOR}, {reject: function(t) {var e = i.f(this);return (0,e.reject)(t),e.promise}})},16761: function(t, e, r) {"use strict";var n = r(11091), i = r(85582), o = r(7376), s = r(55463), a = r(1759).CONSTRUCTOR, c = r(83569), u = i("Promise"), l = o && !a;n({target: "Promise",stat: !0,forced: o || a}, {resolve: function(t) {return c(l && this === u ? s : this, t)}})},25823: function(t, e, r) {"use strict";var n = r(11091), i = r(56254);n({target: "Promise",stat: !0}, {withResolvers: function() {var t = i.f(this);return {promise: t.promise,resolve: t.resolve,reject: t.reject}}})},85205: function() {},80430: function(t, e, r) {"use strict";var n, i = r(11091), o = r(92361), s = r(13846).f, a = r(3121), c = r(90160), u = r(12074), l = r(74239), d = r(25735), f = r(7376), h = o("".slice), p = Math.min, g = d("endsWith");i({target: "String",proto: !0,forced: !!(f || g || (n = s(String.prototype, "endsWith"),!n || n.writable)) && !g}, {endsWith: function(t) {var e = c(l(this));u(t);var r = arguments.length > 1 ? arguments[1] : void 0, n = e.length, i = void 0 === r ? n : p(a(r), n), o = c(t);return h(e, i - o.length, i) === o}})},19770: function(t, e, r) {"use strict";var n = r(11091), i = r(1907), o = r(12074), s = r(74239), a = r(90160), c = r(25735), u = i("".indexOf);n({target: "String",proto: !0,forced: !c("includes")}, {includes: function(t) {return !!~u(a(s(this)), a(o(t)), arguments.length > 1 ? arguments[1] : void 0)}})},7057: function(t, e, r) {"use strict";var n = r(11470).charAt, i = r(90160), o = r(64932), s = r(60183), a = r(59550), c = "String Iterator", u = o.set, l = o.getterFor(c);s(String, "String", (function(t) {u(this, {type: c,string: i(t),index: 0})}), (function() {var t, e = l(this), r = e.string, i = e.index;return i >= r.length ? a(void 0, !0) : (t = n(r, i),e.index += t.length,a(t, !1))}))},22395: function(t, e, r) {"use strict";var n, i = r(11091), o = r(92361), s = r(13846).f, a = r(3121), c = r(90160), u = r(12074), l = r(74239), d = r(25735), f = r(7376), h = o("".slice), p = Math.min, g = d("startsWith");i({target: "String",proto: !0,forced: !!(f || g || (n = s(String.prototype, "startsWith"),!n || n.writable)) && !g}, {startsWith: function(t) {var e = c(l(this));u(t);var r = a(p(arguments.length > 1 ? arguments[1] : void 0, e.length)), n = c(t);return h(e, r, r + n.length) === n}})},50727: function(t, e, r) {"use strict";var n = r(11091), i = r(65993).trim;n({target: "String",proto: !0,forced: r(95819)("trim")}, {trim: function() {return i(this)}})},3997: function(t, e, r) {"use strict";r(20366)("asyncIterator")},23674: function(t, e, r) {"use strict";var n = r(11091), i = r(41010), o = r(13930), s = r(1907), a = r(7376), c = r(39447), u = r(19846), l = r(98828), d = r(49724), f = r(88280), h = r(36624), p = r(27374), g = r(70470), m = r(90160), v = r(75817), y = r(58075), _ = r(2875), b = r(24443), w = r(25407), E = r(87170), T = r(13846), S = r(74284), A = r(42220), I = r(22574), x = r(68055), L = r(89251), k = r(85816), R = r(92522), C = r(38530), P = r(6499), D = r(76264), O = r(80560), M = r(20366), U = r(83467), F = r(14840), N = r(64932), B = r(70726).forEach, j = R("hidden"), $ = "Symbol", H = "prototype", G = N.set, K = N.getterFor($), q = Object[H], W = i.Symbol, V = W && W[H], z = i.RangeError, Y = i.TypeError, Q = i.QObject, X = T.f, J = S.f, Z = w.f, tt = I.f, et = s([].push), rt = k("symbols"), nt = k("op-symbols"), it = k("wks"), ot = !Q || !Q[H] || !Q[H].findChild, st = function(t, e, r) {var n = X(q, e);n && delete q[e],J(t, e, r),n && t !== q && J(q, e, n)}, at = c && l((function() {return 7 !== y(J({}, "a", {get: function() {return J(this, "a", {value: 7}).a}})).a})) ? st : J, ct = function(t, e) {var r = rt[t] = y(V);return G(r, {type: $,tag: t,description: e}),c || (r.description = e),r}, ut = function(t, e, r) {t === q && ut(nt, e, r),h(t);var n = g(e);return h(r),d(rt, n) ? (r.enumerable ? (d(t, j) && t[j][n] && (t[j][n] = !1),r = y(r, {enumerable: v(0, !1)})) : (d(t, j) || J(t, j, v(1, y(null))),t[j][n] = !0),at(t, n, r)) : J(t, n, r)}, lt = function(t, e) {h(t);var r = p(e), n = _(r).concat(pt(r));return B(n, (function(e) {c && !o(dt, r, e) || ut(t, e, r[e])})),t}, dt = function(t) {var e = g(t), r = o(tt, this, e);return !(this === q && d(rt, e) && !d(nt, e)) && (!(r || !d(this, e) || !d(rt, e) || d(this, j) && this[j][e]) || r)}, ft = function(t, e) {var r = p(t), n = g(e);if (r !== q || !d(rt, n) || d(nt, n)) {var i = X(r, n);return !i || !d(rt, n) || d(r, j) && r[j][n] || (i.enumerable = !0),i}}, ht = function(t) {var e = Z(p(t)), r = [];return B(e, (function(t) {d(rt, t) || d(C, t) || et(r, t)})),r}, pt = function(t) {var e = t === q, r = Z(e ? nt : p(t)), n = [];return B(r, (function(t) {!d(rt, t) || e && !d(q, t) || et(n, rt[t])})),n};u || (W = function() {if (f(V, this))throw new Y("Symbol is not a constructor");var t = arguments.length && void 0 !== arguments[0] ? m(arguments[0]) : void 0, e = P(t), r = function(t) {var n = void 0 === this ? i : this;n === q && o(r, nt, t),d(n, j) && d(n[j], e) && (n[j][e] = !1);var s = v(1, t);try {at(n, e, s)} catch (t) {if (!(t instanceof z))throw t;st(n, e, s)}};return c && ot && at(q, e, {configurable: !0,set: r}),ct(e, t)},x(V = W[H], "toString", (function() {return K(this).tag})),x(W, "withoutSetter", (function(t) {return ct(P(t), t)})),I.f = dt,S.f = ut,A.f = lt,T.f = ft,b.f = w.f = ht,E.f = pt,O.f = function(t) {return ct(D(t), t)},c && (L(V, "description", {configurable: !0,get: function() {return K(this).description}}),a || x(q, "propertyIsEnumerable", dt, {unsafe: !0}))),n({global: !0,constructor: !0,wrap: !0,forced: !u,sham: !u}, {Symbol: W}),B(_(it), (function(t) {M(t)})),n({target: $,stat: !0,forced: !u}, {useSetter: function() {ot = !0},useSimple: function() {ot = !1}}),n({target: "Object",stat: !0,forced: !u,sham: !c}, {create: function(t, e) {return void 0 === e ? y(t) : lt(y(t), e)},defineProperty: ut,defineProperties: lt,getOwnPropertyDescriptor: ft}),n({target: "Object",stat: !0,forced: !u}, {getOwnPropertyNames: ht}),U(),F(W, $),C[j] = !0},75084: function() {},13313: function(t, e, r) {"use strict";var n = r(11091), i = r(85582), o = r(49724), s = r(90160), a = r(85816), c = r(84411), u = a("string-to-symbol-registry"), l = a("symbol-to-string-registry");n({target: "Symbol",stat: !0,forced: !c}, {for: function(t) {var e = s(t);if (o(u, e))return u[e];var r = i("Symbol")(e);return u[e] = r,l[r] = e,r}})},2596: function(t, e, r) {"use strict";r(20366)("hasInstance")},5721: function(t, e, r) {"use strict";r(20366)("isConcatSpreadable")},44954: function(t, e, r) {"use strict";r(20366)("iterator")},94452: function(t, e, r) {"use strict";r(23674),r(13313),r(10751),r(49721),r(55264)},10751: function(t, e, r) {"use strict";var n = r(11091), i = r(49724), o = r(25594), s = r(4640), a = r(85816), c = r(84411), u = a("symbol-to-string-registry");n({target: "Symbol",stat: !0,forced: !c}, {keyFor: function(t) {if (!o(t))throw new TypeError(s(t) + " is not a symbol");if (i(u, t))return u[t]}})},73377: function(t, e, r) {"use strict";r(20366)("matchAll")},44123: function(t, e, r) {"use strict";r(20366)("match")},72230: function(t, e, r) {"use strict";r(20366)("replace")},15344: function(t, e, r) {"use strict";r(20366)("search")},51660: function(t, e, r) {"use strict";r(20366)("species")},4610: function(t, e, r) {"use strict";r(20366)("split")},33669: function(t, e, r) {"use strict";var n = r(20366), i = r(83467);n("toPrimitive"),i()},44810: function(t, e, r) {"use strict";var n = r(85582), i = r(20366), o = r(14840);i("toStringTag"),o(n("Symbol"), "Symbol")},93325: function(t, e, r) {"use strict";r(20366)("unscopables")},91599: function(t, e, r) {"use strict";r(64502)},20768: function(t, e, r) {"use strict";var n = r(76264), i = r(74284).f, o = n("metadata"), s = Function.prototype;void 0 === s[o] && i(s, o, {value: null})},27939: function(t, e, r) {"use strict";r(57450)},64362: function(t, e, r) {"use strict";r(36415)},27637: function(t, e, r) {"use strict";var n = r(11091), i = r(56254), o = r(94420);n({target: "Promise",stat: !0,forced: !0}, {try: function(t) {var e = i.f(this), r = o(t);return (r.error ? e.reject : e.resolve)(r.value),e.promise}})},33568: function(t, e, r) {"use strict";r(25823)},8549: function(t, e, r) {"use strict";r(20366)("asyncDispose")},87152: function(t, e, r) {"use strict";r(20366)("dispose")},13939: function(t, e, r) {"use strict";r(11091)({target: "Symbol",stat: !0}, {isRegisteredSymbol: r(12595)})},63422: function(t, e, r) {"use strict";r(11091)({target: "Symbol",stat: !0,name: "isRegisteredSymbol"}, {isRegistered: r(12595)})},21785: function(t, e, r) {"use strict";r(11091)({target: "Symbol",stat: !0,forced: !0}, {isWellKnownSymbol: r(69197)})},70036: function(t, e, r) {"use strict";r(11091)({target: "Symbol",stat: !0,name: "isWellKnownSymbol",forced: !0}, {isWellKnown: r(69197)})},28703: function(t, e, r) {"use strict";r(20366)("matcher")},86878: function(t, e, r) {"use strict";r(20366)("metadataKey")},11372: function(t, e, r) {"use strict";r(20366)("metadata")},84664: function(t, e, r) {"use strict";r(20366)("observable")},59671: function(t, e, r) {"use strict";r(20366)("patternMatch")},50359: function(t, e, r) {"use strict";r(20366)("replaceAll")},60237: function() {},12560: function(t, e, r) {"use strict";r(99363);var n = r(19287), i = r(41010), o = r(14840), s = r(93742);for (var a in n)o(i[a], a),s[a] = s.Array},21978: function(t, e, r) {"use strict";var n = r(11091), i = r(41010), o = r(70485)(i.setInterval, !0);n({global: !0,bind: !0,forced: i.setInterval !== o}, {setInterval: o})},66496: function(t, e, r) {"use strict";var n = r(11091), i = r(41010), o = r(70485)(i.setTimeout, !0);n({global: !0,bind: !0,forced: i.setTimeout !== o}, {setTimeout: o})},73342: function(t, e, r) {"use strict";r(21978),r(66496)},67105: function(t, e, r) {"use strict";r(99363);var n = r(11091), i = r(41010), o = r(52098), s = r(13930), a = r(1907), c = r(39447), u = r(34791), l = r(68055), d = r(89251), f = r(12802), h = r(14840), p = r(47181), g = r(64932), m = r(59596), v = r(62250), y = r(49724), _ = r(28311), b = r(73948), w = r(36624), E = r(46285), T = r(90160), S = r(58075), A = r(75817), I = r(10300), x = r(73448), L = r(59550), k = r(24787), R = r(76264), C = r(34321), P = R("iterator"), D = "URLSearchParams", O = D + "Iterator", M = g.set, U = g.getterFor(D), F = g.getterFor(O), N = o("fetch"), B = o("Request"), j = o("Headers"), $ = B && B.prototype, H = j && j.prototype, G = i.RegExp, K = i.TypeError, q = i.decodeURIComponent, W = i.encodeURIComponent, V = a("".charAt), z = a([].join), Y = a([].push), Q = a("".replace), X = a([].shift), J = a([].splice), Z = a("".split), tt = a("".slice), et = /\+/g, rt = Array(4), nt = function(t) {return rt[t - 1] || (rt[t - 1] = G("((?:%[\\da-f]{2}){" + t + "})", "gi"))}, it = function(t) {try {return q(t)} catch (e) {return t}}, ot = function(t) {var e = Q(t, et, " "), r = 4;try {return q(e)} catch (t) {for (; r; )e = Q(e, nt(r--), it);return e}}, st = /[!'()~]|%20/g, at = {"!": "%21","'": "%27","(": "%28",")": "%29","~": "%7E","%20": "+"}, ct = function(t) {return at[t]}, ut = function(t) {return Q(W(t), st, ct)}, lt = p((function(t, e) {M(this, {type: O,target: U(t).entries,index: 0,kind: e})}), D, (function() {var t = F(this), e = t.target, r = t.index++;if (!e || r >= e.length)return t.target = void 0,L(void 0, !0);var n = e[r];switch (t.kind) {case "keys":return L(n.key, !1);case "values":return L(n.value, !1)}return L([n.key, n.value], !1)}), !0), dt = function(t) {this.entries = [],this.url = null,void 0 !== t && (E(t) ? this.parseObject(t) : this.parseQuery("string" == typeof t ? "?" === V(t, 0) ? tt(t, 1) : t : T(t)))};dt.prototype = {type: D,bindURL: function(t) {this.url = t,this.update()},parseObject: function(t) {var e, r, n, i, o, a, c, u = this.entries, l = x(t);if (l)for (r = (e = I(t, l)).next; !(n = s(r, e)).done; ) {if (o = (i = I(w(n.value))).next,(a = s(o, i)).done || (c = s(o, i)).done || !s(o, i).done)throw new K("Expected sequence with length 2");Y(u, {key: T(a.value),value: T(c.value)})}elsefor (var d in t)y(t, d) && Y(u, {key: d,value: T(t[d])})},parseQuery: function(t) {if (t)for (var e, r, n = this.entries, i = Z(t, "&"), o = 0; o < i.length; )(e = i[o++]).length && (r = Z(e, "="),Y(n, {key: ot(X(r)),value: ot(z(r, "="))}))},serialize: function() {for (var t, e = this.entries, r = [], n = 0; n < e.length; )t = e[n++],Y(r, ut(t.key) + "=" + ut(t.value));return z(r, "&")},update: function() {this.entries.length = 0,this.parseQuery(this.url.query)},updateURL: function() {this.url && this.url.update()}};var ft = function() {m(this, ht);var t = M(this, new dt(arguments.length > 0 ? arguments[0] : void 0));c || (this.size = t.entries.length)}, ht = ft.prototype;if (f(ht, {append: function(t, e) {var r = U(this);k(arguments.length, 2),Y(r.entries, {key: T(t),value: T(e)}),c || this.length++,r.updateURL()},delete: function(t) {for (var e = U(this), r = k(arguments.length, 1), n = e.entries, i = T(t), o = r < 2 ? void 0 : arguments[1], s = void 0 === o ? o : T(o), a = 0; a < n.length; ) {var u = n[a];if (u.key !== i || void 0 !== s && u.value !== s)a++;else if (J(n, a, 1),void 0 !== s)break}c || (this.size = n.length),e.updateURL()},get: function(t) {var e = U(this).entries;k(arguments.length, 1);for (var r = T(t), n = 0; n < e.length; n++)if (e[n].key === r)return e[n].value;return null},getAll: function(t) {var e = U(this).entries;k(arguments.length, 1);for (var r = T(t), n = [], i = 0; i < e.length; i++)e[i].key === r && Y(n, e[i].value);return n},has: function(t) {for (var e = U(this).entries, r = k(arguments.length, 1), n = T(t), i = r < 2 ? void 0 : arguments[1], o = void 0 === i ? i : T(i), s = 0; s < e.length; ) {var a = e[s++];if (a.key === n && (void 0 === o || a.value === o))return !0}return !1},set: function(t, e) {var r = U(this);k(arguments.length, 1);for (var n, i = r.entries, o = !1, s = T(t), a = T(e), u = 0; u < i.length; u++)(n = i[u]).key === s && (o ? J(i, u--, 1) : (o = !0,n.value = a));o || Y(i, {key: s,value: a}),c || (this.size = i.length),r.updateURL()},sort: function() {var t = U(this);C(t.entries, (function(t, e) {return t.key > e.key ? 1 : -1})),t.updateURL()},forEach: function(t) {for (var e, r = U(this).entries, n = _(t, arguments.length > 1 ? arguments[1] : void 0), i = 0; i < r.length; )n((e = r[i++]).value, e.key, this)},keys: function() {return new lt(this,"keys")},values: function() {return new lt(this,"values")},entries: function() {return new lt(this,"entries")}}, {enumerable: !0}),l(ht, P, ht.entries, {name: "entries"}),l(ht, "toString", (function() {return U(this).serialize()}), {enumerable: !0}),c && d(ht, "size", {get: function() {return U(this).entries.length},configurable: !0,enumerable: !0}),h(ft, D),n({global: !0,constructor: !0,forced: !u}, {URLSearchParams: ft}),!u && v(j)) {var pt = a(H.has), gt = a(H.set), mt = function(t) {if (E(t)) {var e, r = t.body;if (b(r) === D)return e = t.headers ? new j(t.headers) : new j,pt(e, "content-type") || gt(e, "content-type", "application/x-www-form-urlencoded;charset=UTF-8"),S(t, {body: A(0, T(r)),headers: A(0, e)})}return t};if (v(N) && n({global: !0,enumerable: !0,dontCallGetSet: !0,forced: !0}, {fetch: function(t) {return N(t, arguments.length > 1 ? mt(arguments[1]) : {})}}),v(B)) {var vt = function(t) {return m(this, $),new B(t,arguments.length > 1 ? mt(arguments[1]) : {})};$.constructor = vt,vt.prototype = $,n({global: !0,constructor: !0,dontCallGetSet: !0,forced: !0}, {Request: vt})}}t.exports = {URLSearchParams: ft,getState: U}},75042: function() {},17649: function() {},66299: function(t, e, r) {"use strict";r(67105)},83604: function() {},28669: function(t, e, r) {"use strict";var n = r(11091), i = r(85582), o = r(98828), s = r(24787), a = r(90160), c = r(34791), u = i("URL");n({target: "URL",stat: !0,forced: !(c && o((function() {u.canParse()})))}, {canParse: function(t) {var e = s(arguments.length, 1), r = a(t), n = e < 2 || void 0 === arguments[1] ? void 0 : a(arguments[1]);try {return !!new u(r,n)} catch (t) {return !1}}})},56909: function(t, e, r) {"use strict";r(7057);var n, i = r(11091), o = r(39447), s = r(34791), a = r(41010), c = r(28311), u = r(1907), l = r(68055), d = r(89251), f = r(59596), h = r(49724), p = r(29538), g = r(11229), m = r(93427), v = r(11470).codeAt, y = r(79156), _ = r(90160), b = r(14840), w = r(24787), E = r(67105), T = r(64932), S = T.set, A = T.getterFor("URL"), I = E.URLSearchParams, x = E.getState, L = a.URL, k = a.TypeError, R = a.parseInt, C = Math.floor, P = Math.pow, D = u("".charAt), O = u(/./.exec), M = u([].join), U = u(1..toString), F = u([].pop), N = u([].push), B = u("".replace), j = u([].shift), $ = u("".split), H = u("".slice), G = u("".toLowerCase), K = u([].unshift), q = "Invalid scheme", W = "Invalid host", V = "Invalid port", z = /[a-z]/i, Y = /[\d+-.a-z]/i, Q = /\d/, X = /^0x/i, J = /^[0-7]+$/, Z = /^\d+$/, tt = /^[\da-f]+$/i, et = /[\0\t\n\r #%/:<>?@[\\\]^|]/, rt = /[\0\t\n\r #/:<>?@[\\\]^|]/, nt = /^[\u0000-\u0020]+/, it = /(^|[^\u0000-\u0020])[\u0000-\u0020]+$/, ot = /[\t\n\r]/g, st = function(t) {var e, r, n, i;if ("number" == typeof t) {for (e = [],r = 0; r < 4; r++)K(e, t % 256),t = C(t / 256);return M(e, ".")}if ("object" == typeof t) {for (e = "",n = function(t) {for (var e = null, r = 1, n = null, i = 0, o = 0; o < 8; o++)0 !== t[o] ? (i > r && (e = n,r = i),n = null,i = 0) : (null === n && (n = o),++i);return i > r && (e = n,r = i),e}(t),r = 0; r < 8; r++)i && 0 === t[r] || (i && (i = !1),n === r ? (e += r ? ":" : "::",i = !0) : (e += U(t[r], 16),r < 7 && (e += ":")));return "[" + e + "]"}return t}, at = {}, ct = p({}, at, {" ": 1,'"': 1,"<": 1,">": 1,"`": 1}), ut = p({}, ct, {"#": 1,"?": 1,"{": 1,"}": 1}), lt = p({}, ut, {"/": 1,":": 1,";": 1,"=": 1,"@": 1,"[": 1,"\\": 1,"]": 1,"^": 1,"|": 1}), dt = function(t, e) {var r = v(t, 0);return r > 32 && r < 127 && !h(e, t) ? t : encodeURIComponent(t)}, ft = {ftp: 21,file: null,http: 80,https: 443,ws: 80,wss: 443}, ht = function(t, e) {var r;return 2 === t.length && O(z, D(t, 0)) && (":" === (r = D(t, 1)) || !e && "|" === r)}, pt = function(t) {var e;return t.length > 1 && ht(H(t, 0, 2)) && (2 === t.length || "/" === (e = D(t, 2)) || "\\" === e || "?" === e || "#" === e)}, gt = function(t) {return "." === t || "%2e" === G(t)}, mt = {}, vt = {}, yt = {}, _t = {}, bt = {}, wt = {}, Et = {}, Tt = {}, St = {}, At = {}, It = {}, xt = {}, Lt = {}, kt = {}, Rt = {}, Ct = {}, Pt = {}, Dt = {}, Ot = {}, Mt = {}, Ut = {}, Ft = function(t, e, r) {var n, i, o, s = _(t);if (e) {if (i = this.parse(s))throw new k(i);this.searchParams = null} else {if (void 0 !== r && (n = new Ft(r,!0)),i = this.parse(s, null, n))throw new k(i);(o = x(new I)).bindURL(this),this.searchParams = o}};Ft.prototype = {type: "URL",parse: function(t, e, r) {var i, o, s, a, c, u = this, l = e || mt, d = 0, f = "", p = !1, v = !1, y = !1;for (t = _(t),e || (u.scheme = "",u.username = "",u.password = "",u.host = null,u.port = null,u.path = [],u.query = null,u.fragment = null,u.cannotBeABaseURL = !1,t = B(t, nt, ""),t = B(t, it, "$1")),t = B(t, ot, ""),i = g(t); d <= i.length; ) {switch (o = i[d],l) {case mt:if (!o || !O(z, o)) {if (e)return q;l = yt;continue}f += G(o),l = vt;break;case vt:if (o && (O(Y, o) || "+" === o || "-" === o || "." === o))f += G(o);else {if (":" !== o) {if (e)return q;f = "",l = yt,d = 0;continue}if (e && (u.isSpecial() !== h(ft, f) || "file" === f && (u.includesCredentials() || null !== u.port) || "file" === u.scheme && !u.host))return;if (u.scheme = f,e)return void (u.isSpecial() && ft[u.scheme] === u.port && (u.port = null));f = "","file" === u.scheme ? l = kt : u.isSpecial() && r && r.scheme === u.scheme ? l = _t : u.isSpecial() ? l = Tt : "/" === i[d + 1] ? (l = bt,d++) : (u.cannotBeABaseURL = !0,N(u.path, ""),l = Ot)}break;case yt:if (!r || r.cannotBeABaseURL && "#" !== o)return q;if (r.cannotBeABaseURL && "#" === o) {u.scheme = r.scheme,u.path = m(r.path),u.query = r.query,u.fragment = "",u.cannotBeABaseURL = !0,l = Ut;break}l = "file" === r.scheme ? kt : wt;continue;case _t:if ("/" !== o || "/" !== i[d + 1]) {l = wt;continue}l = St,d++;break;case bt:if ("/" === o) {l = At;break}l = Dt;continue;case wt:if (u.scheme = r.scheme,o === n)u.username = r.username,u.password = r.password,u.host = r.host,u.port = r.port,u.path = m(r.path),u.query = r.query;else if ("/" === o || "\\" === o && u.isSpecial())l = Et;else if ("?" === o)u.username = r.username,u.password = r.password,u.host = r.host,u.port = r.port,u.path = m(r.path),u.query = "",l = Mt;else {if ("#" !== o) {u.username = r.username,u.password = r.password,u.host = r.host,u.port = r.port,u.path = m(r.path),u.path.length--,l = Dt;continue}u.username = r.username,u.password = r.password,u.host = r.host,u.port = r.port,u.path = m(r.path),u.query = r.query,u.fragment = "",l = Ut}break;case Et:if (!u.isSpecial() || "/" !== o && "\\" !== o) {if ("/" !== o) {u.username = r.username,u.password = r.password,u.host = r.host,u.port = r.port,l = Dt;continue}l = At} elsel = St;break;case Tt:if (l = St,"/" !== o || "/" !== D(f, d + 1))continue;d++;break;case St:if ("/" !== o && "\\" !== o) {l = At;continue}break;case At:if ("@" === o) {p && (f = "%40" + f),p = !0,s = g(f);for (var b = 0; b < s.length; b++) {var w = s[b];if (":" !== w || y) {var E = dt(w, lt);y ? u.password += E : u.username += E} elsey = !0}f = ""} else if (o === n || "/" === o || "?" === o || "#" === o || "\\" === o && u.isSpecial()) {if (p && "" === f)return "Invalid authority";d -= g(f).length + 1,f = "",l = It} elsef += o;break;case It:case xt:if (e && "file" === u.scheme) {l = Ct;continue}if (":" !== o || v) {if (o === n || "/" === o || "?" === o || "#" === o || "\\" === o && u.isSpecial()) {if (u.isSpecial() && "" === f)return W;if (e && "" === f && (u.includesCredentials() || null !== u.port))return;if (a = u.parseHost(f))return a;if (f = "",l = Pt,e)return;continue}"[" === o ? v = !0 : "]" === o && (v = !1),f += o} else {if ("" === f)return W;if (a = u.parseHost(f))return a;if (f = "",l = Lt,e === xt)return}break;case Lt:if (!O(Q, o)) {if (o === n || "/" === o || "?" === o || "#" === o || "\\" === o && u.isSpecial() || e) {if ("" !== f) {var T = R(f, 10);if (T > 65535)return V;u.port = u.isSpecial() && T === ft[u.scheme] ? null : T,f = ""}if (e)return;l = Pt;continue}return V}f += o;break;case kt:if (u.scheme = "file","/" === o || "\\" === o)l = Rt;else {if (!r || "file" !== r.scheme) {l = Dt;continue}switch (o) {case n:u.host = r.host,u.path = m(r.path),u.query = r.query;break;case "?":u.host = r.host,u.path = m(r.path),u.query = "",l = Mt;break;case "#":u.host = r.host,u.path = m(r.path),u.query = r.query,u.fragment = "",l = Ut;break;default:pt(M(m(i, d), "")) || (u.host = r.host,u.path = m(r.path),u.shortenPath()),l = Dt;continue}}break;case Rt:if ("/" === o || "\\" === o) {l = Ct;break}r && "file" === r.scheme && !pt(M(m(i, d), "")) && (ht(r.path[0], !0) ? N(u.path, r.path[0]) : u.host = r.host),l = Dt;continue;case Ct:if (o === n || "/" === o || "\\" === o || "?" === o || "#" === o) {if (!e && ht(f))l = Dt;else if ("" === f) {if (u.host = "",e)return;l = Pt} else {if (a = u.parseHost(f))return a;if ("localhost" === u.host && (u.host = ""),e)return;f = "",l = Pt}continue}f += o;break;case Pt:if (u.isSpecial()) {if (l = Dt,"/" !== o && "\\" !== o)continue} else if (e || "?" !== o)if (e || "#" !== o) {if (o !== n && (l = Dt,"/" !== o))continue} elseu.fragment = "",l = Ut;elseu.query = "",l = Mt;break;case Dt:if (o === n || "/" === o || "\\" === o && u.isSpecial() || !e && ("?" === o || "#" === o)) {if (".." === (c = G(c = f)) || "%2e." === c || ".%2e" === c || "%2e%2e" === c ? (u.shortenPath(),"/" === o || "\\" === o && u.isSpecial() || N(u.path, "")) : gt(f) ? "/" === o || "\\" === o && u.isSpecial() || N(u.path, "") : ("file" === u.scheme && !u.path.length && ht(f) && (u.host && (u.host = ""),f = D(f, 0) + ":"),N(u.path, f)),f = "","file" === u.scheme && (o === n || "?" === o || "#" === o))for (; u.path.length > 1 && "" === u.path[0]; )j(u.path);"?" === o ? (u.query = "",l = Mt) : "#" === o && (u.fragment = "",l = Ut)} elsef += dt(o, ut);break;case Ot:"?" === o ? (u.query = "",l = Mt) : "#" === o ? (u.fragment = "",l = Ut) : o !== n && (u.path[0] += dt(o, at));break;case Mt:e || "#" !== o ? o !== n && ("'" === o && u.isSpecial() ? u.query += "%27" : u.query += "#" === o ? "%23" : dt(o, at)) : (u.fragment = "",l = Ut);break;case Ut:o !== n && (u.fragment += dt(o, ct))}d++}},parseHost: function(t) {var e, r, n;if ("[" === D(t, 0)) {if ("]" !== D(t, t.length - 1))return W;if (e = function(t) {var e, r, n, i, o, s, a, c = [0, 0, 0, 0, 0, 0, 0, 0], u = 0, l = null, d = 0, f = function() {return D(t, d)};if (":" === f()) {if (":" !== D(t, 1))return;d += 2,l = ++u}for (; f(); ) {if (8 === u)return;if (":" !== f()) {for (e = r = 0; r < 4 && O(tt, f()); )e = 16 * e + R(f(), 16),d++,r++;if ("." === f()) {if (0 === r)return;if (d -= r,u > 6)return;for (n = 0; f(); ) {if (i = null,n > 0) {if (!("." === f() && n < 4))return;d++}if (!O(Q, f()))return;for (; O(Q, f()); ) {if (o = R(f(), 10),null === i)i = o;else {if (0 === i)return;i = 10 * i + o}if (i > 255)return;d++}c[u] = 256 * c[u] + i,2 != ++n && 4 !== n || u++}if (4 !== n)return;break}if (":" === f()) {if (d++,!f())return} else if (f())return;c[u++] = e} else {if (null !== l)return;d++,l = ++u}}if (null !== l)for (s = u - l,u = 7; 0 !== u && s > 0; )a = c[u],c[u--] = c[l + s - 1],c[l + --s] = a;else if (8 !== u)return;return c}(H(t, 1, -1)),!e)return W;this.host = e} else if (this.isSpecial()) {if (t = y(t),O(et, t))return W;if (e = function(t) {var e, r, n, i, o, s, a, c = $(t, ".");if (c.length && "" === c[c.length - 1] && c.length--,(e = c.length) > 4)return t;for (r = [],n = 0; n < e; n++) {if ("" === (i = c[n]))return t;if (o = 10,i.length > 1 && "0" === D(i, 0) && (o = O(X, i) ? 16 : 8,i = H(i, 8 === o ? 1 : 2)),"" === i)s = 0;else {if (!O(10 === o ? Z : 8 === o ? J : tt, i))return t;s = R(i, o)}N(r, s)}for (n = 0; n < e; n++)if (s = r[n],n === e - 1) {if (s >= P(256, 5 - e))return null} else if (s > 255)return null;for (a = F(r),n = 0; n < r.length; n++)a += r[n] * P(256, 3 - n);return a}(t),null === e)return W;this.host = e} else {if (O(rt, t))return W;for (e = "",r = g(t),n = 0; n < r.length; n++)e += dt(r[n], at);this.host = e}},cannotHaveUsernamePasswordPort: function() {return !this.host || this.cannotBeABaseURL || "file" === this.scheme},includesCredentials: function() {return "" !== this.username || "" !== this.password},isSpecial: function() {return h(ft, this.scheme)},shortenPath: function() {var t = this.path, e = t.length;!e || "file" === this.scheme && 1 === e && ht(t[0], !0) || t.length--},serialize: function() {var t = this, e = t.scheme, r = t.username, n = t.password, i = t.host, o = t.port, s = t.path, a = t.query, c = t.fragment, u = e + ":";return null !== i ? (u += "//",t.includesCredentials() && (u += r + (n ? ":" + n : "") + "@"),u += st(i),null !== o && (u += ":" + o)) : "file" === e && (u += "//"),u += t.cannotBeABaseURL ? s[0] : s.length ? "/" + M(s, "/") : "",null !== a && (u += "?" + a),null !== c && (u += "#" + c),u},setHref: function(t) {var e = this.parse(t);if (e)throw new k(e);this.searchParams.update()},getOrigin: function() {var t = this.scheme, e = this.port;if ("blob" === t)try {return new Nt(t.path[0]).origin} catch (t) {return "null"}return "file" !== t && this.isSpecial() ? t + "://" + st(this.host) + (null !== e ? ":" + e : "") : "null"},getProtocol: function() {return this.scheme + ":"},setProtocol: function(t) {this.parse(_(t) + ":", mt)},getUsername: function() {return this.username},setUsername: function(t) {var e = g(_(t));if (!this.cannotHaveUsernamePasswordPort()) {this.username = "";for (var r = 0; r < e.length; r++)this.username += dt(e[r], lt)}},getPassword: function() {return this.password},setPassword: function(t) {var e = g(_(t));if (!this.cannotHaveUsernamePasswordPort()) {this.password = "";for (var r = 0; r < e.length; r++)this.password += dt(e[r], lt)}},getHost: function() {var t = this.host, e = this.port;return null === t ? "" : null === e ? st(t) : st(t) + ":" + e},setHost: function(t) {this.cannotBeABaseURL || this.parse(t, It)},getHostname: function() {var t = this.host;return null === t ? "" : st(t)},setHostname: function(t) {this.cannotBeABaseURL || this.parse(t, xt)},getPort: function() {var t = this.port;return null === t ? "" : _(t)},setPort: function(t) {this.cannotHaveUsernamePasswordPort() || ("" === (t = _(t)) ? this.port = null : this.parse(t, Lt))},getPathname: function() {var t = this.path;return this.cannotBeABaseURL ? t[0] : t.length ? "/" + M(t, "/") : ""},setPathname: function(t) {this.cannotBeABaseURL || (this.path = [],this.parse(t, Pt))},getSearch: function() {var t = this.query;return t ? "?" + t : ""},setSearch: function(t) {"" === (t = _(t)) ? this.query = null : ("?" === D(t, 0) && (t = H(t, 1)),this.query = "",this.parse(t, Mt)),this.searchParams.update()},getSearchParams: function() {return this.searchParams.facade},getHash: function() {var t = this.fragment;return t ? "#" + t : ""},setHash: function(t) {"" !== (t = _(t)) ? ("#" === D(t, 0) && (t = H(t, 1)),this.fragment = "",this.parse(t, Ut)) : this.fragment = null},update: function() {this.query = this.searchParams.serialize() || null}};var Nt = function(t) {var e = f(this, Bt), r = w(arguments.length, 1) > 1 ? arguments[1] : void 0, n = S(e, new Ft(t,!1,r));o || (e.href = n.serialize(),e.origin = n.getOrigin(),e.protocol = n.getProtocol(),e.username = n.getUsername(),e.password = n.getPassword(),e.host = n.getHost(),e.hostname = n.getHostname(),e.port = n.getPort(),e.pathname = n.getPathname(),e.search = n.getSearch(),e.searchParams = n.getSearchParams(),e.hash = n.getHash())}, Bt = Nt.prototype, jt = function(t, e) {return {get: function() {return A(this)[t]()},set: e && function(t) {return A(this)[e](t)},configurable: !0,enumerable: !0}};if (o && (d(Bt, "href", jt("serialize", "setHref")),d(Bt, "origin", jt("getOrigin")),d(Bt, "protocol", jt("getProtocol", "setProtocol")),d(Bt, "username", jt("getUsername", "setUsername")),d(Bt, "password", jt("getPassword", "setPassword")),d(Bt, "host", jt("getHost", "setHost")),d(Bt, "hostname", jt("getHostname", "setHostname")),d(Bt, "port", jt("getPort", "setPort")),d(Bt, "pathname", jt("getPathname", "setPathname")),d(Bt, "search", jt("getSearch", "setSearch")),d(Bt, "searchParams", jt("getSearchParams")),d(Bt, "hash", jt("getHash", "setHash"))),l(Bt, "toJSON", (function() {return A(this).serialize()}), {enumerable: !0}),l(Bt, "toString", (function() {return A(this).serialize()}), {enumerable: !0}),L) {var $t = L.createObjectURL, Ht = L.revokeObjectURL;$t && l(Nt, "createObjectURL", c($t, L)),Ht && l(Nt, "revokeObjectURL", c(Ht, L))}b(Nt, "URL"),i({global: !0,constructor: !0,forced: !s,sham: !o}, {URL: Nt})},33487: function(t, e, r) {"use strict";r(56909)},94783: function() {},86450: function(t, e, r) {"use strict";var n = r(93607);t.exports = n},18402: function(t, e, r) {"use strict";var n = r(13531);t.exports = n},41969: function(t, e, r) {"use strict";var n = r(22092);t.exports = n},33067: function(t, e, r) {"use strict";var n = r(54712);r(12560),t.exports = n},50530: function(t, e, r) {"use strict";var n = r(45837);t.exports = n},85837: function(t, e, r) {"use strict";var n = r(64048);t.exports = n},40587: function(t, e, r) {"use strict";var n = r(22948);t.exports = n},22616: function(t, e, r) {"use strict";var n = r(33155);t.exports = n},70228: function(t, e, r) {"use strict";var n = r(9635);t.exports = n},99617: function(t, e, r) {"use strict";var n = r(63246);t.exports = n},24525: function(t, e, r) {"use strict";var n = r(73948), i = r(49724), o = r(88280), s = r(41969);r(60237);var a = Array.prototype, c = {DOMTokenList: !0,NodeList: !0};t.exports = function(t) {var e = t.forEach;return t === a || o(a, t) && e === a.forEach || i(c, n(t)) ? s : e}},76343: function(t, e, r) {"use strict";var n = r(36880);t.exports = n},98894: function(t, e, r) {"use strict";var n = r(39299);t.exports = n},33266: function(t, e, r) {"use strict";var n = r(78685);t.exports = n},14106: function(t, e, r) {"use strict";var n = r(98059);t.exports = n},6686: function(t, e, r) {"use strict";var n = r(40303);t.exports = n},40026: function(t, e, r) {"use strict";var n = r(95029);t.exports = n},12268: function(t, e, r) {"use strict";var n = r(67961);t.exports = n},34598: function(t, e, r) {"use strict";var n = r(8661);t.exports = n},76660: function(t, e, r) {"use strict";var n = r(10317);t.exports = n},40975: function(t, e, r) {"use strict";var n = r(9748);t.exports = n},93658: function(t, e, r) {"use strict";var n = r(80149);t.exports = n},68251: function(t, e, r) {"use strict";var n = r(21926);t.exports = n},46513: function(t, e, r) {"use strict";var n = r(95092);t.exports = n},93220: function(t, e, r) {"use strict";var n = r(69147);t.exports = n},69563: function(t, e, r) {"use strict";var n = r(94776);t.exports = n},49261: function(t, e, r) {"use strict";var n = r(56286);t.exports = n},76490: function(t, e, r) {"use strict";var n = r(19661);t.exports = n},27777: function(t, e, r) {"use strict";var n = r(61418);t.exports = n},45204: function(t, e, r) {"use strict";var n = r(97027);r(12560),t.exports = n},74674: function(t, e, r) {"use strict";r(73342);var n = r(92046);t.exports = n.setInterval},70568: function(t, e, r) {"use strict";r(73342);var n = r(92046);t.exports = n.setTimeout},24139: function(t, e, r) {"use strict";var n = r(83842);r(12560),t.exports = n},27045: function(t, e, r) {"use strict";var n = r(1730);r(12560),t.exports = n},10070: function(t, e, r) {"use strict";var n = r(31661);t.exports = n},48348: function(t, e, r) {"use strict";var n = r(59076);r(12560),t.exports = n},49792: function(t, e, r) {"use strict";var n = r(56908);t.exports = n},59076: function(t, e, r) {"use strict";r(66299),r(75042),r(17649),r(83604);var n = r(92046);t.exports = n.URLSearchParams},56908: function(t, e, r) {"use strict";r(59076),r(33487),r(28669),r(94783);var n = r(92046);t.exports = n.URL},34963: function(t, e, r) {"use strict";r.d(e, {A: function() {return o}});var n = r(87166);function i(t, e, r, i, o, s, a) {try {var c = t[s](a), u = c.value} catch (t) {return void r(t)}c.done ? e(u) : n.resolve(u).then(i, o)}function o(t) {return function() {var e = this, r = arguments;return new n((function(n, o) {var s = t.apply(e, r);function a(t) {i(s, n, o, a, c, "next", t)}function c(t) {i(s, n, o, a, c, "throw", t)}a(void 0)}))}}},3300: function(t, e, r) {"use strict";r.d(e, {A: function() {return a}});var n = r(84997), i = r(22204), o = r(19280);function s(t) {var e = function(t, e) {if ("object" != (0,i.A)(t) || !t)return t;var r = t[o];if (void 0 !== r) {var n = r.call(t, e || "default");if ("object" != (0,i.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return ("string" === e ? String : Number)(t)}(t, "string");return "symbol" == (0,i.A)(e) ? e : String(e)}function a(t, e, r) {return (e = s(e))in t ? n(t, e, {value: r,enumerable: !0,configurable: !0,writable: !0}) : t[e] = r,t}},9882: function(t, e, r) {"use strict";r.d(e, {A: function() {return u}});var n = r(31564);function i(t, e) {(null == e || e > t.length) && (e = t.length);for (var r = 0, n = new Array(e); r < e; r++)n[r] = t[r];return n}var o = r(32321), s = r(99029), a = r(8980);var c = r(64908);function u(t) {return function(t) {if (n(t))return i(t)}(t) || function(t) {if (void 0 !== o && null != s(t) || null != t["@@iterator"])return a(t)}(t) || function(t, e) {var r;if (t) {if ("string" == typeof t)return i(t, e);var n = c(r = Object.prototype.toString.call(t)).call(r, 8, -1);return "Object" === n && t.constructor && (n = t.constructor.name),"Map" === n || "Set" === n ? a(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? i(t, e) : void 0}}(t) || function() {throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},22204: function(t, e, r) {"use strict";r.d(e, {A: function() {return o}});var n = r(32321), i = r(22231);function o(t) {return o = "function" == typeof n && "symbol" == typeof i ? function(t) {return typeof t}: function(t) {return t && "function" == typeof n && t.constructor === n && t !== n.prototype ? "symbol" : typeof t},o(t)}},58168: function(t, e, r) {"use strict";function n() {return n = Object.assign ? Object.assign.bind() : function(t) {for (var e = 1; e < arguments.length; e++) {var r = arguments[e];for (var n in r)Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n])}return t},n.apply(this, arguments)}r.d(e, {A: function() {return n}})},64198: function(t) {"use strict";t.exports = JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}}, __webpack_module_cache__ = {}, deferred, leafPrototypes, getProto, inProgress, dataWebpackPrefix;function __webpack_require__(t) {var e = __webpack_module_cache__[t];if (void 0 !== e)return e.exports;var r = __webpack_module_cache__[t] = {exports: {}};return __webpack_modules__[t].call(r.exports, r, r.exports, __webpack_require__),r.exports}__webpack_require__.m = __webpack_modules__,deferred = [],__webpack_require__.O = function(t, e, r, n) {if (!e) {var i = 1 / 0;for (c = 0; c < deferred.length; c++) {e = deferred[c][0],r = deferred[c][1],n = deferred[c][2];for (var o = !0, s = 0; s < e.length; s++)(!1 & n || i >= n) && Object.keys(__webpack_require__.O).every((function(t) {return __webpack_require__.O[t](e[s])})) ? e.splice(s--, 1) : (o = !1,n < i && (i = n));if (o) {deferred.splice(c--, 1);var a = r();void 0 !== a && (t = a)}}return t}n = n || 0;for (var c = deferred.length; c > 0 && deferred[c - 1][2] > n; c--)deferred[c] = deferred[c - 1];deferred[c] = [e, r, n]},__webpack_require__.n = function(t) {var e = t && t.__esModule ? function() {return t.default}: function() {return t};return __webpack_require__.d(e, {a: e}),e},getProto = Object.getPrototypeOf ? function(t) {return Object.getPrototypeOf(t)}: function(t) {return t.__proto__},__webpack_require__.t = function(t, e) {if (1 & e && (t = this(t)),8 & e)return t;if ("object" == typeof t && t) {if (4 & e && t.__esModule)return t;if (16 & e && "function" == typeof t.then)return t}var r = Object.create(null);__webpack_require__.r(r);var n = {};leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];for (var i = 2 & e && t; "object" == typeof i && !~leafPrototypes.indexOf(i); i = getProto(i))Object.getOwnPropertyNames(i).forEach((function(e) {n[e] = function() {return t[e]}}));return n.default = function() {return t},__webpack_require__.d(r, n),r},__webpack_require__.d = function(t, e) {for (var r in e)__webpack_require__.o(e, r) && !__webpack_require__.o(t, r) && Object.defineProperty(t, r, {enumerable: !0,get: e[r]})},__webpack_require__.f = {},__webpack_require__.e = function(t) {return Promise.all(Object.keys(__webpack_require__.f).reduce((function(e, r) {return __webpack_require__.f[r](t, e),e}), []))},__webpack_require__.u = function(t) {return "static/js/" + t + "." + {164: "50d809d32607a78b7d53",332: "60782aa0c10c033addaf",536: "f67285ec10e632c4c6dd",577: "65c6c03a56a5b1380537",811: "0e0177a99a50be108368",948: "b1d592314bb19f3acb62",1160: "c96a3b24b2838f1aed37",1677: "b1c1c73712cf3f7abc5e",1884: "bd3b133d09e9a8502e11",1987: "7ceeaa134e6d257685fc",2719: "db7460ae5555a064bf67",2861: "b0c5bcfbf90174f28b7d",3028: "ef1ffa918e8670b1c832",3109: "830db249ac3f53dd9319",3375: "a00429d764f3ba32ad9d",3557: "7246a4d97715b9831730",3585: "25000a0f5dee9e54c823",3841: "3173289e14071045b679",3973: "25f20c8da3280775a21a",4121: "03a55e2891a15cb65521",4239: "79564c0d17b8992f80c7",4276: "b93e37eb07c416cbfa66",4432: "03c3aeecd9fefe6447d4",4559: "c5a909e5848b77e063c3",4671: "84bb6afd281cb1aac498",4955: "522f8bc155a06c0c556c",5035: "610c5b181edf3b5ae87b",5337: "24181853f29ddad55acf",5429: "ea274b83b8850c57e4be",5717: "58163c1af897f5b56a26",5720: "64651604e96ff4d3e507",5782: "3343dd8e989aa22e5559",5843: "cc6ba7db2b502a2aaa07",6090: "b3b1a54febee9b0fb968",6269: "8c201b540711c5c8c258",6331: "ad38901c340a12480cf9",6498: "ef8d6566f3e7121e7ab6",6620: "c00e947a91faec032043",6622: "4f3fda11bfcfecff754a",6685: "95a0996955032144eeb1",7049: "86d7ba45491b4666ed5c",7056: "232e0b4e8278163d8ca8",7185: "427505ee322a80770179",7194: "7e41a1ea5d9e59de4deb",7213: "d147920fda90ff3fa31c",7256: "e8e39d54675cd198279b",7515: "9f7941b29d43931719e1",7533: "1f5befcf99cbe64df8f8",7543: "7b12c8f4b9e51280f777",7834: "6558fb9ed9a74ad6d21a",7922: "1e6e82b335440588c049",8071: "d7e007801b4ca0b9ed4b",8155: "a5abbf4e9869eb2b3b71",8195: "3c09cbb3678cfdbdab41",8534: "ddb380bfa1a9a8b5ed92",8784: "b71eb1122d9a21619032",8981: "f25761dc53edadb3c1aa",9098: "17a23f643dc2cf722fec",9245: "8759c18b0996528eadb7",9573: "546110672040f7e9d596",9854: "f64f91da09e98d6f704a"}[t] + ".js"},__webpack_require__.miniCssF = function(t) {return "static/css/" + t + "." + {164: "b872492147d3ac5787af",332: "6623b94353695fba1f30",577: "bf5e160fdb408956480e",948: "50c6a98fad03e9b6fc6e",1160: "809303ddf91529a233bd",1677: "d38f0746ba1ef8023764",1987: "8d65f1e930a92c758f3e",2719: "a0f2997d7358c43604af",2861: "71fc4be90e0606288cac",3028: "682039bfc6c8b6c540fc",3109: "8ddf9c30b07663d3012b",3375: "8921c5de8ed05163430e",3557: "4e980ac41ab0dd8e14f0",3841: "7fc0e7a59fec4a63a51f",3973: "0c060f39a65ea02b79da",4121: "97b64c12d7c053a225ba",4432: "75262e6d4943ec40fc25",4559: "f640569787e4d4b9c026",4671: "90916b489587abaa033a",4955: "ea6378e675c39ec965b8",5035: "d7057c2a15a52c29e921",5337: "379434a2f163d2736ad5",5717: "7ddb8a7f17952b45af49",5782: "585b52f8dfa48fdec408",5843: "4ee90cc9b44338bb991e",6090: "ea109dd9e7069ffe2d72",6269: "18b240b2503ed8e852aa",6331: "73408b624c2aff5cc796",6498: "0ff5ffd5b2a7f69d2828",6622: "19cf5fe92686c27f996b",6685: "1e161768ceddd56aff70",7049: "bc6378a22775d1ad27d5",7056: "ecf671e9e10e193266dc",7185: "908a4777340aac588d50",7194: "6f000ff5fd1ab22fb0e6",7213: "60815472322a5e2fda03",7256: "7cff8b8827218e0247ad",7543: "84a830ba3227be75ecc1",7834: "593b4b73b258fd1bbc83",7922: "230e00f63da7bb0cae4c",8071: "11f29616dc6dd21696f9",8195: "2f1c116c998c269f8757",8534: "a7c1e2f5bb4aca3ad852",8784: "db4b5cd708802582add1",8981: "1eadcd0257b80f734cbb",9245: "cd54991253cd028ab979",9573: "7729362258b9b0356672",9854: "da41b0e7c7c64d2cae2a"}[t] + ".css"},__webpack_require__.g = function() {if ("object" == typeof globalThis)return globalThis;try {return this || new Function("return this")()} catch (t) {if ("object" == typeof window)return window}}(),__webpack_require__.o = function(t, e) {return Object.prototype.hasOwnProperty.call(t, e)},inProgress = {},dataWebpackPrefix = "combination_template:",__webpack_require__.l = function(t, e, r, n) {if (inProgress[t])inProgress[t].push(e);else {var i, o;if (void 0 !== r)for (var s = document.getElementsByTagName("script"), a = 0; a < s.length; a++) {var c = s[a];if (c.getAttribute("src") == t || c.getAttribute("data-webpack") == dataWebpackPrefix + r) {i = c;break}}i || (o = !0,(i = document.createElement("script")).charset = "utf-8",i.timeout = 120,__webpack_require__.nc && i.setAttribute("nonce", __webpack_require__.nc),i.setAttribute("data-webpack", dataWebpackPrefix + r),i.src = t),inProgress[t] = [e];var u = function(e, r) {i.onerror = i.onload = null,clearTimeout(l);var n = inProgress[t];if (delete inProgress[t],i.parentNode && i.parentNode.removeChild(i),n && n.forEach((function(t) {return t(r)})),e)return e(r)}, l = setTimeout(u.bind(null, void 0, {type: "timeout",target: i}), 12e4);i.onerror = u.bind(null, i.onerror),i.onload = u.bind(null, i.onload),o && document.head.appendChild(i)}},__webpack_require__.r = function(t) {"undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {value: "Module"}),Object.defineProperty(t, "__esModule", {value: !0})},__webpack_require__.p = "https://h5cdn.migufun.com/miguplay/delivery/activity/",function() {if ("undefined" != typeof document) {var t = function(t) {return new Promise((function(e, r) {var n = __webpack_require__.miniCssF(t), i = __webpack_require__.p + n;if (function(t, e) {for (var r = document.getElementsByTagName("link"), n = 0; n < r.length; n++) {var i = (s = r[n]).getAttribute("data-href") || s.getAttribute("href");if ("stylesheet" === s.rel && (i === t || i === e))return s}var o = document.getElementsByTagName("style");for (n = 0; n < o.length; n++) {var s;if ((i = (s = o[n]).getAttribute("data-href")) === t || i === e)return s}}(n, i))return e();!function(t, e, r, n, i) {var o = document.createElement("link");o.rel = "stylesheet",o.type = "text/css",__webpack_require__.nc && (o.nonce = __webpack_require__.nc),o.onerror = o.onload = function(r) {if (o.onerror = o.onload = null,"load" === r.type)n();else {var s = r && r.type, a = r && r.target && r.target.href || e, c = new Error("Loading CSS chunk " + t + " failed.\n(" + s + ": " + a + ")");c.name = "ChunkLoadError",c.code = "CSS_CHUNK_LOAD_FAILED",c.type = s,c.request = a,o.parentNode && o.parentNode.removeChild(o),i(c)}},o.href = e,r ? r.parentNode.insertBefore(o, r.nextSibling) : document.head.appendChild(o)}(t, i, null, e, r)}))}, e = {3524: 0};__webpack_require__.f.miniCss = function(r, n) {e[r] ? n.push(e[r]) : 0 !== e[r] && {164: 1,332: 1,577: 1,948: 1,1160: 1,1677: 1,1987: 1,2719: 1,2861: 1,3028: 1,3109: 1,3375: 1,3557: 1,3841: 1,3973: 1,4121: 1,4432: 1,4559: 1,4671: 1,4955: 1,5035: 1,5337: 1,5717: 1,5782: 1,5843: 1,6090: 1,6269: 1,6331: 1,6498: 1,6622: 1,6685: 1,7049: 1,7056: 1,7185: 1,7194: 1,7213: 1,7256: 1,7543: 1,7834: 1,7922: 1,8071: 1,8195: 1,8534: 1,8784: 1,8981: 1,9245: 1,9573: 1,9854: 1}[r] && n.push(e[r] = t(r).then((function() {e[r] = 0}), (function(t) {throw delete e[r],t})))}}}(),function() {var t = {3524: 0};__webpack_require__.f.j = function(e, r) {var n = __webpack_require__.o(t, e) ? t[e] : void 0;if (0 !== n)if (n)r.push(n[2]);else if (4121 != e) {var i = new Promise((function(r, i) {n = t[e] = [r, i]}));r.push(n[2] = i);var o = __webpack_require__.p + __webpack_require__.u(e), s = new Error;__webpack_require__.l(o, (function(r) {if (__webpack_require__.o(t, e) && (0 !== (n = t[e]) && (t[e] = void 0),n)) {var i = r && ("load" === r.type ? "missing" : r.type), o = r && r.target && r.target.src;s.message = "Loading chunk " + e + " failed.\n(" + i + ": " + o + ")",s.name = "ChunkLoadError",s.type = i,s.request = o,n[1](s)}}), "chunk-" + e, e)} elset[e] = 0},__webpack_require__.O.j = function(e) {return 0 === t[e]};var e = function(e, r) {var n, i, o = r[0], s = r[1], a = r[2], c = 0;if (o.some((function(e) {return 0 !== t[e]}))) {for (n in s)__webpack_require__.o(s, n) && (__webpack_require__.m[n] = s[n]);if (a)var u = a(__webpack_require__)}for (e && e(r); c < o.length; c++)i = o[c],__webpack_require__.o(t, i) && t[i] && t[i][0](),t[i] = 0;return __webpack_require__.O(u)}, r = self.webpackChunkcombination_template = self.webpackChunkcombination_template || [];r.forEach(e.bind(null, 0)),r.push = e.bind(null, r.push.bind(r))}();var __webpack_exports__ = __webpack_require__.O(void 0, [6012], (function() {return __webpack_require__(9303)}));__webpack_exports__ = __webpack_require__.O(__webpack_exports__)})();
